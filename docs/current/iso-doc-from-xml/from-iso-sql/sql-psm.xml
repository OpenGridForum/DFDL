<?xml version="1.0" encoding="UTF-8"?>
<!--
                                                                                                   1
         1         2         3         4         5         6         7         8         9         0
1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
-->
<!DOCTYPE standard SYSTEM "Standard.dtd" [

  <!ENTITY % winansi SYSTEM "./winansi.entities">
  %winansi;

  <!ENTITY ednotes SYSTEM "./sql-psm_editor_notes.xml">

  <!ENTITY forewordBoilerplatePart1 SYSTEM "./forewordBoilerplatePart1.xml">
  <!ENTITY forewordBoilerplatePart2For9075 SYSTEM "./forewordBoilerplatePart2For9075.xml">

  <!ENTITY normativeReferencesBoilerplate SYSTEM "./normativeReferencesBoilerplate.xml">

  <!ENTITY termsAndDefinitionsBoilerplate SYSTEM "./termsAndDefinitionsBoilerplate.xml">

<!-- docName identifies the document by its "common name" -->
  <!ENTITY docName "Persistent Stored Modules (SQL/PSM)">

<!-- docTitleEnglish gives the full name of the document in English -->
  <!ENTITY docTitleEnglish1 "Information technology &mdash; Database language SQL &mdash;">
  <!ENTITY docTitleEnglish2 "Part 4:">
  <!ENTITY docTitleEnglish3 "Persistent Stored Modules (SQL/PSM)">
  <!ENTITY docTitleEnglish4 "">

<!-- docTitleFrench gives the full name of the document in French -->
  <!ENTITY docTitleFrench1 "Technologies de l&rsquo;information &mdash;
           Langage de base de donn&eacute;es SQL &mdash;">
  <!ENTITY docTitleFrench2 "Partie 4: Modules stock&eacute;s persistants (SQL/PSM)">
  <!ENTITY docTitleFrench3 "">
]>

<?xml-stylesheet type="text/xsl" href="StandardMaster.xsl"?>

<!-- "documentNumber" @ top of each page; "documentShortname" @ bottom -->

  <standard documentType="International_Standard"
             documentLanguage="English"
             documentShortname="&docName;"
             standard="9075"
             isoNumber="9075-4"
             partNumber2digit="04"
             principleEditor="J&ouml;rn Bartels"
             associateEditor="Jim Melton">


<comment>SQL/PSM (SQL-PSM.XML) --- SQL Persistent Stored Modules</comment>

<coverPage>

<SCtitle>ISO/IEC JTC 1/SC 32</SCtitle>
<WGtitle>ISO/IEC JTC 1/SC 32/WG 3</WGtitle>
<secretariat>The United States of America (ANSI)</secretariat>

<partTitleEnglish>
  <partTitleEnglish1>&docTitleEnglish1; </partTitleEnglish1>
  <partTitleEnglish2>&docTitleEnglish2; </partTitleEnglish2>
  <partTitleEnglish3>&docTitleEnglish3;</partTitleEnglish3>
</partTitleEnglish>

<partTitleFrench>
  <partTitleFrench1>&docTitleFrench1;</partTitleFrench1>
  <partTitleFrench2>&docTitleFrench2;</partTitleFrench2>
</partTitleFrench>

</coverPage>

<copyrightNoticePage/>

<standardPartBody>

<partHeading/>

<partTitle>
  <partTitleOne>&docTitleEnglish1;</partTitleOne>
  <partTitleTwo>&docTitleEnglish2;</partTitleTwo>
  <partTitleThree>&docTitleEnglish3;</partTitleThree>
</partTitle>


<foreword id="psm_preface">
<forewordHeading>Foreword</forewordHeading>

<forewordBody>

<bodyMatter>

<comment>Include a file with the proper boilerplate text, as it changes every now and then</comment>
&forewordBoilerplatePart1;

<comment>DBL:MAD-271/X3H2-97-???</comment>
<comment>CD1/2004, USA-P02-001</comment>
<comment>FCD/2007, ISO-Pxx-004 </comment>
<comment>WG3:CJU-045R1 = H2-2009-00xxx</comment>
<comment>FCD1/2010, P**-ITF-005</comment>
<comment>WG3:UTC-013 P04-ISO-010</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<para>This eighth edition of ISO/IEC 9075-4 cancels and replaces the seventh edition
(ISO/IEC 9075-4:2023), which has been technically revised.
<!-- It also incorporates the Technical Corrigenda ISO/IEC 9075-4:2016/Cor.1:2019(E) 
 and ISO/IEC 9075-4:2016/Cor.2:2022(E). -->
</para>

<para>The main changes compared to the previous edition are as follows:
</para>

<comment>WG3:UTC-013 P16-ISO-007</comment>
<ulist>

<item>TO BE SUPPLIED.
</item>

</ulist>

<comment>WG3:UTC-013 P01-DEU-002</comment>
<comment>WG3:UTC-013 P04-ISO-013</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<para>This eighth edition of ISO/IEC 9075-4 is designed to be used in conjunction
with the following editions of other parts of the ISO/IEC 9075 series, all published in
20xx:
</para>

<comment>WG3:UTC-013 P16-ISO-007</comment>
<ulist>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-1, seventh edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-2, seventh edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-3, seventh edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-9, sixth edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-10, sixth edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-11, sixth edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-13, sixth edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-14, seventh edition;
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-15, third edition
</item>

<comment>Editors' meeting, 2018-11-27</comment>
<comment>Updated edition information for post-2023 informal working drafts</comment>
<item>ISO/IEC 9075-16, second edition.
</item>

</ulist>

&forewordBoilerplatePart2For9075;

</bodyMatter>

</forewordBody>

</foreword>


<intro id="psm_introduction">
<introHeading>Introduction</introHeading>

<introBody>

<bodyMatter>

<comment>Instructions on FCD from John Spangler</comment>
<para>The organization of this document is as follows:
</para>

<olist>

<comment>Instructions on FCD from John Spangler</comment>
<item><specref ref="psm_scope"/>, specifies the scope of
this document.
</item>

<comment>Instructions on FCD from John Spangler</comment>
<item><specref ref="psm_refer"/>, identifies additional standards that,
through reference in this document, constitute
provisions of this document.
</item>

<comment>Instructions on FCD from John Spangler</comment>
<item><specref ref="psm_definitions"/>, defines the terms and
definitions used in this document.
</item>

<item><specref ref="psm_conc"/>, presents concepts used in the definition
of persistent stored modules.
</item>

<item><specref ref="psm_lexical"/>, defines a number of lexical elements
used in the definition of persistent stored modules.
</item>

<item><specref ref="psm_scalars"/>, defines a number of scalar expressions
used in the definition of persistent stored modules.
</item>

<item><specref ref="psm_queries"/>, defines the elements of the language that
produce rows and tables of data as used in persistent stored modules.
</item>

<item><specref ref="psm_common_rules"/>, specifies the rules for
assignments that retrieve data from or store data into SQL-data, and
formation rules for set operations.
</item>

<item><specref ref="psm_common"/>, defines additional common elements used
in the definition of persistent stored modules.
</item>

<item><specref ref="psm_sdl"/>, defines the schema definition and
manipulation statements associated with the definition of persistent
stored modules.
</item>

<comment>DBL:CWB-014R1/X3H2-98-057</comment>
<item><specref ref="psm_access"/>, defines facilities for controlling
access to SQL-data.
</item>

<item><specref ref="psm_mods"/>, defines the facilities for using
persistent stored modules.
</item>

<item><specref ref="psm_dml"/>, defines data manipulation operations
associated with persistent stored modules.
</item>

<item><specref ref="psm_add_dm_rules"/>, defines additional
rules for data manipulation.
</item>

<item><specref ref="psm_control"/>, defines the control statements used
with persistent stored modules.
</item>

<item><specref ref="psm_dynsql"/>, defines the facilities for executing
SQL-statements dynamically in the context of persistent stored modules.
</item>

<item><specref ref="psm_esyn"/>, defines the host language embeddings.
</item>

<comment>Editorial correctness; Jim Melton, 2023-03-22</comment>
<item><specref ref="psm_direct"/>, defines direct invocation of SQL language.
</item>

<item><specref ref="psm_diagnostics"/>, defines enhancements to the
facilities used with persistent stored modules.
</item>

<item><specref ref="psm_stabs"/>, defines the Information and Definition
Schema objects associated with persistent stored modules.
</item>

<comment>FCD1/1998 USA-P02-362, editorially</comment>
<item><specref ref="psm_sit_base_tables"/>, defines base tables on which the
viewed tables containing schema information depend.
</item>

<item><specref ref="psm_status"/>, defines <kw>SQLSTATE</kw> values related to
persistent stored modules.
</item>

<comment>Instructions on FCD from John Spangler</comment>
<item><specref ref="psm_conform"/>, defines the criteria for conformance to
this document.
</item>

<comment>WG3:BBN-085R1/X3H2-98-232R2</comment>
<comment>CAN-59/0.8</comment>
<comment>KAW-057/X3H2-92-034 UK-prb-01</comment>
<item><specref ref="psm_conform_summary"/>, is an informative Annex.
It summarizes the conformance requirements of the SQL language.
</item>

<comment>FCD1/1998 GBR-P02-354</comment>
<comment>Email re: FCD1:1998 sneak peek 2 from Stephen Cannan on 18-Feb-1999</comment>
<item><specref ref="psm_impdef"/>, is an informative Annex.
It lists those features for which the body of this document states that the
syntax, the meaning, the returned results, the effect on SQL-data and/or
schemas, or other aspect is partly or wholly <impDef annex="no" code="None"/>.
</item>

<comment>FCD1/1998 GBR-P02-354</comment>
<comment>Email re: FCD1:1998 sneak peek 2 from Stephen Cannan on 18-Feb-1999</comment>
<item><specref ref="psm_undef"/>, is an informative Annex.
It lists those features for which the body of this document states that the
syntax, the meaning, the returned results, the effect on SQL-data and/or
schemas, or other aspect is partly or wholly <unDef annex="no" code="None"/>.
</item>

<comment>WG3:BBN-101/X3H2-98-309R1</comment>
<comment>FCD1/1998 GBR-P02-354</comment>
<comment>WG3:DRS-040R3/H2-2002-___</comment>
<comment>WG3:BWU-036 = H2-2008-___</comment>
<item><specref ref="psm_taxonomy"/>, is an informative Annex.
It identifies the optional features of the SQL language specified in this document
by an identifier and a short descriptive name.
This taxonomy is used to specify conformance.
</item>

<comment>FCD1/1998 GBR-P02-354</comment>
<comment>WG3:UTC-013 P10-ISO-016</comment>
<item><specref ref="psm_deprcat"/>, is an informative Annex.
It lists features that the responsible Technical Committee intends not to include
in a future edition of this document.
</item>

<comment>FCD1/1998 GBR-P02-354</comment>
<item><specref ref="psm_incompat"/>, is an informative Annex.
It lists incompatibilities with the previous edition of this document.
</item>

<comment>WG3:ZSH-116 = H2-2003-___</comment>
<comment>WG3:UTC-013 P04-ISO-013</comment>
<item><specref ref="psm_defects"/>, is an informative Annex.
It describes the Defect Reports that were known at the time of publication of this document.
Each of these problems is a problem carried forward from the previous edition of 
the ISO/IEC 9075 series.
No new problems have been created in the drafting of this edition of this document.
</item>

</olist>

<comment>Instructions on FCD from John Spangler</comment>
<para>In the text of this document, in <specref ref="psm_lexical"/>, through
<specref ref="psm_conform"/>, Subclauses begin new pages.
Any resulting blank space is not significant.
</para>

</bodyMatter>

</introBody>

</intro>


<clause id="psm_scope">
<clauseHeading>Scope</clauseHeading>

<bodyMatter>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Instructions on FCD from John Spangler</comment>
<comment>DBL:RIO-142.USA-1/X3H2-95-039</comment>
<comment>DBL:MAD-129/X3H2-96-523</comment>
<para>This document specifies the syntax and
semantics of a database language for declaring and maintaining persistent
database language routines in SQL-server modules.
</para>

<comment>DBL:RIO-142.USA-1/X3H2-95-039</comment>
<comment>IS Sneak Peek review from Krishna Kulkarni, email dated 7 Nov 1996</comment>
<comment>IS Sneak Peek comment from Stephen Cannan, email dated 11 Nov 1996</comment>
<para>The database language for <BNF name="externally-invoked procedure" part="02"/>s and
<BNF name="SQL-invoked routine"/>s includes the following capabilities. 
</para>

<ulist>

<comment>DBL:MAD-129/X3H2-96-523</comment>
<item>The specification of statements to direct the flow of control.
</item>

<comment>DBL:RIO-142.USA-1/X3H2-95-039</comment>
<item>The assignment of the result of expressions to variables and
parameters.
</item>

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<item>The specification of condition handlers that allow SQL-invoked
routines to deal with various conditions that arise during their
execution.
</item>

<comment>DBL:MAD-129/X3H2-96-523</comment>
<item>The specification of statements to signal and resignal conditions.
</item>

<comment>DBL:MCI-129/X3H2-96-202</comment>
<comment>WG3:WLG-043R1</comment>
<item>The declaration of standing SQL-server cursors.
</item>

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<item>The declaration of local variables.
</item>

</ulist>

<comment>Hugh Darwen sneak-peek comments on Clauses 1 to 3</comment>
<comment>DBL:MAD-129/X3H2-96-523</comment>
<para>It also includes the definition of the Information Schema tables that
contain schema information pertaining to SQL-server modules and
SQL-invoked routines.
</para>

</bodyMatter>

</clause>


<clause id="psm_refer">
<clauseHeading>Normative references</clauseHeading>

<bodyMatter>

<comment>Instructions from Laura Thommen-Vidale at ITTF</comment>
<comment>FDIS1SP1, 2003</comment>
<para>&normativeReferencesBoilerplate;
</para>

<normativeReferences>

<comment>DCOR/2004 USA-P04-010</comment>
<comment>WG3:DRS-127/H2-2002-___ deleted references to ASN.1</comment>
<comment>FCD1/1998 USA-P02-002</comment>
<comment>DBL:MAD-271/X3H2-97-???</comment>
<comment>Instructions on FCD from John Spangler</comment>
<comment>Editorially while editing CD1/2000</comment>
<comment>CD1/2005, USA-P04-010</comment>
<comment>WG3:CJU-045R1 = H2-2009-00xxx</comment>
<referencedDocument id="ISO9075-1"/>

<comment>DCOR/2004 USA-P04-010</comment>
<comment>Editorially while editing CD1/2000</comment>
<comment>CD1/2005, USA-P04-010</comment>
<comment>WG3:CJU-045R1 = H2-2009-00xxx</comment>
<referencedDocument id="ISO9075-2"/>

<comment>Editorial; Jim Melton, 2022-07-22</comment>
<comment>WG3:UTC-013 P04-ISO-010</comment>
<comment>DCOR/2004 USA-P04-010</comment>
<comment>Editorially while editing CD1/2000</comment>
<comment>CD1/2005, USA-P04-010</comment>
<comment>WG3:CJU-045R1 = H2-2009-00xxx</comment>
<referencedDocument id="ISO9075-11"/>

</normativeReferences>

</bodyMatter>

</clause>


<clause id="psm_definitions">
<clauseHeading>Terms and definitions</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<comment>WG3:UTC-013 P04-ISO-008</comment>

<termsBoilerplate>

<comment>WG3:UTC-013 P04-ISO-006</comment>
<comment>editorial: Joern Bartels 2023-04-03 changed as requested by ISO CS</comment>
<para>For the purposes of this document, the terms and definitions given in 
<docref ref="ISO9075-1"/> and <docref ref="ISO9075-2"/> apply.
</para>

&termsAndDefinitionsBoilerplate;

</termsBoilerplate>

</clause>


<comment>WG3:ZSH-124 = H2-2002-___ deleted 1 Subclause.</comment>
<comment>WG3:DRS-074R1/H2-2002-___ deleted the object identifier Subclause</comment>
<clause id="psm_conc">
<clauseHeading>Concepts</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_conc"/>


<comment>2021-08-27, Jim Melton normalizing first bit of Concepts</comment>
<subClause id="psm_notations">
<clauseHeading>Notations and conventions</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_notations"/>


<subClause2 id="psm_note">
<clauseHeading>Notations</clauseHeading>

<modifiesPart part="02" ref="fnd_note"/>

<bodyMatter>

<comment>Editorial: Joern Bartels 2023-06-13 Added change instruction</comment>
<para><mergeWith part="02"><addPara ref="fnd_notations_2" position="after"></addPara></mergeWith>
The notations used in this document are defined in <docref ref="ISO9075-1"/>.
</para>

<comment>Editorial: Joern Bartels 2023-06-13 Added change instruction</comment>
<para><mergeWith part="02"><addPara ref="fnd_notations_2" position="after"></addPara></mergeWith>
<digitalArtifact type="BNFText"/>
</para>

</bodyMatter>

</subClause2>


<comment>DBL:RIO-142.USA-6/X3H2-95-039</comment>
<subClause2 id="psm_use_of_terms">
<clauseHeading>Use of terms</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_use_of_terms"/>

<bodyMatter>

<comment>X3H2-95-163/DBL:YOW-045</comment>
<comment>ad hoc motion, agenda item 20.1, DIS Editing Meeting</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Jim Melton, 2024-03-05; no BNF in newterm</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_use_of_terms_para_directres"/>
</mergeWith>
An SQL-statement <symdef>S1</symdef> is said to be executed as 
a <newterm>direct result of executing an SQL control statement</newterm>
<symdef>S2</symdef> if <sym>S2</sym> contains <sym>S1</sym>.
</para>

<comment>DBL:BBN-201/X3H2-98-418</comment>
<comment>Email from Paul Cotton on 6-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_use_of_terms_para_directres"/>
</mergeWith>
The phrase <quote>The scope of a <BNF name="handler declaration"/> contained in
a <symdef>Y</symdef> is that <sym>Y</sym>, excluding every
<BNF name="SQL schema statement" part="02"/> contained in that <sym>Y</sym></quote> means that the
scope of the <BNF name="handler declaration"/> does not extend to SQL-statements
contained in such an <BNF part="02" name="SQL schema statement"/>; it does, however, extend
to the <BNF part="02" name="SQL schema statement"/> itself.
</para>

</bodyMatter>

</subClause2>

</subClause>



<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<subClause id="psm_modules">
<clauseHeading>SQL-server modules</clauseHeading>

<bodyMatter>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<para>An <newterm>SQL-server module</newterm> is a persistent object defined in a schema
and identified by an <BNF name="SQL-server module name"/>.
SQL-server modules are created with <BNF name="SQL-server module definition"/>s and destroyed with
<BNF name="drop module statement"/>s and by <BNF part="02" name="drop schema statement"/>s that
destroy the schemas that contain them.
</para>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>WG3:UKB-039R1</comment>
<para>An <BNF name="SQL-server module definition"/> contains 
an <BNF name="SQL-server module name"/>, an optional
<BNF name="SQL-server module character set specification"/>, an optional
<BNF name="SQL-server module schema clause"/>, an optional
<BNF name="SQL-server module path specification"/>,
zero or more SQL-server module declared local temporary tables specified by
<BNF part="02" name="temporary table declaration"/>s,
and one or more <BNF name="SQL-invoked routine"/>s.
</para>

<comment>FCD1/1998 USA-P04-014, editorially</comment>
<para>The <BNF name="SQL-server module name"/> of an SQL-server module is 
a <BNF part="02" name="schema qualified name"/>.
The character set specified by the <BNF name="SQL-server module character set specification"/> 
identifies the character repertoire used for expressing the names of schema objects used
in the <BNF name="SQL-server module definition"/>.
The <BNF name="default schema name"/> specified by the 
<BNF name="SQL-server module schema clause"/> identifies the schema name used for implicit 
qualification of unqualified names appearing in the <BNF name="SQL-server module definition"/>.
The SQL-invoked routines of an SQL-server module are invoked only from SQL-statements.
</para>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>WG3:BBN-101/X3H2-98-309R1</comment>
<para>An SQL-server module has an <newterm>SQL-server module authorization identifier</newterm>,
which is set to the authorization identifier of the owner of the schema
that contains the SQL-server module at the time the SQL-server module is created.
The SQL-server module authorization identifier acts as the
current authorization identifier for privilege determination for the
SQL objects, if any, contained in the SQL-server module.
</para>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<para>An SQL-server module is described by an SQL-server module descriptor.
An SQL-server module descriptor includes the following components. 
</para>

<ulist>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The SQL-server module name of the SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:CWB-051R1/X3H2-98-021R3</comment>
<comment>Email from Paul Cotton on 6-Jan-1999 re:FCD1 SneakPeek1</comment>
<item>The descriptor of the character set in which the SQL-server module is
represented.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The default schema name used for implicit qualification of unqualified
names in the SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The SQL-server module authorization identifier of the SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The list of schema names contained in the
<BNF name="SQL-server module path specification"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The table descriptor of every local temporary table declared in the
SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The descriptor of every SQL-invoked routine contained in the
SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The text of the <BNF name="SQL-server module definition"/>.
</item>

<comment>WG3:URC-059</comment>
<comment>WG3:W11-023</comment>
<item>The creation timestamp, of an <impDef code="IV115"/> timestamp type.
</item>

</ulist>

</bodyMatter>

</subClause>


<!--
    **********************************************************************************************
      THE FOLLOWING SUBCLAUSE IS USED ONLY TO TEST NEW CODE RELATED TO THE mergeWith ELEMENT
    **********************************************************************************************
-->
<!--
<subClause id="DUMMY">
<clauseHeading>Dummy Subclause</clauseHeading>

<modifiesPart part="02" ref="fnd_conc"/>

<bodyMatter>

<para><mergeWith part="02">
  <addRows targetTable="fnd_getdiagid_cond" sourceTable="psm_getdiagid_cond"/>
</mergeWith>
</para>

<para><mergeWith part="02">
  <addPara position="after" ref="fnd_routines_overview_containment"/>
</mergeWith>
This is a paragraph that has been added after an existing paragraph. 
</para>

<olist>

<item><mergeWith part="02">
  <addRule type="SR">
    <before ref="fnd_literal_SR_charset"/>
  </addRule>
</mergeWith>
This is a new SR added BEFORE an existing Syntax Rule. 
</item>

<item><mergeWith part="02">
  <addRule type="SR">
    <after ref="fnd_literal_SR_charset"/>
  </addRule>
</mergeWith>
This is a new SR added AFTER an existing Syntax Rule. 
</item>

<item><mergeWith part="02">
  <addRule type="SR"><last/></addRule>
</mergeWith>
This is a new SR added as THE LAST Syntax Rule. 
</item>

<item><mergeWith part="02">
<augmentPara ref="fnd_distinct_types_para_collection">
<addition><sym>CT</sym> shall not be an MD-array type.</addition>
<location>to the end of the paragraph</location>
</augmentPara>
</mergeWith>
</item>

<item><mergeWith part="02">
<augmentRule leadText="no" type="SR" ref="fnd_invoking_a_routine_GR_arrMultExt_row">
<addition>an MD-array-returning external function</addition>
<location>to the alternatives for <sym>R</sym></location>
</augmentRule>
</mergeWith>
</item>

<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_invoking_a_routine_GR_arrMultExt_row">
<addition>an MD-array-returning external function</addition>
<location>to the alternatives for <sym>R</sym></location>
</augmentRule>
</mergeWith>
</item>

<item><mergeWith part="02">
<augmentRule leadText="yes" type="SR" ref="fnd_invoking_a_routine_GR_arrMultExt_row">
<addition>an MD-array-returning external function</addition>
<location>to the alternatives for <sym>TS</sym><sub><sym>i</sym></sub></location>
</augmentRule>
</mergeWith>
</item>

<item><replicateSCsig part="02" type="GR" ref="fnd_effopencurs_GR_signature"/>
</item>

<item><mergeWith part="02">
<addListItem position="after">
<context type="para" ref="fnd_cursors_gendescr_declcursdesc"/>
<target ref="fnd_cursors_gendescr_cursororigin"/>
<target ref="fnd_cursors_gendescr_cursororigin_received"/>
</addListItem>
</mergeWith>If the cursor is a CLI cursor, then the allocated SQL-statement associated with 
the cursor.
</item>

<item><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_cursors_gendescr_declcursdesc"/>
<target ref="fnd_cursors_gendescr_cursororigin"/>
</addListItem>
</mergeWith>If the cursor is a CLI cursor, then the allocated SQL-statement associated with 
the cursor DUMMY.
</item>

<item><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_cursors_gendescr_declcursdesc"/>
</addListItem>
</mergeWith>DUMMY If the cursor is a CLI cursor, then the allocated SQL-statement associated with 
the cursor DUMMY.
</item>

<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_esql_SR_hostident">
<newSubrule>If <BNF name="embedded Java expression" part="10"/> is contained in
an <BNF name="embedded SQL Java program" part="10"/>, then <BNF name="expression" part="10"/>s
immediately
contained in <BNF name="embedded Java expression" part="10"/> shall conform to scoping rules
specified by <docref ref="Java"/>.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<item><mergeWith part="02">
<augmentListItem>
<target ref="fnd_named_charsets_para_charsetnames"></target>
<target ref="fnd_named_charsets_LE_SQL_CHARACTER"></target>
<addition>If <BNF name="embedded SQL host program" part="02"/> immediately contains
an <BNF name="embedded SQL Java program" part="10"/>, then
<BNF name="SQL special character" part="02"/> shall
include the <BNF name="number sign" part="10"/> (#) in addition to the characters that it is
otherwise required to contain.
</addition>
<location>to the end of the list item</location>
</augmentListItem>
</mergeWith>
</item>

<item><mergeWith part="02">
  <insertCode position="after" type="SR">
    <target ref="fnd_proc_SR_pkg"/>
    <currentText>
      <hostcode>
    DATA_EXCEPTION_SQL_JSON_MEMBER_NOT_FOUND:
      <bold>constant</bold> SQLSTATE_TYPE :="2203A";
      </hostcode>
    </currentText>
  </insertCode>
</mergeWith>
<hostcode>
<adaPackageConditions/>
</hostcode>
</item>

<item><mergeWith part="11">
<addListItem position="last">
<context type="CR" ref="schem_elemtypes_view_CR_notrefET"/>
</addListItem>
</mergeWith>

<ulist>

<item><feature code="A010"/>.
</item>

</ulist>

</bodyMatter>

</subClause>
-->
<!-- **********************************************************************************************
   THE PRECEDING SUBCLAUSE IS USED ONLY TO TEST NEW CODE RELATED TO THE mergeWith ELEMENT
*********************************************************************************************** -->


<comment>DBL:MAD-079/X3H2-96-464R1</comment>
<subClause id="psm_tables">
<clauseHeading>Tables</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_tables"/>


<comment>WG3:PER-165/H2-2001-???</comment>
<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<subClause2 id="psm_tables_base">
<clauseHeading>Base tables</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<modifiesPart part="02" ref="fnd_tables_base"/>


<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<subClause3 id="psm_tables_temptables">
<clauseHeading>Temporary tables</clauseHeading>

<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<modifiesPart part="02" ref="fnd_tables_temptables"/>

<bodyMatter>

<comment>DBL:MAD-079/X3H2-96-464R1</comment>
<comment>WG3:PER-165/H2-2001-???</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:UKB-039R1</comment>
<comment>FCD1/2010, P04-GBR-020</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_tables_temptables_para_refto"/>
</mergeWith>
An SQL-server module declared local temporary table is a declared local
temporary table defined in an <BNF name="SQL-server module definition"/>.
An SQL-server module declared local temporary table is effectively
materialized the first time any <BNF name="module routine"/> in the 
<BNF name="SQL-server module definition"/> that contains the 
<BNF part="02" name="temporary table declaration"/> is executed, and it persists for
that SQL-session.
Every SQL-server module in every SQL-session that
references an SQL-server module declared local temporary table causes a distinct instance of that 
declared local temporary table (<ie/> a multiset of rows that is visible only to that SQL-server 
module during that SQL-session) to be materialized.
That is, the multiset of rows that is
referenced by the <BNF part="02" name="table name"/> of an SQL-server module declared
local temporary table cannot be shared between SQL-sessions, nor between
SQL-server modules that execute during an SQL-session.
</para>

</bodyMatter>

</subClause3>

</subClause2>


<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<subClause2 id="psm_tables_uniqueident">
<clauseHeading>Unique identification of tables</clauseHeading>

<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<modifiesPart part="02" ref="fnd_tables_uniqueident"/>

<bodyMatter>

<comment>DBL:MAD-079/X3H2-96-464R1</comment>
<comment>WG3:PER-165/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:UKB-039R1</comment>
<comment>FCD1/2010, P04-GBR-020</comment>
<comment>WG3:KMG-056R2 = DM32.2-2010-00___</comment>
<para><mergeWith part="02">
<addListItem position="after">
<context type="para" ref="fnd_tables_uniqueident_para_temptable"/>
<target ref="fnd_tables_uniqueident_item_identmethods_localtemp"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<item>The <BNF part="02" name="table name"/> of an SQL-server module declared local temporary 
table, together with an SQL-session identifier and an SQL-server module name, 
uniquely identifies a multiset of rows.
</item>

<comment>DBL:MAD-079/X3H2-96-464R1</comment>
<comment>FCD1/1998 USA-P04-014, editorially</comment>
<comment>WG3:PER-165/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:UKB-039R1 (paragraph deleted)</comment>
</ulist>

</bodyMatter>

</subClause2>

</subClause>


<comment>DBL:MCI-095/X3H2-96-138</comment>
<subClause id="psm_schemas">
<clauseHeading>SQL-schemas</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_schemas"/>

<bodyMatter>

<comment>WG3:PER-165/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_schemas_para_schemas"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>WG3:PER-165/H2-2001-???</comment>
<item>An SQL-server module descriptor.
</item>

</ulist>

</bodyMatter>

</subClause>


<comment>WG3:WLG-043R1 subclause deleted</comment>

<comment>X3H2-92-084rev3/OTT-010rev/CBR-016</comment>
<subClause id="psm_routines">
<clauseHeading>SQL-invoked routines</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_routines"/>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause2 id="psm_routines_overview">
<clauseHeading>Overview of SQL-invoked routines</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_routines_overview"/>

<bodyMatter>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>FCD1/1998 JPN-P04-119, editorially</comment>
<comment>DBL:CWB-100/X3H2-98-156</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:SQL-044 = DM32.2-2011-00___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:YYZ-047R2 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-05-20 Use new merge markup</comment>
<para><mergeWith part="02">
<addPara ref="fnd_routines_overview_containment" position="after"></addPara>
</mergeWith>
An SQL-invoked routine that is defined in an <BNF name="SQL-server module definition"/>
is called an <newterm>SQL-module-level routine</newterm>.
</para>

</bodyMatter>

</subClause2>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>WG3:GLA-040 = DM32.2-2015-00034R1</comment>
<subClause2 id="psm_routines_execution">
<clauseHeading>Execution of conventional SQL-invoked routines</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_routines_execution"/>

<bodyMatter>

<comment>DBL:CWB-100/X3H2-98-156</comment>
<comment>WG3:PER-141/H2-2001-???</comment>
<comment>WG3:PER-165/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-05-11 Use new merge markup</comment>
<para><mergeWith part="02">
<augmentPara ref="fnd_routines_execution_routine_SQL_Path">
<addition>SQL-server module</addition>
<location>to the list of the containing objects</location>
</augmentPara>
</mergeWith>
</para>

</bodyMatter>

</subClause2>


<comment>WG3:TXL-080</comment>
<subClause2 id="psm_routines_descriptors">
<clauseHeading>Routine descriptors</clauseHeading>

<comment>WG3:TXL-080</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_routines_descriptors"/>

<bodyMatter>

<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="after">
<context type="para" ref="fnd_routines_descriptors_1"/>
<target ref="fnd_routines_descriptors_item_schema"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>WG3:TXL-080</comment>
<item>If the SQL-invoked routine is not a schema-level routine, then the
<BNF name="SQL-server module name"/> of the SQL-server module that includes the
SQL-invoked routine and the <BNF part="02" name="schema name"/> of the schema that includes the 
SQL-server module.
</item>

</ulist>

</bodyMatter>

</subClause2>

</subClause>


<comment>2 Subclauses moved into proper sequence by editor, 2003-04-14</comment>
<comment>DBL:CWB-100/X3H2-98-156</comment>
<subClause id="psm_paths">
<clauseHeading>SQL-paths</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_paths"/>

<bodyMatter>

<comment>DBL:CWB-100/X3H2-98-156</comment>
<comment>DBL:CWB-165/X3H2-98-217</comment>
<comment>DBL:CWB-165/X3H2-98-217</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-05-20 minimized the replace</comment>
<comment>Editorial: Joern Bartels 2022-05-10 Use new merge markup</comment>
<para><mergeWith part="02">
<addPara ref="fnd_paths_current_path" position="after"></addPara>
</mergeWith>
The definition of SQL-server modules specify an SQL-path that
is used to search for the subject routine of a <BNF part="02" name="routine invocation"/>
whose <BNF part="02" name="routine name"/>s do not contain a <BNF part="02" name="schema name"/> 
when the <BNF part="02" name="routine invocation"/> is contained in the
<BNF name="SQL-server module definition"/>.
</para>

</bodyMatter>

</subClause>


<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<subClause id="psm_parameters">
<clauseHeading>Host parameters</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_parameters"/>


<subClause2 id="psm_statusparms">
<clauseHeading>Status parameters</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statusparms"/>

<bodyMatter>

<comment>Hugh Darwen DIS sneak peek comments, point 5</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_statusparms_para_prededence"/>
</mergeWith>
If the <BNF part="02" name="SQL procedure statement"/> is a <BNF name="compound statement"/>, then
the active condition may result from the action of some exception handler
specified in the <BNF name="compound statement"/>.
</para>

</bodyMatter>

</subClause2>

</subClause>


<subClause id="psm_diagarea">
<clauseHeading>Diagnostics area</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_diagarea"/>

<bodyMatter>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_diagarea_para_begin"/>
</mergeWith>
Information about a completion or exception condition is placed into one
or more condition areas of the first diagnostics area before any handler
is activated.
The diagnostics area stack is then pushed so that the
handler can access that information even while its own execution is
causing the first diagnostics area to be modified.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_diagarea_para_begin"/>
</mergeWith>
The first diagnostics area is emptied during the execution of a <BNF name="signal statement"/>.
Information is added to the first diagnostics area during the execution of 
a <BNF name="resignal statement"/>.
</para>

</bodyMatter>

</subClause>


<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<subClause id="psm_condition_handling">
<clauseHeading>Condition handling</clauseHeading>

<bodyMatter>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Hugh Darwen DIS sneak peek comments, point 6</comment>
<comment>Editorial: Jim Melton, 2024-03-05; no BNF in newterm</comment>
<para>Condition handling is the method of handling exception and completion
conditions in SQL/PSM.
Condition handling provides a <newterm>handler declaration</newterm> to define 
a handler, specifying its type, the exception and completion conditions it can resolve, and the
action it takes to do so.
Condition handling also provides the ability to explicitly signal exception and completion 
conditions.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<para><BNF name="handler declaration"/>s specify the handling of exception and completion
conditions.
<BNF name="handler declaration"/>s are optionally specified in <BNF name="compound statement"/>s.
The scope of a <BNF name="handler declaration"/> specified in <BNF name="compound statement"/> 
<symdef>CS</symdef> is <sym>CS</sym>, excluding every <BNF part="02" name="SQL schema statement"/> 
contained in <sym>CS</sym>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Hugh Darwen DIS sneak peek comments, point 7</comment>
<para>A <BNF name="handler declaration"/> associates one or more conditions with a handler action.
The handler action is an <BNF part="02" name="SQL procedure statement"/>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>FCD1/1998 JPN-P04-004</comment>
<comment>Editorial: Jim Melton, 2024-03-05; no BNF in newterm</comment>
<para>A <newterm>general handler declaration</newterm> is one that is associated
with the <BNF name="condition value"/>s <kw>SQLEXCEPTION</kw>, <kw>SQLWARNING</kw>, or <kw>NOT</kw> 
<kw>FOUND</kw>.
All other <BNF name="handler declaration"/>s are
<newterm>specific handler declaration</newterm>s.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<para>A condition represents an error or informational state caused by execution
of an <BNF part="02" name="SQL procedure statement"/>.
Conditions are raised to provide information in a diagnostics area about the execution of 
an <BNF part="02" name="SQL procedure statement"/>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>A <BNF name="condition declaration"/> is used to declare a <BNF name="condition name"/>, and
to optionally associate it with an <kw>SQLSTATE</kw> value.
If a <BNF name="condition declaration"/> does not specify an <kw>SQLSTATE</kw> value, it declares
a <newterm>user-defined exception condition</newterm>.
<BNF name="condition name"/>s can be used in <BNF name="handler declaration"/>s, 
<BNF name="signal statement"/>s, and <BNF name="resignal statement"/>s.
</para>

<comment>DBL:MCI-161/X3H2-96-322:2.10</comment>
<para>When the <BNF name="compound statement"/> containing a <BNF name="handler declaration"/> is
executed, a handler is created for the conditions associated with that
<BNF name="handler declaration"/>.
A created handler is <newterm>activated</newterm> when
it is the most appropriate handler for an exception or completion
condition that has been raised by an SQL-statement.
Such a handler is an <newterm>active</newterm> handler.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:ERF-025, us008</comment>
<para> The <newterm>most appropriate</newterm> handler is determined during execution of
an implicit or explicit <BNF name="resignal statement"/> or a handler execution.
A handler cannot be the most appropriate handler for an exception condition
that occurs during the execution of that handler.
An implicit <BNF name="resignal statement"/> is executed when a <BNF name="compound statement"/> or
<BNF name="handler action"/> completes with a condition other than <raise class="00"/>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If there is no most appropriate handler and the condition is an exception
condition, then the SQL-statement raising the exception condition is
terminated with that exception condition.
This type of exception condition is called an <newterm>unhandled exception condition</newterm>.
Unhandled exception conditions are examined at the next visible scope for handling.
If an exception condition remains unhandled at the outermost
<BNF part="02" name="externally-invoked procedure"/> or 
<BNF part="02" name="direct SQL statement"/>, it is seen by the SQL-client.
Even if the SQL-client resolves the exception condition, execution is not resumed in the 
SQL-server where the exception condition was raised.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If there is no most appropriate handler and the condition is a completion
condition, then execution is resumed as specified in
<extref part="01" ref="frm_exceptions"/>, in <docref ref="ISO9075-1"/>.
This type of completion condition is called an <newterm>unhandled completion condition</newterm>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>A handler type specifies <kw>CONTINUE</kw>, <kw>EXIT</kw>, or <kw>UNDO</kw>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If a handler type specifies <kw>CONTINUE</kw>, then, when the handler is activated, it will
perform the following actions. 
</para>

<ulist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Push the diagnostics area stack.
</item>

<item>Execute the handler action.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Pop the diagnostics area stack.
</item>

<comment>WG3:HEL-048/H2-2000-???</comment>
<item>Cause the SQL-session to continue as it would have done if execution
of the innermost executing statement that raised the condition had
completed.
</item>

</ulist>

<para>If a handler type specifies <kw>EXIT</kw>, then, when the handler is activated, it will
perform the following actions. 
</para>

<ulist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Push the diagnostics area stack.
</item>

<item>Execute the handler action.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Pop the diagnostics area stack.
</item>

<item>Implicitly <kw>LEAVE</kw> the <BNF name="compound statement"/> for which the handler was
created, with no active exception condition.
</item>

</ulist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If a handler type specifies <kw>UNDO</kw>, then, when the handler is activated, it will
perform the following actions. 
</para>

<ulist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Push the diagnostics area stack.
</item>

<item>Roll back all of the changes to SQL-data or to schemas by the execution
of every SQL-statement contained in the SQL-statement list of the
<BNF name="compound statement"/> at the scope of the handler and cancel all
<BNF part="02" name="SQL procedure statement"/>s triggered by the execution of such
statements.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___ moved one list item</comment>
<item>Execute the handler action.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Pop the diagnostics area stack.
</item>

<comment>WG3:HEL-048/H2-2000-???</comment>
<item>Cause the SQL-session to continue as it would have done if execution
of the <BNF name="compound statement"/> for which the handler was created had
completed.
</item>

</ulist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If a <BNF name="handler action"/> completes with a completion condition: <raise class="00"/>,
then it was able to resolve the condition,
and execution resumes as specified in <specref ref="psm_handler_decl"/>.
</para>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>If a <BNF name="handler action"/> completes with an exception or completion condition other 
than <raise class="00"/>, then an implicit <BNF name="resignal statement"/> is executed.
The <BNF name="resignal statement"/> determines whether there is another 
<BNF name="handler declaration"/> that can resolve the condition.
</para>

</bodyMatter>

</subClause>


<comment>DBL:MCI-129/X3H2-96-202</comment>
<subClause id="psm_cursors">
<clauseHeading>Cursors</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_cursors"/>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause2 id="psm_cursors_gendescr">
<clauseHeading>General description of cursors</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_cursors_gendescr"/>

<bodyMatter>

<comment>WG3:WLG-043R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<para><mergeWith part="02">
<addPara ref="fnd_cursors_gendescr_curstypes" position="after"></addPara>
</mergeWith>
A cursor specified by a <BNF part="02" name="declare cursor"/> contained in 
an <BNF part="02" name="SQL-client module definition"/> without an intervening 
<BNF part="02" name="SQL schema statement"/> is a <newterm>standing SQL-client cursor</newterm>.
A cursor specified by a <BNF part="02" name="declare cursor"/> contained in 
a <BNF name="compound statement"/> is a <newterm>standing SQL-server cursor</newterm>.
</para>

<comment>WG3:WLG-043R1</comment>
<comment>WG3:KOA-026 = DM32.2-2011-00091R1</comment>
<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<para><mergeWith part="02">
<augmentPara ref="fnd_cursors_gendescr_declcurs">
<addition>contained in the 
<BNF name="local cursor declaration list"/> of a <BNF name="compound statement"/>.
</addition>
<location>as another option for the containment of the cursor</location>
</augmentPara>
</mergeWith>
</para>

<comment>WG3:WLG-043R1</comment>
<comment>Editorial; Jim Melton, 2022-03-25, clean up replace</comment>
<para><mergeWith part="02">
<augmentListItem>
<target ref="fnd_cursors_gendescr_declcursdesc"/>
<target ref="fnd_cursors_gendescr_declcursprovenance"/>
<target ref="fnd_cursors_gendescr_declcursprovenance_src"/>
<addition>or an indication of a <BNF name="compound statement"/>.</addition>
<location>immediately after <quote>then an indication of an SQL-client module</quote></location>
</augmentListItem>
</mergeWith>
</para>

<comment>X3H2-93-056/YOK-034</comment>
<comment>WG3:BHX-118/H2-2000-???</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:WLG-043R1</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_cursors_gendescr_para_createdestroy"/>
</mergeWith>
For every <BNF part="02" name="declare cursor"/> in a <BNF name="compound statement"/>,
a standing SQL-server cursor is effectively created each time the <BNF name="compound statement"/>
is executed and destroyed when that execution completes.
</para>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<note>Destroying an open with-return cursor does not simultaneously destroy that cursor<apos/>s 
result set.
</note>

</bodyMatter>

</subClause2>

</subClause>


<subClause id="psm_statements">
<clauseHeading>SQL-statements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statements"/>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause2 id="xml_statement_classes">
<clauseHeading>Classes of SQL-statements</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statement_classes"/>

<bodyMatter>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_statement_classes_para_main"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item>SQL-control declarations
</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause2 id="psm_statements_by_function">
<clauseHeading>SQL-statements classified by function</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statements_by_function"/>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause3 id="psm_stmtsfunc_schema">
<clauseHeading>SQL-schema statements</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_stmtsfunc_schema"/>

<bodyMatter>

<comment>DBL:RIO-142.UK-5/X3H2-95-039</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_stmtsfunc_schema_lst"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>X3H2-93-229/MUN-071</comment>
<item><BNF name="SQL-server module definition"/>
</item>

<item><BNF name="drop module statement"/>
</item>

</ulist>

</bodyMatter>

</subClause3>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause3 id="psm_stmtsfunc_control">
<clauseHeading>SQL-control statements</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_stmtsfunc_control"/>

<bodyMatter>

<comment>X3H2-91-083/ARL-029</comment>
<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>FDIS1SP1, 2003 deleted boxed merger instruction</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_stmtsfunc_control_para_control"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<item><BNF name="compound statement"/>
</item>

<item><BNF name="case statement"/>
</item>

<item><BNF name="if statement"/>
</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="iterate statement"/>
</item>

<item><BNF name="leave statement"/>
</item>

<item><BNF name="loop statement"/>
</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<item><BNF name="while statement"/>
</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<item><BNF name="repeat statement"/>
</item>

<comment>X3H2-93-066/YOK-035</comment>
<item><BNF name="for statement"/>
</item>

<item><BNF name="assignment statement"/>
</item>

</ulist>

</bodyMatter>

</subClause3>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause3 id="psm_stmtsfunc_controldecls">
<clauseHeading>SQL-control declarations</clauseHeading>

<bodyMatter>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<comment>WG3:TXL-080</comment>
<comment>Email from Stephen Cannan, 2022-02-11</comment>
<para>The following are the SQL-control declarations:
</para>

<ulist>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item><BNF name="condition declaration"/>

</item>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item><BNF name="handler declaration"/>

</item>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item><BNF name="SQL variable declaration"/>

</item>

</ulist>

</bodyMatter>

</subClause3>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause3 id="psm_stmtsfunc_diags">
<clauseHeading>SQL-diagnostics statements</clauseHeading>

<comment>WG3:ZSH-143 = H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_stmtsfunc_diags"/>

<bodyMatter>

<comment>DBL:RIO-142.UK-5/X3H2-95-039</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_stmtsfunc_diags_para_sqldiag"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>X3H2-91-179</comment>
<item><BNF name="signal statement"/>

</item>

<item><BNF name="resignal statement"/>

</item>

</ulist>

</bodyMatter>

</subClause3>

</subClause2>


<subClause2 id="psm_statements_transactions">
<clauseHeading>SQL-statements and transaction states</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statements_transactions"/>

<bodyMatter>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="psm_statements_transactions_txninit"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<item><BNF name="for statement"/>
</item>

</ulist>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="psm_statements_transactions_nottxninit"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>FCD1/1998 USA-P04-012, editorially</comment>
<item><BNF name="iterate statement"/>
</item>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<item><BNF name="leave statement"/>

</item>

</ulist>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="psm_statements_transactions_posstxninit"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<item>SQL-control statements other than:

<ulist>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<item><BNF name="for statement"/>

</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="iterate statement"/>
</item>

<comment>DBL:MCI-056/X3H2-96-091</comment>
<item><BNF name="leave statement"/>

</item>

</ulist>

</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>X3H2-93-069R1.1/YOK-069.1</comment>
<comment>WG3:YYJ-035 = H2-2001-___</comment>
<subClause2 id="psm_statement_atomicity">
<clauseHeading>SQL-statement atomicity and statement execution contexts</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statement_atomicity"/>

<bodyMatter>

<comment>DBL:CWB-139/X3H2-98-193</comment>
<comment>WG3:PER-163R1/H2-2001-???</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_statement_atomicity_para_nonatom"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="assignment statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="case statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="compound statement"/>, unless <kw>BEGIN</kw> <kw>ATOMIC</kw> is specified.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="for statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="if statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="loop statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="repeat statement"/>.
</item>

<comment>WG3:PER-163R1/H2-2001-???</comment>
<item><BNF name="while statement"/>.
</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>DBL:MCI-148/X3H2-96-218</comment>
<subClause2 id="psm_embeddable_statements">
<clauseHeading>Embeddable SQL-statements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_embeddable_statements"/>

<bodyMatter>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_embeddable_statements_para_emb"/>
<target ref="fnd_embeddable_statements_item_ctrl"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item>All other SQL-control statements
</item>

</ulist>

<comment>DBL:BBN-201/X3H2-98-418</comment>
<note>SQL-control declarations contained in (for example)
<BNF name="compound statement"/>s are permitted, even when the containing
SQL-statement is embedded in an <BNF part="02" name="embedded SQL host program"/>.
</note>

</bodyMatter>

</subClause2>


<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<subClause2 id="psm_statements_prep">
<clauseHeading>Preparable and immediately executable SQL-statements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statements_prep"/>

<bodyMatter>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_statements_prep_para_notprep"/>
<target ref="fnd_statements_prep_item_notprepctrl"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="compound statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="case statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="if statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="iterate statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="leave statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="loop statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="while statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="repeat statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="for statement"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="assignment statement"/>
</item>

</ulist>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_statements_prep_para_notprep"/>
</addListItem>
</mergeWith>
Consequently, the following SQL-control declarations are not preparable:
</para>

<ulist>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="condition declaration"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="handler declaration"/>
</item>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<item><BNF name="SQL variable declaration"/>
</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>DBL:MCI-148/X3H2-96-218</comment>
<subClause2 id="psm_statements_direct">
<clauseHeading>Directly executable SQL-statements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_statements_direct"/>

<bodyMatter>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_statements_direct_para_execdir"/>
<target ref="fnd_statements_direct_item_execdir_ctrl"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<comment>DBL:MCI-148/X3H2-96-218</comment>
<item>All other SQL-control statements
</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>DBL:LGW-047/X3H2-97-226</comment>
<subClause2 id="psm_statements_iterated">
<clauseHeading>Iterated SQL-statements</clauseHeading>

<bodyMatter>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<para>The following are the iterated SQL-statements:
</para>

<ulist>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="loop statement"/>

</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="while statement"/>

</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="repeat statement"/>

</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item><BNF name="for statement"/>

</item>

</ulist>

</bodyMatter>

</subClause2>


<comment>DBL:MAD-124/X3H2-96-519</comment>
<subClause2 id="psm_compound_statements">
<clauseHeading>Compound statements</clauseHeading>

<bodyMatter>

<comment>DBL:MAD-124/X3H2-96-519</comment>
<comment>WG3:WLG-043R1</comment>
<para>A compound statement allows a sequence of SQL-statements to be considered
as a single SQL-statement.
A compound statement also defines a local scope in which SQL-variables, condition handlers, 
and standing SQL-server cursors can be declared.
See <specref ref="psm_compound"/>.
</para>

</bodyMatter>

</subClause2>

</subClause>


<comment>Moved per email from Hugh Darwen 6 Sept 1995</comment>
<comment>DBL:RIO-113/X3H2-94-542</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<subClause id="psm_security_model">
<clauseHeading>Basic security model</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_security_model"/>


<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<subClause2 id="psm_privileges">
<clauseHeading>Privileges</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_privileges"/>

<bodyMatter>

<comment>DBL:RIO-028R1/X3H2-94-288R1</comment>
<comment>WG3:SIA-061R1</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addListItem position="last">
<context type="para" ref="fnd_privileges_para_objects"/>
</addListItem>
</mergeWith>
</para>

<ulist>

<item>SQL-server module
</item>

</ulist>

<comment>DBL:RIO-113/X3H2-94-542</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>X3H2-95-266/DBL:YOW-135</comment>
<comment>WG3:SIA-061R1</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_privileges_para_vpdd"/>
</mergeWith>
An execute privilege descriptor may also identify the existence
of a privilege on the SQL-server module identified by the privilege
descriptor.
</para>

<comment>X3H2-95-266/DBL:YOW-135</comment>
<comment>DBL:MCI-045/X3H2-96-052:USA-026</comment>
<comment>WG3:SIA-061R1</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_privileges_para_vpdd"/>
</mergeWith>
The object identification included in an execute privilege descriptor may also
identify the SQL-server module described by the descriptor.
</para>

<comment>DBL:MCI-090/X3H2-96-132</comment>
<comment>WG3:SIA-061R1</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_privileges_para_vpdd"/>
</mergeWith>
If the object identified by an execute privilege descriptor is an SQL-invoked
routine <symdef>R</symdef>, then <sym>R</sym> shall be a schema-level routine.
</para>

<comment>DBL:MCI-090/X3H2-96-132</comment>
<note><quote>schema-level routine</quote> is defined in <extref part="02" ref="fnd_routine"/>,
in <docref ref="ISO9075-2"/>.
</note>

</bodyMatter>

</subClause2>

</subClause>


<comment>WG3:YYJ-032 = H2-2001-___</comment>
<subClause id="psm_sessions">
<clauseHeading>SQL-sessions</clauseHeading>

<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_sessions"/>


<comment>WG3:ZSH-143 = H2-2002-___</comment>
<subClause2 id="psm_sessions_gendescr">
<clauseHeading>General description of SQL-sessions</clauseHeading>

<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_sessions_gendescr"/>

<bodyMatter>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:TXL-080</comment>
<para><mergeWith part="02">
<addPara position="after" ref="fnd_sessions_para_locators"/>
</mergeWith>
Certain operations during an SQL-session <symdef>SS</symdef> are possible only
when <sym>SS</sym> is in <newterm>condition handling mode</newterm>.
This mode becomes in effect when execution of an SQL-statement has completed to the
extent that all diagnostics information pertaining to that execution is
recorded in the first diagnostics area.
Condition handling mode ceases to be in effect when execution of the next SQL-statement begins.
</para>

</bodyMatter>

</subClause2>

</subClause>

</clause>


<clause id="psm_lexical">
<clauseHeading>Lexical elements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_lexical"/>


<subClause id="psm_token">
<clauseHeading><BNF part="02" name="token"/> and <BNF part="02" name="separator"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_token"/>

<bodyMatter>

<Function id="psm_token_0">

<comment>LON-138/X3H2-90-519.A.4</comment>
<para>Specify lexical units (tokens and separators) that participate in SQL language.
</para>

</Function>


<Format id="psm_token_1">

<grammar>

<comment>X3H2-94-407R/RIO-033</comment>
<comment>DBL:RIO-091/X3H2-94-517R1</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<comment>FCD1/2002, SWE-P04-006</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<comment>DBL:LHR-076/X3H2-95-465R</comment>
<comment>DBL:LGW-047/X3H2-97-226</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>DBL:MAD-082/X3H2-96-423</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DCOR 2000, SWE-STC-067</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>FCD1/2002, SWE-P04-006</comment>
<BNFdef name="reserved word">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>

<blankline/>
<alt>
<kw>DO</kw>
</alt>

<blankline/>
<alt>
<kw>ELSEIF</kw>
</alt>

<blankline/>
<alt>
<kw>HANDLER</kw>
</alt>

<blankline/>
<alt br="no"> <kw>IF</kw> </alt>
<alt br="no"> <kw>ITERATE</kw> </alt>


<blankline/>

<alt br="no"><kw>LEAVE</kw> </alt>
<alt br="no"> <kw>LOOP</kw> </alt>


<blankline/>

<alt br="no"><kw>REPEAT</kw> </alt>
<alt br="no"> <kw>RESIGNAL</kw> </alt>

<blankline/>
<alt>
<kw>SIGNAL</kw>
</alt>

<blankline/>
<alt>
<kw>UNTIL</kw>
</alt>

<blankline/>
<alt>
<kw>WHILE</kw>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-94-407R/RIO-033</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>FCD1/2002, SWE-P04-006</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD1/2002, SWE-P04-006</comment>
<BNFdef name="non-reserved word">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>

<blankline/>
<alt>
<kw>CONDITION_IDENTIFIER</kw>
</alt>

<blankline/>
<alt>
<kw>EXIT</kw>
</alt>

<blankline/>
<alt>
<kw>STACKED</kw>
</alt>

<blankline/>
<alt>
<kw>UNDO</kw>
</alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_token_2">

<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_token_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_token_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_token_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_names" newpage="true">
<clauseHeading>Names and identifiers</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_names"/>

<bodyMatter>

<Function id="psm_names_0">

<para>Specify names.
</para>

</Function>


<Format id="psm_names_1">

<grammar>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<BNFdef name="SQL-server module name">
<rhs>
<BNF part="02" name="schema qualified name"/>
</rhs>
</BNFdef>

<comment>X3H2-91-083/ARL-029</comment>
<comment>X3H2-91-179</comment>
<comment>X3H2-93-096/MUN-069R</comment>
<BNFdef name="SQL variable name">
<rhs>
<BNF part="02" name="identifier"/>
</rhs>
</BNFdef>

<comment>X3H2-91-197 amendment</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="condition name">
<rhs>
<BNF part="02" name="identifier"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_names_2">

<olist>

<comment>DBL:CWB-155/X3H2-98-209, with editorial license</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>Editorial: Joern Bartels 2022-05-19 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_localname_prep">
<addition><BNF name="SQL-server module definition"/> 
</addition>
<location>as an additional not allowed intervening definition</location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:CWB-155/X3H2-98-209, with editorial license</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><before ref="fnd_names_SR_localname_sch"/></addRule>
</mergeWith>
If the <BNF part="02" name="local or schema qualified name"/> is contained in 
an <BNF name="SQL-server module definition"/> without an intervening
<BNF part="02" name="schema definition"/>, then the <BNF name="default schema name"/> that is
specified or implicit in the <BNF name="SQL-server module definition"/> is implicit.
</item>

<comment>WG3:WLG-043R1 moved 2 rules</comment>
<comment>WG3:UKB-045</comment>
<comment>Editorial: Joern Bartels 2022-06-10 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_SQL_client_module">
<addition>Alternatively <sym>TN</sym> shall be contained in 
an <BNF name="SQL-server module definition"/> that contains 
a <BNF part="02" name="temporary table declaration"/> <symdef>TT</symdef> whose 
<BNF part="02" name="table name"/> has a <BNF part="02" name="qualified identifier"/> equivalent
to <sym>QI</sym>.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:HBA-044 = H2-2003-___</comment>
<comment>Editorial: Joern Bartels 2022-06-10 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_cursorcontained">
<addition>Alternatively, <sym>CN</sym> shall be contained, without an intervening 
<BNF part="02" name="SQL schema statement"/>, in a <BNF name="compound statement"/> whose 
<BNF name="local cursor declaration list"/> contains a <BNF part="02" name="declare cursor"/> 
whose <BNF part="02" name="cursor name"/> is <sym>CN</sym>.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:CWB-113/X3H2-98-111R1</comment>
<comment>WG3:RTM-046R2/X3H2-99-286R3 + X3H2-99-326R3</comment>
<comment>Editorial: Joern Bartels 2022-05-19 Break large replace in two shorter ones</comment>
<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_udtnames_1_1">
<addition><BNF name="SQL-server module definition"/>
</addition>
<location>as an additional not allowed intervening definition for <sym>UDTN</sym>.
</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_names_SR_udtnames_1_1"/></addRule>
</mergeWith>
If <sym>UDTN</sym> is contained in an <BNF name="SQL-server module definition"/> without 
an intervening
<BNF part="02" name="schema definition"/>, then the implicit <BNF part="02" name="schema name"/> of
<sym>UDTN</sym> is the <BNF part="02" name="schema name"/> that is specified or implicit in
<BNF name="SQL-server module definition"/>.
</item>

<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_udtnames_1_2">
<addition>is not contained in an <BNF part="02" name="SQL-client module definition"/>
</addition>
<location>as an additional predicate for <sym>UDTN</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:CWB-113/X3H2-98-111R1</comment>
<comment>WG3:RTM-046R2/X3H2-99-286R3 + X3H2-99-326R3</comment>
<comment>Editorial: Joern Bartels 2022-05-19 Break large replace in two shorter ones</comment>
<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_udtnames_2_1">
<addition><BNF name="SQL-server module definition"/>
</addition>
<location>as an additional not allowed intervening definition for <sym>UDTN</sym>.
</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_names_SR_udtnames_2_1"/></addRule>
</mergeWith>
If <sym>UDTN</sym> is contained in an <BNF name="SQL-server module definition"/> without 
an intervening
<BNF part="02" name="schema definition"/>, then the implicit <BNF part="02" name="schema name"/> of
<sym>UDTN</sym> is the <BNF part="02" name="schema name"/> that is specified or implicit in
<BNF name="SQL-server module definition"/>.
</item>

<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_SR_udtnames_2_2">
<addition>is not contained in an <BNF part="02" name="SQL-client module definition"/>
</addition>
<location>as an additional predicate for <sym>UDTN</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-116r1</comment>
<comment>DBL:CWB-155/X3H2-98-209, with editorial license</comment>
<comment>FCD1/1998 USA-P04-014, editorially</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WGW3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-05-19 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_names_qual_noschema_SR">
<addition><BNF name="SQL-server module definition"/> 
</addition>
<location>as an additional not allowed intervening definition for <sym>SQN</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-116r1</comment>
<comment>FCD1/1998 USA-P04-014, editorially</comment>
<comment>DBL:CWB-155/X3H2-98-209, with editorial license</comment>
<comment>WGW3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><before ref="fnd_names_qual_nosch_schdef_SR"/></addRule>
</mergeWith>
If <sym>SQN</sym> is contained in an <BNF name="SQL-server module definition"/> without 
an intervening
<BNF part="02" name="schema definition"/>, then the <BNF name="default schema name"/> that is
specified or implicit in the <BNF name="SQL-server module definition"/> is
implicit.
</item>

<comment>WG3:UKB-029</comment>
<comment>Editorial: Joern Bartels 2022-06-10 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_names_SR_ext_desc_name"/></addRule>
</mergeWith>
If a <BNF part="02" name="descriptor name"/> contains 
an <BNF name="SQL variable reference"/> and does not specify 
a <BNF part="02" name="scope option"/>, then that 
<BNF name="SQL variable reference"/> is used to supply the
value for the <BNF part="02" name="descriptor name"/>.
<note>The previous rule disambiguates between 
an <BNF name="SQL variable reference"/> and 
a <BNF part="02" name="non-extended descriptor name"/> that is 
an <BNF part="02" name="identifier"/> and gives precedence to the 
<BNF name="SQL variable reference"/>.
</note>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_names_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_names_4">

<olist>

<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><last/></addRule>
</mergeWith>
An <BNF name="SQL-server module name"/> identifies an SQL-server module.
</item>

<comment>X3H2-93-018/YOK-027</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><last/></addRule>
</mergeWith>
An <BNF name="SQL variable name"/> identifies an SQL variable.
</item>

<comment>X3H2-91-179</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>IS Sneak Peek review from Krishna Kulkarni, email dated 7 Nov 1996</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><last/></addRule>
</mergeWith>
A <BNF name="condition name"/> identifies an exception condition or a completion
condition and optionally a corresponding
<kw>SQLSTATE</kw> value.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_names_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<clause id="psm_scalars">
<clauseHeading>Scalar expressions</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_scalars"/>


<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>X3H2-94-102/SOU-063</comment>
<subClause id="psm_value">
<clauseHeading><BNF part="02" name="value specification"/> and 
<BNF name="target specification"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_value"/>

<bodyMatter>

<Function id="psm_value_0">

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<para>Specify one or more values, host parameters, SQL parameters, dynamic
parameters, host variables, or SQL variables.
</para>

</Function>


<Format id="psm_value_1">

<grammar>

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<BNFdef name="general value specification">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL variable reference"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:RIO-142.USA-13/X3H2-95-039</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<BNFdef name="simple value specification">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL variable reference"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:RIO-114/X3H2-94-543</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<BNFdef name="target specification">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL variable reference"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<BNFdef name="simple target specification">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL variable reference"/>
</alt>
</rhs>
</BNFdef>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<BNFdef name="target array reference">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL variable reference"/>
</alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_value_2">

<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_value_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_value_4">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<comment>WG3:STR-033 = H2-2007-229R1</comment>
<comment>Editorial: Joern Bartels 2022-05-11 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_value_GR_target">
<addition>SQL variable</addition>
<location>to the list of targets</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-05-11 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_value_GR_target">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of <BNF name="target specification"/>s</location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<comment>Email from Stephen Cannan, 2009-08-24, referencing implicit change due to WG3:FAO-021R1
</comment>
<comment>Editorial: Joern Bartels 2022-05-11 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_value_GR_simple_target">
<addition>SQL variable</addition>
<location>to the list of targets</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-05-11 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_value_GR_simple_target">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of <BNF name="simple target specification"/>s</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_value_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:CWB-081/X3H2-98-068</comment>
<subClause id="psm_identchain" newpage="true">
<clauseHeading><BNF part="02" name="identifier chain"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_identchain"/>

<bodyMatter>

<Function id="psm_identchain_0">

<para>Disambiguate a period-separated chain of identifiers.
</para>

</Function>


<Format id="psm_identchain_1">

<grammar>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_identchain_2">

<olist>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>Editorial: Joern Bartels 2022-01-01 Retarget the m e r g e i n s t r</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>WG3:BER-035R2</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_refine"/></addRule>
</mergeWith>
An SQL variable <symdef>V</symdef> is said to be <newterm>refinable</newterm> if the
declared type of <sym>V</sym> is a row type, a JSON type, or a structured type.
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:KOA-028 = DM32.2-2011-00096R1</comment>
<comment>WG3:W13-018</comment>
<comment>Editorial: Joern Bartels 2022-04-01 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_identchain_SR_basis">
<addition>an SQL variable <symdef>SV</symdef></addition>
<location>to the list of possible referents of a basis</location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>Email from Hugh Darwen on 14-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:BBN-155/X3H2-98-378</comment>
<comment>DCOR 2000, GBR-STC-032</comment>
<comment>DCOR 2000, GBR-STC-033</comment>
<comment>WG3:PER-057R1/H2-2001-???</comment>
<comment>WG3:YYJ-036 = H2-2001-359</comment>
<comment>WG3:KOA-028 = DM32.2-2011-00096R1</comment>
<comment>WG3:USN-026R1 = DM32.2-2013-00044R2</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>editorial: converted replace to amend</comment>
<comment>editorial: converted amend to insert</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>Email from Jan Michels, 2022-07-19</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis1_param"/></addRule>
</mergeWith>
The scope of one or more <BNF name="beginning label"/>s whose 
associated <BNF name="local declaration list"/> includes an SQL variable whose 
<BNF name="SQL variable name"/> is equivalent to <sym>I</sym><sub>1</sub>.
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>DCOR 2000, GBR-STC-034</comment>
<comment>WG3:PER-057R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis2"/></addRule>
</mergeWith>
If <symdef>IPST</symdef> is a <BNF name="beginning label"/>, then let <symdef>SV</symdef> be
the SQL variable whose <BNF name="SQL variable name"/> is equivalent to <sym>I</sym><sub>1</sub>.
<sym>PIC</sym><sub>1</sub> is the basis of <sym>IC</sym>, the basis length is 1 (one), the basis 
scope is the scope of <sym>SV</sym>, and the basis referent is <sym>SV</sym>.
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:FRA-088/X3H2-98-618</comment>
<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>WG3:PER-057R1/H2-2001-???</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis2a"/></addRule>
</mergeWith>
If <sym>IC</sym> is contained in the scope of a <BNF name="beginning label"/>
whose associated <BNF name="local declaration list"/> includes an SQL variable
<sym>SV</sym> whose <BNF name="SQL variable name"/> is equivalent to
<sym>I</sym><sub>1</sub>, then <sym>PIC</sym><sub>1</sub> is a candidate basis of <sym>IC</sym>, 
the scope of <sym>PIC</sym><sub>1</sub> is the scope of <sym>SV</sym>, and the
referent of <sym>PIC</sym><sub>1</sub> is <sym>SV</sym>.
</item>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>Email from Fred Zemke, 2001-07-06</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis2a"/></addRule>
</mergeWith>
If <sym>N</sym> = 2 and <sym>PIC</sym><sub>1</sub> is equivalent to 
a <BNF name="beginning label"/> <symdef>BL</symdef> whose scope contains <sym>IC</sym>
and whose associated <BNF name="local declaration list"/> includes an SQL variable
<sym>SV</sym> whose <BNF name="SQL variable name"/> is equivalent to
<sym>I</sym><sub>2</sub>, then <sym>PIC</sym><sub>2</sub> is 
a candidate basis of <sym>IC</sym>, the scope of
<sym>PIC</sym><sub>2</sub> is the scope of <sym>SV</sym>, and the
referent of <sym>PIC</sym><sub>2</sub> is <sym>SV</sym>.
</item>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>Email from Fred Zemke, 2001-07-06</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis2a"/></addRule>
</mergeWith>
If <sym>N</sym> &gt; 2 and <sym>PIC</sym><sub>1</sub> is equivalent to 
a <BNF name="beginning label"/> <sym>BL</sym> whose scope contains <sym>IC</sym>
and whose associated <BNF name="local declaration list"/> includes a refinable SQL
variable <sym>SV</sym> whose <BNF name="SQL variable name"/> is equivalent to
<sym>I</sym><sub>2</sub>, then <sym>PIC</sym><sub>2</sub> is a candidate basis of <sym>IC</sym>, 
the scope of <sym>PIC</sym><sub>2</sub> is the scope of <sym>SV</sym>, and the
referent of <sym>PIC</sym><sub>2</sub> is <sym>SV</sym>.
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:E3G-008 = DM32.2-2010-00180</comment>
<comment>Editorial: Joern Bartels 2022-06-10 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentNote ref="fnd_identchain_SR_basis4_note">
<addition>an <BNF name="SQL variable reference"/>
</addition>
<location>as an alternative for an <BNF part="02" name="SQL parameter reference"/></location>
</augmentNote>
</mergeWith>
</item>

<item><mergeWith part="02">
<augmentNote ref="fnd_identchain_SR_basis4_note">
<addition>Alternatively, on the left-hand side of an <BNF name="assignment statement"/>,
(<sym>PIC</sym><sub><sym>BL</sym></sub>) is interpreted as
<quote><BNF part="02" name="left paren"/> <BNF name="target specification"/> 
<BNF part="02" name="right paren"/></quote>, and
the identifiers <sym>I</sym><sub><sym>BL</sym>+1</sub>, <ellipsis/>,
<sym>I</sym><sub><sym>N</sym></sub> are parsed using the Format and Syntax Rules
of <BNF name="modified field reference"/> and <BNF name="mutator reference"/>
in <specref ref="psm_assignment"/>.
</addition>
<location>at the end of the note</location>
</augmentNote>
</mergeWith>
</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_identchain_SR_basis5"/></addRule>
</mergeWith>
A <BNF part="02" name="basic identifier chain"/> whose basis referent is an SQL variable
is an <newterm>SQL variable reference</newterm>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_identchain_3">

<olist>

<comment>WGW3:CMH-030 = DM32.2-2017-00___</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_identchain_4">

<olist>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>Email from Jan Michels, 2022-07-19</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_identchain_GR_paramref"/></addRule>
</mergeWith>
If <symdef>BIC</symdef> is an SQL variable reference, then <sym>BIC</sym>
references the SQL variable <sym>SV</sym> of a given execution of the
<BNF name="compound statement"/> whose <BNF name="local declaration list"/> contains the
<BNF name="SQL variable declaration"/> that declares <sym>SV</sym>.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_identchain_5">

<olist>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>WG3:RKE-021</comment>
<item><mergeWith part="02">
<addRule type="CR">
<last/>
</addRule>
</mergeWith>
Without <feature code="P005"/>,
conforming SQL language shall not contain an SQL variable reference whose
first <BNF part="02" name="identifier"/> is the <BNF name="beginning label"/> of 
a <BNF name="compound statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:DRS-048/H2-2002-___</comment>
<subClause id="psm_nextvalexp" newpage="true">
<clauseHeading><BNF part="02" name="next value expression"/></clauseHeading>

<comment>WG3:DRS-048/H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_nextvalexp"/>

<bodyMatter>

<Function id="psm_nextvalexp_0">

<comment>WG3:DRS-048/H2-2002-___</comment>
<para>Return the next value of a sequence generator.
</para>

</Function>


<Format id="psm_nextvalexp_1">

<grammar>

<comment>WG3:DRS-048/H2-2002-___</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_nextvalexp_2">

<olist>

<comment>WG3:DRS-048/H2-2002-___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_nextvalexp_SR_contupd"/></addRule>
</mergeWith>
An <BNF name="assignment statement"/>.
</item>

<comment>WG3:DRS-048/H2-2002-___</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
<BNF part="02" name="next value expression"/> shall not be contained without an intervening
<BNF name="SQL statement list"/> in a <BNF name="case statement"/>, an <BNF name="if statement"/>, 
a <BNF name="loop statement"/>, a <BNF name="while statement"/>, or 
a <BNF name="repeat statement"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_nextvalexp_3">

<comment>WG3:DRS-048/H2-2002-___</comment>
<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_nextvalexp_4">

<comment>WG3:DRS-048/H2-2002-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_nextvalexp_5">

<comment>WG3:DRS-048/H2-2002-___</comment>
<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<subClause id="psm_sqlvarref" newpage="true">
<clauseHeading><BNF name="SQL variable reference"/></clauseHeading>

<bodyMatter>


<Function id="psm_sqlvarref_0">

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<para>Reference an SQL variable.
</para>

</Function>


<Format id="psm_sqlvarref_1">

<grammar>

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>WG3:BBN-155/X3H2-98-378</comment>
<BNFdef name="SQL variable reference">
<rhs>
<BNF part="02" name="basic identifier chain"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_sqlvarref_2">

<olist>

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<item>An <BNF name="SQL variable reference"/> shall be 
a <BNF part="02" name="basic identifier chain"/> that is an SQL variable reference.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_sqlvarref_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_sqlvarref_4">

<olist>

<None/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_sqlvarref_5">

<olist>

<comment>S J Cannan 2004-11-27</comment>
<None/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>DBL:MCI-161/X3H2-96-322:2.3</comment>
<clause id="psm_queries">
<clauseHeading>Query expressions</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_queries"/>


<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<subClause id="psm_tabref">
<clauseHeading><BNF part="02" name="table reference"/></clauseHeading>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<modifiesPart part="02" ref="fnd_tabref"/>

<bodyMatter>

<Function id="psm_tabref_0">

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<para>Reference a table.
</para>

</Function>


<Format id="psm_tabref_1">

<grammar>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_tabref_2">

<olist>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<comment>Editorial: Joern Bartels 2022-04-01 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_tabref_SR_QSTPS">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_tabref_3">

<olist>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_tabref_4">

<olist>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_tabref_5">

<olist>

<comment>WG3:KOA-053 = DM32.2-2011-00___</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MAD-170/X3H2-96-544R1</comment>
<comment>DBL:MCI-198/X3H2-96-338</comment>
<subClause id="psm_qspec" newpage="true">
<clauseHeading><BNF part="02" name="query specification"/></clauseHeading>

<comment>DBL:LGW-083R1/X3H2-97-161R2 deleted this, but it mentions SQL routines</comment>
<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_qspec"/>

<bodyMatter>

<Function id="psm_qspec_0">

<para>Specify a table derived from the result of a <BNF part="02" name="table expression"/>.
</para>

</Function>


<Format id="psm_qspec_1">

<grammar>

<comment>FCD1/1998 JPN-P04-010</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_qspec_2">

<olist>

<comment>WG3:BBN-092/X3H2-98-240R1</comment>
<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_qspec_SR_rtnscope"/></addRule>
</mergeWith>
If <symdef>IC</symdef> is contained in the scope of a <BNF name="beginning label"/>
whose associated <BNF name="local declaration list"/> includes an SQL variable
<symdef>SV</symdef> whose <BNF name="SQL variable name"/> is equivalent to
<symdef>I</symdef><sub>1</sub>, then <sym>PIC</sym><sub>1</sub> is a candidate basis of 
<sym>IC</sym> and the scope of <symdef>PIC</symdef><sub>1</sub> is the scope of <sym>SV</sym>.
</item>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_qspec_SR_rtnscope"/></addRule>
</mergeWith>
If <sym>N</sym> = 2 and <sym>PIC</sym><sub>1</sub> is equivalent to 
a <BNF name="beginning label"/> <symdef>BL</symdef> whose scope contains <sym>IC</sym>
and whose associated <BNF name="local declaration list"/> includes an SQL variable
<sym>SV</sym> whose <BNF name="SQL variable name"/> is equivalent to
<symdef>I2</symdef>, then <sym>PIC</sym><sub>2</sub> is a candidate basis of
<sym>IC</sym>, the scope of <sym>PIC</sym><sub>2</sub> is the scope of
<sym>SV</sym>, and the referent of <sym>PIC</sym><sub>2</sub> is
<sym>SV</sym>.
</item>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_qspec_SR_rtnscope"/></addRule>
</mergeWith>
If <sym>N</sym> &gt; 2 and <sym>PIC</sym><sub>1</sub> is equivalent to 
a <BNF name="beginning label"/> <sym>BL</sym> whose scope contains <sym>IC</sym>
and whose associated <BNF name="local declaration list"/> includes a refinable SQL
variable <sym>SV</sym> whose <BNF name="SQL variable name"/> is equivalent to
<sym>I2</sym>, then <sym>PIC</sym><sub>2</sub> is a candidate basis of
<sym>IC</sym>, the scope of <sym>PIC</sym><sub>2</sub> is the scope of
<sym>SV</sym>, and the referent of <sym>PIC</sym><sub>2</sub> is
<sym>SV</sym>.
</item>

<comment>WG3:W09-009, P02-NLD-013 moved 1 Rule</comment>
<comment>WG3:JFK-037 = H2-2007-084</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_qspec_SR_singleparamref2"/></addRule>
</mergeWith>
If the <sym>i</sym>-th <BNF part="02" name="derived column"/> in the
<BNF part="02" name="select list"/> does not specify an <BNF part="02" name="as clause"/> and the
<BNF part="02" name="value expression"/> of that <BNF part="02" name="derived column"/>
is a single SQL variable reference, then the <BNF part="02" name="column name"/>
of the <sym>i</sym>-th column of the result is the <BNF name="SQL variable name"/>
of the SQL variable designated by the SQL variable reference.
</item>

<comment>DBL:MAD-171/X3H2-96-545</comment>
<comment>WG3:FRA-033R1/X3H2-98-504R2</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_qspec_colpossnull_SR_inddp"/></addRule>
</mergeWith>
An SQL variable.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_qspec_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_qspec_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_qspec_5">

<olist>

<comment>WG3:PER-064R1/H2-2001-???</comment>
<comment>WG3:RKE-021</comment>
<item><mergeWith part="02">
<addRule type="CR">
<last/>
</addRule>
</mergeWith>
Without <feature code="P005"/>, conforming SQL language shall not contain 
an <BNF part="02" name="asterisked identifier chain"/> whose first 
<BNF part="02" name="identifier"/> 
is the <BNF name="beginning label"/> of a <BNF name="compound statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>Email from Jan-Eike Michels, 2016-07-11</comment>
<clause id="psm_common_rules">
<clauseHeading>Additional common rules</clauseHeading>

<modifiesPart part="02" ref="fnd_common_rules"/>


<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<subClause id="psm_potential_non_determinism">
<clauseHeading>Potential sources of non-determinism</clauseHeading>

<modifiesPart ref="fnd_potential_non_determinism" part="02"/>

<bodyMatter>

<Function id="psm_potential_non_determinism_0">

<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<para>Define the potential sources of non-determinism.
</para>

</Function>


<SyntaxRules id="psm_potential_non_determinism_2">

<olist>

<comment>DBL:MCI-082R1/X3H2-96-095R2:7 and DBL:MCI-161/X3H2-96-322:2.2</comment>
<comment>WG3:FRA-087R1/X3H2-98-617R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Email from Jan-Eike Michels, 2004-02-18</comment>
<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Email from Fred Zemke, 2017-10-05</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_potential_non_determinism_SR_fndlast"/></addRule>
</mergeWith>
A <BNF name="compound statement"/> that contains
an <BNF name="SQL variable declaration"/> that specifies a <BNF part="02" name="default option"/> 
that contains <kw>CURRENT_USER</kw>, <kw>CURRENT_ROLE</kw>, <kw>SESSION_USER</kw>, 
<kw>SYSTEM_USER</kw>, <kw>CURRENT_CATALOG</kw>, <kw>CURRENT_SCHEMA</kw>, or <kw>CURRENT_PATH</kw>.
</item>

<comment>DBL:MCI-082R1/X3H2-96-095R2:7 and DBL:MCI-161/X3H2-96-322:2.2</comment>
<comment>WG3:FRA-087R1/X3H2-98-617R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Email from Jan-Eike Michels, 2004-02-18</comment>
<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_potential_non_determinism_SR_fndlast"/></addRule>
</mergeWith>
A <BNF name="compound statement"/> that contains
an <BNF name="SQL variable declaration"/> that specifies a <BNF part="02" name="domain name"/> and 
the domain descriptor identified by the <BNF part="02" name="domain name"/> has a default value
that contains a <BNF part="02" name="datetime value function"/>, <kw>CURRENT_USER</kw>, 
<kw>CURRENT_ROLE</kw>, <kw>SESSION_USER</kw>, <kw>SYSTEM_USER</kw>, <kw>CURRENT_CATALOG</kw>, 
<kw>CURRENT_SCHEMA</kw>, or <kw>CURRENT_PATH</kw>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_potential_non_determinism_3">

<olist>

<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Editorial: Stephen Cannan 2024-02-19</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_potential_non_determinism_4">

<olist>

<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Editorial: Stephen Cannan 2024-02-19</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_potential_non_determinism_5">

<olist>

<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Editorial: Stephen Cannan 2024-02-19</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:W10-009/P02-NLD-021</comment>
<subClause id="psm_sqlstatement_execution" newpage="true">
<clauseHeading>Executing an <BNF part="02" name="SQL procedure statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<modifiesPart part="02" ref="fnd_sqlstatement_execution"/>

<bodyMatter>

<Function id="psm_sqlstatement_execution_0">

<comment>KAW-057/X3H2-92-034 UK-jms-10</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<para>Execute an <BNF part="02" name="SQL procedure statement"/>.
</para>

</Function>


<SyntaxRules id="psm_sqlstatement_execution_2">

<olist>

<comment>WG3:W10-009/P02-NLD-021</comment>
<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_sqlstatement_execution_3">

<olist>

<comment>WG3:W10-009/P02-NLD-021</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_sqlstatement_execution_4">

<comment>WG3:W16-043r1</comment>
<note>The General Rules of this Subclause as defined in
<extitemref part="02" type="GR" ref="fnd_sqlstatement_execution_GR_except"/>
of <extref part="02" ref="fnd_sqlstatement_execution"/>, in
<docref ref="ISO9075-2"/>
are not always terminated when an exception condition is raised.
</note>

<olist>

<comment>Email from Stephen Cannan, 2024-03-25</comment>
<item><replicateSCsig part="02" type="GR" ref="fnd_sqlstatement_execution_GR_signature">
</replicateSCsig>
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:HER-026R1 = DM32.2-2010-00231R1</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_sqlstatement_execution_GR_diagempty">
<addition><BNF name="compound statement"/>
</addition>
<location>as an additional restriction for what <sym>S</sym> should not be</location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><before ref="fnd_sqlstatement_execution_GR_newsec"/></addRule>
</mergeWith>
Condition handling mode becomes in effect in the SQL-session.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>WG3:UTC-013 P02-NLD-008</comment>
<item id="psm_sqlstatement_execution_invoke_handle_GR"><mergeWith part="02">
<addRule type="GR"><before ref="fnd_sqlstatement_execution_GR_newsec"/></addRule>
</mergeWith>
If <sym>S</sym> did not execute successfully, then:

<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<olist>

<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<item>Let <symdef>SST</symdef> be the value of the <kw>SQLSTATE</kw>
associated with the unsuccessful execution of <sym>S</sym>.
</item>

<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<item>If a handler <symdef>MAH</symdef> is the most appropriate handler for <sym>SST</sym>, then
the
<applySC rules="GR" ref="psm_handler_execution">
  <symarg param="MOST APPROPRIATE HANDLER"><sym>MAH</sym></symarg>
</applySC>.
</item>

<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<item>If no handler is activated and <sym>SST</sym>
identifies an <kw>SQLSTATE</kw> value associated with
an exception condition <symdef>EC</symdef>, then
this is an <newterm>unhandled exception condition</newterm> and
the <BNF name="SQL procedure statement" part="02"/> that resulted in
execution of <sym>S</sym> is terminated with the exception condition <sym>EC</sym>.
</item>

</olist>

<comment>WG3:UKB-049</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:EZE-033 = DM32.2-2018-00034</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<note>The General Rules of <specref ref="psm_handler_decl"/>, determine
which handler will be invoked for the current condition.
</note>

</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_sqlstatement_execution_GR_ceases"/></addRule>
</mergeWith>
Condition handling mode ceases to be in effect in the SQL-session.
</item>

</olist>

</GeneralRules>


<comment>WG3:BBN-171/X3H2-98-389</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<ConformanceRules id="psm_sqlstatement_execution_5">

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<olist>

<comment>WG3:W10-009/P02-NLD-021</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<subClause id="psm_exec_compound" newpage="true">
<clauseHeading>Executing a <BNF name="compound statement"/></clauseHeading>

<bodyMatter>

<Function id="psm_exec_compound_0">

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<para>Specify the rules for executing a statement that groups other statements together. 
</para>

</Function>


<SyntaxRules id="psm_exec_compound_2">

<olist>

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<None/>

</olist>

</SyntaxRules>


<AccessRules id="psm_exec_compound_3">

<olist>

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_exec_compound_4">

<olist>

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item><SCsignature>
  <symparam name="COMPOUND STATEMENT"><symdef>CS</symdef></symparam>
<documentation>
<slist>
<item>COMPOUND STATEMENT &mdash; a <BNF name="compound statement"/> to be executed. 
</item>
</slist>
</documentation>
</SCsignature>
</item>

<comment>WG3:W16-043r1</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item id="psm_exec_compound_GR_except">Except where explicitly specified,
the General Rules of this Subclause are not terminated if an exception condition is raised.
</item>

<comment>WG3:PER-061/H2-2001-???</comment>
<comment>Email from Hugh Darwen, 2001-08-22</comment>
<comment>FCD/2002 GBR-P04-020</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>If <sym>CS</sym> specifies <kw>ATOMIC</kw>, then a new savepoint level is established.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-93-054/YOK-032</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-034/X3H2-96-165</comment>
<comment>FCD1/1998 JPN-P04-037</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>The SQL variables, standing SQL-server cursors, and handlers specified in the
<BNF name="local declaration list"/>, <BNF name="local cursor declaration list"/>, and the
<BNF name="local handler declaration list"/> of <sym>CS</sym> are created in 
an <unDef code="US009"/> order.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item id="psm_exec_compound_GR_loop">Let <symdef>N</symdef> be the number of
<BNF part="02" name="SQL procedure statement"/>s contained in the
<BNF name="SQL statement list"/> that is immediately contained in
<sym>CS</sym> without an intervening <BNF name="SQL control statement"/>.
For <symdef>i</symdef> ranging from 1 (one) to <sym>N</sym>:

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>Let <symdef>S</symdef><sub><sym>i</sym></sub> be the <sym>i</sym>-th
such <BNF part="02" name="SQL procedure statement"/>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial from Paul Cotton in email, 13 Dec 1999</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<comment>Email from Stephen Cannan, 2024-03-25</comment>
<item id="psm_exec_compound_GR_applyExtSC1">The
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>S</sym><sub><sym>i</sym></sub></symarg>
</applySC>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>If the execution of <sym>S</sym><sub><sym>i</sym></sub> terminates
with exception conditions or completion conditions other than <raise class="00"/>,
then:

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>The following <BNF name="resignal statement"/> is effectively executed:

<comment>DBL:MAD-074/X3H2-96-418</comment>
<code>
<kw>RESIGNAL</kw>
</code>

</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>Email from Hugh Darwen, 2001-10-26, re: DBL:MAD-074 misapplication</comment>
<comment>WG3:HER-027 = DM32.2-2010-00232</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>If there are unhandled exception conditions at the completion of the
execution of a handler (if any), then the execution of
<itemref type="GR" ref="psm_exec_compound_GR_loop"/> is
terminated immediately and evaluation continues with
<itemref type="GR" ref="psm_exec_compound_GR_after_loop"/>.
</item>

</olist>

</item>

</olist>

</item>

<comment>DBL:MAD-063/X3H2-96-385</comment>
<comment>WG3:BHX-118/H2-2000-???</comment>
<comment>IS Sneak Peek review from Bakuya-san, email dated 28 Oct 1996</comment>
<comment>FCD1/1998 JPN-P04-038</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:SIA-053R1</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item id="psm_exec_compound_GR_after_loop">For every open cursor <symdef>CR</symdef>
that is declared in the <BNF name="local cursor declaration list"/> of <sym>CS</sym>, the
<applyExtSC rules="GR" ref="fnd_effclosecurs" part="02">
  <extsymarg param="CURSOR"><sym>CR</sym></extsymarg>
  <extsymarg param="DISPOSITION">SAVE</extsymarg>
</applyExtSC>.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-93-054/YOK-032</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-034/X3H2-96-165</comment>
<comment>FCD1/1998 JPN-P04-037</comment>
<comment>WG3:BHX-118/H2-2000-???</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>The SQL variables, standing SQL-server cursors, and handlers specified in
<BNF name="local declaration list"/>, the
<BNF name="local cursor declaration list"/>, and the
<BNF name="local handler declaration list"/> of <sym>CS</sym> are destroyed.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-93-069R1.5/YOK-069.5</comment>
<comment>WG3:PER-061/H2-2001-???</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>If <sym>CS</sym> specifies <kw>ATOMIC</kw>, then the current savepoint level
is destroyed.

<comment>WG3:PER-061/H2-2001-???</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<note>Destroying a savepoint level destroys all existing savepoints that are
established at that level.
</note>

</item>

<comment>ad hoc motions at Edinburgh DIS Editing Meeting</comment>
<comment>IS Sneak Peek review from Ed Dee, email dated 31 Oct 1996</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>The <BNF name="condition name"/> of every <BNF name="condition declaration"/> contained
in <BNF name="local declaration list"/> ceases to be considered to be defined.
</item>

<comment>Revise Subclause with signature to return to invoker; Jim Melton, 2022-09-29</comment>
<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item><SCreturn/>
</item>

</olist>

</GeneralRules>


<comment>Editorial: Stephen Cannan 2024-02-22</comment>
<ConformanceRules id="psm_exec_compound_5">

<olist>

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<None/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:LGW-049R2/X3H2-97-222</comment>
<comment>WG3:W09-009, P02-NLD-017</comment>
<subClause id="psm_invoking_a_routine" newpage="true">
<clauseHeading>Invoking an SQL-invoked routine</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_invoking_a_routine"/>

<bodyMatter>

<Function id="psm_invoking_a_routine_0">

<para>Execute the invocation of an SQL-invoked routine.
</para>

</Function>


<SyntaxRules id="psm_invoking_a_routine_2">

<olist>

<comment>DBL:LGW-049R2/X3H2-97-222</comment>
<comment>Email from Stephen Cannan, 2001-05-16</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_invoking_a_routine_SR_exec">
<newSubrule>If <sym>RI</sym> is contained in an <BNF name="SQL-server module definition"/>
<symdef>M</symdef>,
<para>Case:
</para>

<olist>

<comment>DBL:LGW-049R2/X3H2-97-222</comment>
<item>If <symdef>RI</symdef> is contained in an <BNF part="02" name="SQL schema statement"/>, then
the applicable privileges for the
<BNF part="02" name="authorization identifier"/> that owns the containing schema include
<kw>EXECUTE</kw> on <sym>M</sym>.
</item>

<item>Otherwise, the current privileges include <kw>EXECUTE</kw> on <sym>M</sym>.
</item>

</olist>

</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>WG3:ZSH-034R1 = H2-2002-___</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup and delete one rule</comment>
<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_invoking_a_routine_nosch_act_pth_SR">
<newSubrule>If <sym>RI</sym> is contained in an <BNF name="SQL-server module definition"/>,
then let <symdef>DP</symdef> be the SQL-path of that
<BNF name="SQL-server module definition"/>.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>WG3:KOA-050 = DM32.2-2011-00___ deleted 2 Rules</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:ICN-049 = H2-2002-___</comment>
<comment>WG3:CJU-024R1 = H2-2009-00144R2</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<comment>WG3:KOA-050 = DM32.2-2011-00___</comment>
<comment>WG3:USN-024, P02-JPN-053</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-04-01 Use new merge markup and delete one note</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_invoking_a_routine_SR_Ai_SQLparam">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_invoking_a_routine_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_invoking_a_routine_4">

<comment>WG3:W16-043r1</comment>
<note>The General Rules of this Subclause as defined in
<extitemref part="02" type="GR" ref="fnd_invoking_a_routine_GR_except"/>
of <extref part="02" ref="fnd_invoking_a_routine"/>, in
<docref ref="ISO9075-2"/>
are not always terminated when an exception condition is raised.
</note>

<olist>

<comment>DBL:CWB-100/X3H2-98-156</comment>
<comment>DBL:LGW-075R1/X3H2-97-160R2</comment>
<comment>WG3:NRT-022R1 = DM32.2-2015-00054R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_invoking_a_routine_GR_remident"/></addRule>
</mergeWith>
The identities of declared local temporary tables that are defined in
<BNF name="SQL-server module definition"/>s.
</item>

<comment>WG3:NRT-022R1 = DM32.2-2015-00054R1 deleted 1 Rule</comment>
<comment>WG3:URC-043</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_invoking_a_routine_GR_mtbind"/></addRule>
</mergeWith>
If <sym>R</sym> is included in an SQL-server module <symdef>S</symdef>, then the method and time 
of binding of <sym>P</sym> to <sym>S</sym> is <impDef code="IW001"/>.
</item>

<comment>DBL:BBN-188/X3H2-98-405</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:ICN-049 = H2-2002-___</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-04-01 Use new merge markup and deleted one note</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_invoking_a_routine_GR_TSi_SQLparam">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_invoking_a_routine_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:W09-009, P02-NLD-013</comment>
<subClause id="psm_transform_query_spec" newpage="true">
<clauseHeading>Transformation of query specifications</clauseHeading>

<modifiesPart part="02" ref="fnd_transform_query_spec"/>

<bodyMatter>

<Function id="psm_transform_query_spec_0">

<comment>WG3:W09-009, P02-NLD-013</comment>
<para>Transform <BNF name="query specification" part="02"/>s to
a normalized form before further processing. 
</para>

</Function>


<SyntaxRules id="psm_transform_query_spec_2">

<olist>

<comment>WG3:JFK-037 = H2-2007-084</comment>
<comment>WG3:W09-009, P02-NLD-013 moved 1 Rule</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_transform_query_spec_SR_singleparamref"/></addRule>
</mergeWith>
If <sym>DCOL</sym><sub><sym>k</sym></sub> is a single SQL variable
reference, then <sym>COLN</sym><sub><sym>k</sym></sub> is the
<BNF name="SQL variable name"/> of the SQL variable designated by
the SQL variable reference.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_transform_query_spec_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_transform_query_spec_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_transform_query_spec_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:MEM-049 = DM32.2-2016-00061</comment>
<subClause id="psm_handler_execution" newpage="true">
<clauseHeading>Handler execution</clauseHeading>

<bodyMatter>


<Function id="psm_handler_execution_0">

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<para>Execute the most appropriate handler for an exception condition.
</para>

</Function>


<SyntaxRules id="psm_handler_execution_2">

<olist>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<None/>

</olist>

</SyntaxRules>


<AccessRules id="psm_handler_execution_3">

<olist>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_handler_execution_4">

<comment>WG3:W16-043r1 deleted 1 Note</comment>
<olist>

<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>Research on WG3:W10-009/P04-NLD-002 revealed dual-entry not appropriate</comment>
<comment>Keith Hare reviewed this on 2021-04-29 and agreed: no dual-entry!</comment>
<comment>Joern Bartels 2023-03-13 WG3:W25-016</comment>
<item><SCsignature>
  <symparam name="MOST APPROPRIATE HANDLER"><symdef>MAH</symdef></symparam>
<documentation>
<slist>
<item>MOST APPROPRIATE HANDLER &mdash; a condition handler that is the
most appropriate handler for a particular condition. 
</item>
</slist>
</documentation>
</SCsignature>
</item>

<comment>WG3:W16-043r1</comment>
<item>Except where explicitly specified, the General Rules of this Subclause
are not terminated if an exception condition is raised.
</item>

<comment>WG3:MEM-049 = DM32.2-2016-00061</comment>
<item>Let <symdef>HD</symdef> be the <BNF name="handler declaration"/>
that effectively created <sym>MAH</sym>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:MEM-049 = DM32.2-2016-00061</comment>
<item>Let <symdef>CS</symdef> be the <BNF name="compound statement"/> simply containing
<sym>HD</sym>.
</item>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>Let <symdef>HT</symdef> be the <BNF name="handler type"/> specified in <sym>MAH</sym>.
</item>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<comment>WG3:W09-009 P02-NLD-024</comment>
<item>Let <symdef>HA</symdef> be the <BNF name="handler action"/> simply contained in 
<sym>MAH</sym>.
If <sym>HA</sym> is not a <BNF name="compound statement"/>, then <sym>HA</sym> is effectively 
replaced by:
<code>
 <kw>BEGIN</kw> <sym>HA</sym> ; <kw>END</kw>
</code>
</item>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item><sym>MAH</sym> is effectively removed from the list of potential most appropriate handlers.

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<note>This prevents the handler currently being executed from being chosen
as the most appropriate handler for an exception that is raised
during the execution of this handler.
</note>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:WLG-106R1</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___ deleted the lead text of a Rule and promoted the 
subrules
</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>If <sym>MAH</sym> is activated in an atomic execution context and
the condition raised is a <raise class="40"/> with any subcondition,
then the following <BNF name="resignal statement"/> is effectively executed:

<code>
RESIGNAL 
</code>

<note>If a condition results in an implicit rollback 
(See <extref part="02" ref="fnd_trans_rollbacks"/>,
in <docref ref="ISO9075-2"/>) in an atomic execution context,
the transaction has been effectively rolled back by the time the Handler body is executed.
If a transaction initiating statement is executed following this,
it would require a transaction to be initiated in an atomic execution context, which is not valid.
Therefore, the condition is effectively resignaled to an outer non-atomic execution context.
</note>

</item>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___ deleted lead text of 1 Rule and promoted its subrules
</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>If <sym>HT</sym> specifies <kw>CONTINUE</kw>, then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC1">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>The
<applySC rules="GR" ref="psm_exec_compound">
  <symarg param="COMPOUND STATEMENT"><sym>HA</sym></symarg>
</applySC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Case:

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If there is an unhandled condition other than <raise class="00"/> at the completion of 
<sym>HA</sym>,
then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC2">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item id="psm_handler_decl_cont_unhand_resig">The following <BNF name="resignal statement"/> is 
effectively executed:

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<code>
<kw>RESIGNAL</kw>
</code>

</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:CWB-093/X3H2-98-149</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Otherwise:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC3">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">POP</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:HEL-048/H2-2000-???</comment>
<item><sym>MAH</sym> is effectively added back to the list of potential most appropriate handlers.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item><sym>HA</sym> completes with completion condition <raise class="00"/> and the SQL-session 
continues as it would have done if execution of the innermost executing statement that raised
the condition had completed.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<item>If <sym>HT</sym> specifies <kw>EXIT</kw>, then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC4">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>The
<applySC rules="GR" ref="psm_exec_compound">
  <symarg param="COMPOUND STATEMENT"><sym>HA</sym></symarg>
</applySC>.
</item>

<comment>WG3:BHX-118/H2-2000-???</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:SIA-053R1</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item id="psm_handler_execution_GR_applyExtSC5">For every open standing SQL-server cursor
<symdef>CR</symdef> declared in the <BNF name="local cursor declaration list"/> of <sym>CS</sym>,
the
<applyExtSC rules="GR" ref="fnd_effclosecurs" part="02">
  <extsymarg param="CURSOR"><sym>CR</sym></extsymarg>
  <extsymarg param="DISPOSITION">SAVE</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Case:

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If there is an unhandled condition other than <raise class="00"/> at the completion of 
<sym>HA</sym>, then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC6">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>The following <BNF name="resignal statement"/> is effectively executed:

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<code>
<kw>RESIGNAL</kw>
</code>

</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Otherwise:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC7">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">POP</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:HEL-048/H2-2000-???</comment>
<item><sym>MAH</sym> is effectively added back to the list of potential most appropriate handlers.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item><sym>HA</sym> completes with completion condition <raise class="00"/> and the SQL-session 
continues as it would have done if execution of <sym>CS</sym> had completed.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<item>If <sym>HT</sym> specifies <kw>UNDO</kw>, then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC8">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-045/X3H2-96-052:USA-095</comment>
<comment>IS Sneak Peek review from Ed Dee, email dated 31 Oct 1996</comment>
<item>All changes made to SQL-data or schemas by the execution of
SQL-statements contained in the <BNF name="SQL statement list"/> of <sym>CS</sym>
and all <BNF part="02" name="SQL procedure statement"/>s triggered by the execution of
such statements are canceled.
</item>

<comment>WG3:BHX-118/H2-2000-???</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:SIA-053R1</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item id="psm_handler_execution_GR_applyExtSC9">For every open standing SQL-server cursor
<sym>CR</sym> declared in the
<BNF name="local cursor declaration list"/> of <sym>CS</sym>, the
<applyExtSC rules="GR" ref="fnd_effclosecurs" part="02">
  <extsymarg param="CURSOR"><sym>CR</sym></extsymarg>
  <extsymarg param="DISPOSITION">SAVE</extsymarg>
</applyExtSC>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>The
<applySC rules="GR" ref="psm_exec_compound">
  <symarg param="COMPOUND STATEMENT"><sym>HA</sym></symarg>
</applySC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Case:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>If there is an unhandled condition other than <raise class="00"/> at the completion of 
<sym>HA</sym>,
then:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC10">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>The following <BNF name="resignal statement"/> is effectively executed:

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<code>
<kw>RESIGNAL</kw>
</code>

</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:HEL-048/H2-2000-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Otherwise:

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_handler_execution_GR_applyExtSC11">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">POP</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:HEL-048/H2-2000-???</comment>
<item><sym>MAH</sym> is effectively added back to the list of potential most appropriate handlers.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item><sym>HA</sym> completes with completion condition <raise class="00"/> and the SQL-session 
continues as it would have done if execution of <sym>CS</sym> had completed.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</item>

<comment>Revise Subclause with signature to return to invoker; Jim Melton, 2022-09-29</comment>
<item><SCreturn/>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_handler_execution_5">

<olist>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<None/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<clause id="psm_common">
<clauseHeading>Additional common elements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_common"/>


<comment>WG3:W09-009, P02-NLD-017 deleted a Subclause</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<subClause id="psm_sqlstate_value">
<clauseHeading><BNF name="sqlstate value"/></clauseHeading>

<bodyMatter>


<Function id="psm_sqlstate_value_0">

<para>Specify an <kw>SQLSTATE</kw> value.
</para>

</Function>


<Format id="psm_sqlstate_value_1">

<grammar>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:MCI-176/X3H2-96-277</comment>
<BNFdef name="sqlstate value">
<rhs>
<kw>SQLSTATE</kw> <opt> <kw>VALUE</kw> </opt> <BNF part="02" name="character string literal"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_sqlstate_value_2">

<olist>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 ad hoc action by Hugh Darwen</comment>
<item>Let <symdef>L</symdef> be the <BNF part="02" name="character string literal"/> contained in
<BNF name="sqlstate value"/>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>The implicit or explicit character set of <sym>L</sym> shall be the
<impDef code="IC019"/> character set in which <kw>SQLSTATE</kw> parameter values
are returned.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>Let <symdef>V</symdef> be the character string that is the value of

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<code>
<kw>TRIM</kw> (<kw>BOTH</kw> <string> </string> <kw>FROM</kw> <sym>L</sym> )
</code>

</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 ad hoc action by Hugh Darwen</comment>
<item><sym>V</sym> shall comprise either:

<olist>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-161/X3H2-98-214</comment>
<comment>WG3:PEK-022 = DM32.2-2014-00___</comment>
<item>Five characters of which the first two have the form of a standard-defined class code and 
the last three have the form of a standard-defined subclass code.
</item>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-161/X3H2-98-214</comment>
<comment>WG3:PEK-022 = DM32.2-2014-00___</comment>
<item>Five characters of which the first two have the form of a standard-defined class code and 
the last three have the form of an <impDef code="IC017"/> subclass code.
</item>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-161/X3H2-98-214</comment>
<comment>WG3:PEK-022 = DM32.2-2014-00___</comment>
<item>Five characters of which the first two have the form of an <impDef code="IC016"/> class 
code and the last three have the form of either a standard-defined subclass code or 
an <impDef code="IC017"/> subclass code.
</item>

</olist>

</item>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 ad hoc action by Hugh Darwen</comment>
<item><sym>V</sym> shall not be the <kw>SQLSTATE</kw> value for the condition <raise class="00"/>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 ad hoc action by Hugh Darwen</comment>
<item>The <kw>SQLSTATE</kw> value defined by the <BNF name="sqlstate value"/> is <sym>V</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_sqlstate_value_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_sqlstate_value_4">

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<olist>

<None/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_sqlstate_value_5">

<olist>

<None/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<clause id="psm_sdl">
<clauseHeading>Schema definition and manipulation</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_sdl"/>


<subClause id="psm_schema">
<clauseHeading><BNF part="02" name="schema definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_schema"/>

<bodyMatter>

<Function id="psm_schema_0">

<para>Define a schema.
</para>

</Function>


<Format id="psm_schema_1">

<grammar>

<comment>X3H2-93-229/MUN-071</comment>
<BNFdef name="schema element">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL-server module definition"/>
</alt>
</rhs>

</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_schema_2">

<comment>DBL:RIO-091/X3H2-94-517R1</comment>
<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_schema_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_schema_4">

<comment>DBL:RIO-091/X3H2-94-517R1</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_schema_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_dropschema" newpage="true">
<clauseHeading><BNF part="02" name="drop schema statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropschema"/>

<bodyMatter>

<Function id="psm_dropschema_0">

<para>Destroy a schema.
</para>

</Function>


<Format id="psm_dropschema_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropschema_2">

<olist>

<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is specified, then <symdef>S</symdef> shall not include any
SQL-server modules.
</item>

</olist>

</SyntaxRules>


<comment>X3H2-89-118</comment>
<AccessRules id="psm_dropschema_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropschema_4">

<olist>

<comment>X3H2-91-019/ARL-012, X3H2-91-093/ARL-048, and editors instructions</comment>
<comment>DBL:MCI-141/X3H2-96-210R1</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>WG3:BER-090</comment>
<item><mergeWith part="02">
<addRule type="GR"><before ref="fnd_dropsch_udt_GR"/></addRule>
</mergeWith>
For every SQL-server module <symdef>M</symdef> contained in <sym>S</sym>:

<olist>

<comment>WG3:BER-090</comment>
<item>Let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> of <sym>M</sym>.
</item>

<comment>WG3:BER-090</comment>
<item>For every <sym>M</sym>, the following <BNF name="drop module statement"/> is
effectively executed:

<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>

</olist>

</item>

<comment>DBL:MAD-121/X3H2-96-515</comment>
<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_dropschema_droprtn_GR">
<newSubrule>If <sym>R</sym> is included in an SQL-server module <sym>M</sym>,
then let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:

<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<comment>WG3:BER-090</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_dropschema_droprtn_GR"/></addRule>
</mergeWith>
For each SQL-server module <symdef>SSM</symdef> whose module descriptor includes the
<BNF part="02" name="schema name"/> of <sym>S</sym>:

<olist>

<comment>WG3:BER-090</comment>
<item>Let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> of <sym>SSM</sym>.
</item>

<comment>WG3:BER-090</comment>
<item>The following <BNF name="drop module statement"/> is effectively executed without further
Access Rule checking:

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropschema_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>STX-052 DCOR/2004 WG3-P02-007</comment>
<subClause id="psm_tabdef" newpage="true">
<clauseHeading><BNF part="02" name="table definition"/></clauseHeading>

<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_tabdef"/>

<bodyMatter>

<Function>

<para>Define a persistent base table, a created local temporary table, or a global temporary table.
</para>

</Function>


<Format>

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules>

<olist>

<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_tabledef_2_SR_TCS">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules>

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules>

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules>

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>STX-052 DCOR/2004 WG3-P02-007</comment>
<subClause id="psm_coldef" newpage="true">
<clauseHeading><BNF part="02" name="column definition"/></clauseHeading>

<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_coldef"/>

<bodyMatter>

<Function id="psm_coldef_0">

<para>Define a column of a base table.
</para>

</Function>


<Format id="psm_coldef_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_coldef_2">

<olist>

<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_coldef_2_SR_restrict_genvalspec">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_coldef_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_coldef_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_coldef_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_default" newpage="true">
<clauseHeading><BNF part="02" name="default clause"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_default"/>

<bodyMatter>

<Function id="psm_default_0">

<comment>FIR-93/X3H2-89-356, part 14</comment>
<comment>DBL:RIO-108/X3H2-94-509</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<para>Specify the default for a column, domain, attribute, or SQL variable.
</para>

</Function>


<Format id="psm_default_1">

<grammar>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_default_2">

<olist>

<comment>DBL:MCI-177/X3H2-96-278</comment>
<comment>DBL:CWB-157/X3H2-98-210</comment>
<comment>DBL:MAD-038/X3H2-96-xxx</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_default_subj_SR">
<addition>that defined by the <BNF part="02" name="data type"/> specified in the containing
<BNF name="SQL variable declaration"/> 
</addition>
<location>as an additional datatype in the list of datatypes</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_default_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_default_4">

<comment>DBL:BBN-201/X3H2-98-418</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_default_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<subClause id="psm_checkdef" newpage="true">
<clauseHeading><BNF part="02" name="check constraint definition"/></clauseHeading>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_checkdef"/>

<bodyMatter>

<Function id="psm_checkdef_0">

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<para>Specify a condition for the SQL-data.
</para>

</Function>


<Format id="psm_checkdef_1">

<grammar>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_checkdef_2">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_checkdef_SR_searchcond">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_checkdef_3">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_checkdef_4">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_checkdef_5">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>FCD1/1998 GBR-P02-230</comment>
<subClause id="psm_drop_colscope" newpage="true">
<clauseHeading><BNF part="02" name="drop column scope clause"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_drop_colscope"/>

<bodyMatter>

<Function id="psm_drop_colscope_0">

<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<para>Drop the scope from an existing column of data type <kw>REF</kw> in a base table.
</para>

</Function>


<Format id="psm_drop_colscope_1">

<grammar>

<comment>FCD1/1998 GBR-P02-230</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_drop_colscope_2">

<olist>

<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_drop_colscope_SR_trig"/></addRule>
</mergeWith>
The module descriptor of an SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_drop_colscope_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_drop_colscope_4">

<olist>

<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_drop_colscope_GR_rtn">
<addition><sym>R</sym> is not included in an SQL-server module
</addition>
<location>as an additional predicate of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_drop_colscope_GR_rtn"/></addRule>
</mergeWith>
For every SQL-invoked routine <symdef>R</symdef>
whose routine descriptor includes an <BNF part="02" name="SQL routine body"/> that contains
an impacted dereference operation and <sym>R</sym> is included in an SQL-server module 
<symdef>M</symdef>, let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> 
of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively
executed without further Access Rule checking:

<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>


<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_drop_colscope_GR_tabcon"/></addRule>
</mergeWith>
Let <symdef>SSM</symdef> be, in turn, every SQL-server module whose module descriptor
includes an impacted dereference operation, and let <symdef>MN</symdef> be the
<BNF name="SQL-server module name"/> of <sym>SSM</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:

<comment>DBL:CWB-041R1/X3H2-98-135</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_drop_colscope_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropcol" newpage="true">
<clauseHeading><BNF part="02" name="drop column definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropcol"/>

<bodyMatter>

<Function id="psm_dropcol_0">

<comment>FDIS1SP1, 2003</comment>
<para>Destroy a column of a base table.
</para>

</Function>


<Format id="psm_dropcol_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropcol_2">

<olist>

<comment>DBL:MAD-121/X3H2-96-515</comment>
<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:CJU-024R1 = H2-2009-00144R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropcol_restrict_SR_trigger"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropcol_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropcol_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropcol_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropcons" newpage="true">
<clauseHeading><BNF part="02" name="drop table constraint definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropcons"/>

<bodyMatter>

<Function id="psm_dropcons_0">

<para>Destroy a constraint on a table.
</para>

</Function>


<Format id="psm_dropcons_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropcons_2">

<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropcons_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropcons_4">

<olist>

<comment>DBL:MAD-121/X3H2-96-515</comment>
<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:BWU-033 = H2-2008-083, email from Jan-Eike Michels, 2008-07-11</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_dropcons_droprtn_GR">
<newSubrule>If <sym>R</sym> is included in an SQL-server module <symdef>M</symdef>,
then let <symdef>MN</symdef> be the
<BNF name="SQL-server module name"/> of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:
<comment>Stephen Cannan 2004-09-21 Replace slist item mono tags with code tag</comment>

<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropcons_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_droptab" newpage="true">
<clauseHeading><BNF part="02" name="drop table statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_droptab"/>

<bodyMatter>

<Function id="psm_droptab_0">

<para>Destroy a table.
</para>

</Function>


<Format id="psm_droptab_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_droptab_2">

<olist>

<comment>Merger of SQL/Object with SQL/Foundation/Bindings/CLI/PSM</comment>
<comment>DBL:LGW-145/X3H2-97-348</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_droptab_restrict_SR"/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is specified, then <symdef>T</symdef> shall not be referenced
in the module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_droptab_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_droptab_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_droptab_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-036/X3H2-96-167</comment>
<subClause id="psm_view" newpage="true">
<clauseHeading><BNF part="02" name="view definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_view"/>

<bodyMatter>

<Function id="psm_view_0">

<para>Define a viewed table.
</para>

</Function>


<Format id="psm_view_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_view_2">

<olist>

<comment>WG3:HBA-051R1 = H2-2003-___ with editorial action to align first BNF with Foundation
</comment>
<comment>WG3:KMG-033 = DM32.2-2010-00090</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_view_SR_queryexp">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:SXF-021 = DM32.2-2012-00018R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_view_SR_paramdefault"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

<comment>Email from Hugh Darwen, 2004-02-04 deleted an SR that provided only a Note</comment>
</olist>

</SyntaxRules>


<AccessRules id="psm_view_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_view_4">

<comment>DBL:MCI-036/X3H2-96-167</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_view_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropview" newpage="true">
<clauseHeading><BNF part="02" name="drop view statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropview"/>

<bodyMatter>

<Function id="psm_dropview_0">

<para>Destroy a view.
</para>

</Function>


<Format id="psm_dropview_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropview_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropview_restrict_SR"/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is  specified, then <symdef>V</symdef> shall not be referenced in
the module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropview_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropview_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropview_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropdom" newpage="true">
<clauseHeading><BNF part="02" name="drop domain statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropdom"/>

<bodyMatter>

<Function id="psm_dropdom_0">

<para>Destroy a domain.
</para>

</Function>


<Format id="psm_dropdom_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropdom_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropdom_restrict_SR"/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is specified, then <symdef>D</symdef> shall not be referenced in
the module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropdom_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropdom_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropdom_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropcharset" newpage="true">
<clauseHeading><BNF part="02" name="drop character set statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropcharset"/>

<bodyMatter>

<Function id="psm_dropcharset_0">

<para>Destroy a character set.
</para>

</Function>


<Format id="psm_dropcharset_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropcharset_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropcharset_notC_SR"/></addRule>
</mergeWith>
<sym>C</sym> shall not be referenced in the module descriptor of any
SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropcharset_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropcharset_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropcharset_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropcollation" newpage="true">
<clauseHeading><BNF part="02" name="drop collation statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropcollation"/>

<bodyMatter>

<Function id="psm_dropcollation_0">

<comment>WG3:ICN-054R2 = H2-2002-___ and WG3:ICN-027R1 = H2-2002-__</comment>
<para>Destroy a collation.
</para>

</Function>


<Format id="psm_dropcollation_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropcollation_2">

<olist>

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropcollation_SR_restr"/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is specified, then <symdef>C</symdef> shall not be referenced in
the module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropcollation_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropcollation_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropcollation_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>WG3:PER-067/H2-2001-???</comment>
<subClause id="psm_droptrans" newpage="true">
<clauseHeading><BNF part="02" name="drop transliteration statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_droptrans"/>

<bodyMatter>

<Function id="psm_droptrans_0">

<comment>WG3:PER-067/H2-2001-???</comment>
<para>Destroy a character transliteration.
</para>

</Function>


<Format id="psm_droptrans_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_droptrans_2">

<olist>

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_droptrans_SR_schema"/></addRule>
</mergeWith>
If <kw>RESTRICT</kw> is specified, then <symdef>T</symdef> shall not be referenced in
the module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_droptrans_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_droptrans_4">

<comment>WG3:YYJ-075 = H2-2001-___</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_droptrans_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-082R1/X3H2-96-095R2:8 and DBL:MCI-161/X3H2-96-322:2.2</comment>
<subClause id="psm_assertion" newpage="true">
<clauseHeading><BNF part="02" name="assertion definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_assertion"/>

<bodyMatter>

<Function id="psm_assertion_0">

<comment>FDIS1SP1, 2003</comment>
<para>Specify an integrity constraint.
</para>

</Function>


<Format id="psm_assertion_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_assertion_2">

<olist>

<comment>WG3:LCY-055R1 = DM32.2-2009-00___</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_assertion_SR_prohibit">
<addition><BNF name="SQL variable name"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_assertion_SR_prohibit"/></addRule>
</mergeWith>

<note><BNF name="SQL variable name"/> is also excluded because of the scoping rules for
<BNF name="SQL variable name"/>.
</note>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_assertion_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_assertion_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_assertion_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<subClause id="psm_dropassert" newpage="true">
<clauseHeading><BNF part="02" name="drop assertion statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dropassert"/>

<bodyMatter>

<Function id="psm_dropassert_0">

<para>Destroy an assertion.
</para>

</Function>


<Format id="psm_dropassert_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropassert_2">

<comment>DBL:MAD-121/X3H2-96-515</comment>
<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropassert_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropassert_4">

<olist>

<comment>DBL:MAD-121/X3H2-96-515</comment>
<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_dropass_droprtn_GR_droprtn">
<newSubrule>If <sym>R</sym> is included in an SQL-server module <symdef>M</symdef>,
then let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:

<comment>Stephen Cannan 2004-09-21, Replace slist item mono tags with code tag</comment>
<comment>DBL:MCI-054R1/X3H2-96-088R1</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropassert_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:BBN-154/X3H2-98-377</comment>
<subClause id="psm_trigger" newpage="true">
<clauseHeading><BNF part="02" name="trigger definition"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_trigger"/>

<bodyMatter>

<Function id="psm_trigger_0">

<comment>WG3:BBN-154/X3H2-98-377</comment>
<para>Defined triggered SQL-statements.
</para>

</Function>


<Format id="psm_trigger_1">

<grammar>

<comment>WG3:BBN-154/X3H2-98-377</comment>
<comment>Email from Andrew Eisenberg on 4-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>Email from Stephen Cannan, 2021-12-28</comment>
<NoFormat/>

</grammar>

<comment>1 note deleted. Email from Stephen Cannan, 2021-12-28</comment>
</Format>


<SyntaxRules id="psm_trigger_2">

<olist>

<comment>Email from Stephen Cannan, 2021-12-28</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
<BNF name="triggered SQL statement" part="02"/> shall not immediately contain
a <BNF name="compound triggered SQL statement" part="02"/>.

<comment>Email from Stephen Cannan, 2021-12-28</comment>
<note>The <BNF name="compound triggered SQL statement" part="02"/> is redundant
as it will now be parsed as a <BNF name="compound statement"/>.
</note>

</item>

<comment>WG3:BBN-154/X3H2-98-377</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
If <BNF part="02" name="SQL procedure statement"/> simply contains 
a <BNF name="compound statement"/> <symdef>CS</symdef>, then <sym>CS</sym> shall specify 
<kw>ATOMIC</kw>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_trigger_3">

<olist>

<comment>FDIS1SP1, 2003, editorial liberty</comment>
<comment>WG3:DRS-073R3/H2-2002-446R2</comment>
<comment>Email from Krishna Kulkarni, 2003-03-25</comment>
<comment>WG3:JFK-041 = H2-2007-113, part 2.1, item 43 and item 44 amended</comment>
<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="AR" ref="fnd_trigger_AR_trigaction">
<addition>that <sym>NTVN</sym> is not an <BNF name="assignment target"/> of 
an <BNF name="assignment statement"/>
</addition>
<location>as a restriction for <sym>NTVN</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-06-09 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="AR"><after ref="fnd_trigger_AR_trigaction"/></addRule>
</mergeWith>
If the <BNF part="02" name="triggered action"/>
<symdef>TA</symdef> of a <BNF part="02" name="trigger definition"/> contains 
a <BNF part="02" name="new transition variable name"/> <symdef>NTVN</symdef>
as an <BNF name="assignment target"/> of an <BNF name="assignment statement"/>, then the
applicable privileges for <sym>A</sym> shall include <kw>UPDATE</kw> on <sym>T</sym>.
</item>

</olist>

</AccessRules>


<GeneralRules id="psm_trigger_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_trigger_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:CWB-128/X3H2-98-183</comment>
<subClause id="psm_drop_userdeford" newpage="true">
<clauseHeading><BNF part="02" name="drop user-defined ordering statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_drop_userdeford"/>

<bodyMatter>

<Function id="psm_drop_userdeford_0">

<comment>DBL:CWB-128/X3H2-98-183</comment>
<para>Destroy a user-defined ordering method.
</para>

</Function>


<Format id="psm_drop_userdeford_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_drop_userdeford_2">

<olist>

<comment>DBL:CWB-128/X3H2-98-183</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_drop_userdeford_SR_trig"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_drop_userdeford_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_drop_userdeford_4">

<olist>

<comment>DBL:CWB-128/X3H2-98-183</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_drop_userdeford_GR_droprtn">
<newSubrule><comment>DBL:CWB-128/X3H2-98-183</comment>
If <sym>R</sym> is included in an SQL-server module <symdef>M</symdef>
with no intervening <BNF part="02" name="schema definition"/>, then let <symdef>MN</symdef> be the
<BNF name="SQL-server module name"/> of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:

<comment>Stephen Cannan 2004-09-21Replace slist item mono tags with code tag</comment>
<comment>DBL:CWB-128/X3H2-98-183</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>DBL:CWB-128/X3H2-98-183</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_drop_userdeford_GR_droptrg"/></addRule>
</mergeWith>
Let <symdef>SSM</symdef> be, in turn, each SQL-server module whose module descriptor
contains an operand of an equality operation, a grouping operation, or an ordering operation whose
declared type is some user-defined type <symdef>T1</symdef> whose comparison type is <sym>UDT</sym>
and let <symdef>MN</symdef> be the
<BNF name="SQL-server module name"/> of <sym>SSM</sym>.
The following <BNF name="drop module statement"/> is effectively executed without further Access
Rule checking:

<comment>Stephen Cannan 2004-09-21Replace slist item mono tags with code tag</comment>
<comment>DBL:CWB-128/X3H2-98-183</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_drop_userdeford_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-93-229/MUN-071</comment>
<comment>X3H2-91-014/ARL-012</comment>
<subClause id="psm_moddef" newpage="true">
<clauseHeading><BNF name="SQL-server module definition"/></clauseHeading>

<bodyMatter>


<Function id="psm_moddef_0">

<comment>X3H2-93-229/MUN-071</comment>
<para>Define an SQL-server module.
</para>

</Function>


<Format id="psm_moddef_1">

<grammar>

<comment>X3H2-93-229/MUN-071</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DCOR 2000, SWE-STC-068</comment>
<BNFdef name="SQL-server module definition">
<rhs>
<kw>CREATE</kw> <kw>MODULE</kw> <BNF name="SQL-server module name"/>
<breakindent/>
<opt> <BNF name="SQL-server module character set specification"/> </opt>
<breakindent/>
<opt> <BNF name="SQL-server module schema clause"/> </opt>
<breakindent/>
<opt> <BNF name="SQL-server module path specification"/> </opt>
<breakindent/>
<opt> <BNF part="02" name="temporary table declaration"/><repeat/> </opt>
<breakindent/>
<BNF name="SQL-server module contents"/><repeat/>
<breakindent/>
<kw>END</kw> <kw>MODULE</kw>
</rhs>
</BNFdef>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<BNFdef name="SQL-server module character set specification">
<rhs>
<kw>NAMES</kw> <kw>ARE</kw> <BNF part="02" name="character set specification"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<BNFdef name="SQL-server module schema clause">
<rhs>
<kw>SCHEMA</kw> <BNF name="default schema name"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<BNFdef name="default schema name">
<rhs>
<BNF part="02" name="schema name"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<BNFdef name="SQL-server module path specification">
<rhs>
<BNF part="02" name="path specification"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MAD-113/X3H2-96-492</comment>
<comment>Email from Ake Persson, 2002-03-01</comment>
<BNFdef name="SQL-server module contents">
<rhs>
<BNF name="SQL-invoked routine"/> <BNF part="02" name="semicolon"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_moddef_2">

<olist>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>If an <BNF name="SQL-server module definition"/> is contained in 
a <BNF part="02" name="schema definition"/> <symdef>SD</symdef> and the 
<BNF name="SQL-server module name"/> of the <BNF name="SQL-server module definition"/> contains 
a <BNF part="02" name="schema name"/>, then that <BNF part="02" name="schema name"/> shall be 
equivalent to the specified or implicit <BNF part="02" name="schema name"/> of <sym>SD</sym>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The schema identified by the explicit or implicit <BNF part="02" name="schema name"/> of
the <BNF name="SQL-server module name"/> shall not include a module descriptor
whose <BNF name="SQL-server module name"/> is equivalent to the
<BNF name="SQL-server module name"/> of the containing
<BNF name="SQL-server module definition"/>.
</item>

<comment>DBL:MAD-113/X3H2-96-492</comment>
<item>The SQL-invoked routine specified by <BNF name="SQL-invoked routine"/> shall
not be a schema-level routine.

<comment>DBL:MAD-113/X3H2-96-492</comment>
<note><quote>Schema-level routine</quote> is defined in <extref part="02" ref="fnd_routine"/>,
in <docref ref="ISO9075-2"/>.
</note>

</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MAD-096/X3H2-96-460R1</comment>
<item>If <BNF name="SQL-server module path specification"/> is not specified, then 
an <BNF name="SQL-server module path specification"/> containing an <impDef code="ID005"/> 
<BNF part="02" name="schema name list"/> that includes the explicit or implicit 
<BNF part="02" name="schema name"/> of the <BNF name="SQL-server module name"/> is implicit.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MAD-096/X3H2-96-460R1</comment>
<item>The explicit or implicit <BNF part="02" name="catalog name"/> of each 
<BNF part="02" name="schema name"/> contained in the <BNF part="02" name="schema name list"/> of the
<BNF name="SQL-server module path specification"/> shall be equivalent to the
<BNF part="02" name="catalog name"/> of the explicit or implicit 
<BNF part="02" name="schema name"/> of the <BNF name="SQL-server module name"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MAD-096/X3H2-96-460R1</comment>
<item>The <BNF part="02" name="schema name list"/> of the explicit or implicit
<BNF name="SQL-server module path specification"/> is used as the SQL-path of the
SQL-server module.
The SQL-path is used to effectively qualify unqualified <BNF part="02" name="routine name"/>s that 
are immediately contained in <BNF part="02" name="routine invocation"/>s that are contained in the
<BNF name="SQL-server module definition"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>If <BNF name="SQL-server module schema clause"/> is not specified, then 
an <BNF name="SQL-server module schema clause"/> containing the
<BNF name="default schema name"/> that is equivalent to the explicit or implicit
<BNF part="02" name="schema name"/> of the <BNF name="SQL-server module name"/> is implicit.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>If <BNF name="SQL-server module character set specification"/> is not
specified, then an <BNF name="SQL-server module character set specification"/>
containing the <BNF part="02" name="character set specification"/> that is equivalent to the
<BNF part="02" name="schema character set specification"/> of the schema identified by the
explicit or implicit <BNF part="02" name="schema name"/> of the <BNF name="SQL-server module name"/>
is implicit.
</item>

<comment>DBL:CWB-051R1/X3H2-98-021R3</comment>
<item>The explicit or implicit
<BNF name="SQL-server module character set specification"/> is the character set in
which the SQL-server module is represented.
If the SQL-server module is actually represented in a different character set, then the effects 
are <unDef code="UA030"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_moddef_3">

<olist>

<comment>X3H2-93-229/MUN-071</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>FCD1/1998 USA-P04-015 and others, editorially</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<item>If an <BNF name="SQL-server module definition"/> is contained in 
an <BNF part="02" name="SQL-client module definition"/> with no intervening
<BNF part="02" name="schema definition"/>, then the enabled authorization identifiers shall
include the <BNF part="02" name="authorization identifier"/> that owns the schema identified
by the implicit or explicit <BNF part="02" name="schema name"/> of the
<BNF name="SQL-server module name"/>.
</item>

</olist>

</AccessRules>


<GeneralRules id="psm_moddef_4">

<olist>

<comment>X3H2-93-229/MUN-071</comment>
<item>An <BNF name="SQL-server module definition"/> defines an SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>A privilege descriptor is created that defines the <kw>EXECUTE</kw> privilege
on the SQL-server module to the <BNF part="02" name="authorization identifier"/> that owns
the schema identified by the explicit or implicit <BNF part="02" name="schema name"/> of the
<BNF name="SQL-server module name"/>.
The grantor for the privilege descriptor is set to the special grantor value 
<delimId>_SYSTEM</delimId>.
This privilege is grantable if and only if all of the privileges necessary for the
<BNF part="02" name="authorization identifier"/> to successfully execute the
<BNF part="02" name="SQL procedure statement"/> contained in the 
<BNF part="02" name="routine body"/> of every
<BNF name="SQL-invoked routine"/> contained in the
<BNF name="SQL-server module definition"/> are grantable.

<comment>DBL:MCI-194/X3H2-96-334</comment>
<note>The necessary privileges include the <kw>EXECUTE</kw> privilege on every subject
routine of every <BNF part="02" name="routine invocation"/> contained in the
<BNF part="02" name="SQL procedure statement"/>.
</note>

</item>

<comment>DBL:MCI-139/X3H2-96-257R1:2.1 and DBL:MCI-045/X3H2-96-052:USA-083</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>An SQL-server module descriptor is created that describes the
SQL-server module being defined.
The SQL-server module descriptor includes:

<olist>

<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The SQL-server module name specified by the
<BNF name="SQL-server module name"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The descriptor of the character set specified by the
<BNF name="SQL-server module character set specification"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>FCD1/1998 JPN-P04-021</comment>
<item>The default schema name specified by the
<BNF name="SQL-server module schema clause"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The SQL-server module authorization identifier that corresponds to the
authorization identifier that owns the schema identified by the explicit
or implicit <BNF part="02" name="schema name"/> of the <BNF name="SQL-server module name"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The list of schema names contained in the
<BNF name="SQL-server module path specification"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The descriptor of every local temporary table declared in the
SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The descriptor of every SQL-invoked routine contained in the
SQL-server module.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The text of the <BNF name="SQL-server module definition"/>.
</item>

<comment>WG3:URC-059</comment>
<item>The CURRENT_TIMESTAMP as the value of the creation timestamp.
</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_moddef_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P001"/>, conforming SQL language
shall not contain an <BNF name="SQL-server module definition"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-014/ARL-012</comment>
<subClause id="psm_dropmod" newpage="true">
<clauseHeading><BNF name="drop module statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_dropmod_0">

<para>Destroy an SQL-server module.
</para>

</Function>


<Format id="psm_dropmod_1">

<grammar>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<BNFdef name="drop module statement">
<rhs>
<kw>DROP</kw> <kw>MODULE</kw> <BNF name="SQL-server module name"/> 
<BNF part="02" name="drop behavior"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_dropmod_2">

<olist>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>Let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> and 
let <symdef>M</symdef> be the SQL-server module identified by <sym>MN</sym>.
</item>

<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<item><sym>M</sym> shall be an SQL-server module.
</item>

<comment>This rule somehow seems to have gotten lost after PSM-96 was published</comment>
<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<comment>DBL:LGW-041/X3H2-97-185</comment>
<item>If <kw>RESTRICT</kw> is specified, then the descriptor of <sym>M</sym> shall
not include the descriptor of an SQL-invoked routine that is included in
the subject routines of a <BNF part="02" name="routine invocation"/> that is contained in any
of the following:

<olist>

<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<item>The <BNF part="02" name="SQL routine body"/> of a routine descriptor not included in
the module descriptor of <sym>M</sym>.
</item>

<comment>WG3:CJU-024R1 = H2-2009-00144R2</comment>
<item>The <BNF part="02" name="parameter default"/> of an SQL parameter of a routine
descriptor not included in the module descriptor of <sym>M</sym>.
</item>

<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<item>The <BNF part="02" name="query expression"/> of a view descriptor.
</item>

<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<comment>WG3:ICN-070 = H2-2002-___</comment>
<item>The <BNF part="02" name="search condition"/> of a constraint descriptor.
</item>

<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<item>Any trigger descriptor.
</item>

<comment>DBL:MAD-188r1/X3H2-96-599r2</comment>
<item>The module descriptor of an SQL-server module other than
<sym>M</sym>.
</item>

</olist>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropmod_3">

<olist>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<item>The enabled authorization identifiers shall include the
<BNF part="02" name="authorization identifier"/> that owns the schema identified by the
<BNF part="02" name="schema name"/> of <sym>M</sym>.
</item>

</olist>

</AccessRules>


<GeneralRules id="psm_dropmod_4">

<olist>

<comment>X3H2-91-093/ARL-048</comment>
<comment>WG3:BBN-101/X3H2-98-309R1</comment>
<item>Let <symdef>A</symdef> be the current authorization identifier.
The following <BNF part="02" name="revoke statement"/> is effectively executed with a current
authorization identifier of <delimId>_SYSTEM</delimId> and without further Access Rule checking:
<comment>Stephen Cannan 2004-09-21 Replace slist item mono tags with code tag</comment>

<comment>DBL:MCI-045/X3H2-96-052:USA-085</comment>
<code>
<kw>REVOKE</kw> <kw>EXECUTE</kw> <kw>ON</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>FROM</kw> <sym>A</sym>
<kw>CASCADE</kw>
</code>

</item>

<comment>DBL:MCI-045/X3H2-96-052:USA-085</comment>
<comment>DBL:LGW-147/X3H2-97-350</comment>
<item>The descriptor of <sym>M</sym> is destroyed.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropmod_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P001"/>, conforming SQL language
shall not contain a <BNF name="drop module statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>Email from Chris Farrar on 22-Jan-1999 re:FCD1 SneakPeek1</comment>
<subClause id="psm_dropdatatype" newpage="true">
<clauseHeading><BNF part="02" name="drop data type statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_dropdatatype"/>

<bodyMatter>

<Function id="psm_dropdatatype_0">

<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<para>Destroy a user-defined type.
</para>

</Function>


<Format id="psm_dropdatatype_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropdatatype_2">

<olist>

<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropdatatype_SR_norefUDT"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropdatatype_SR_nosubjtrig"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropdatatype_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropdatatype_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropdatatype_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-94-102/SOU-063</comment>
<subClause id="psm_routine" newpage="true">
<clauseHeading><BNF name="SQL-invoked routine"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_routine"/>

<bodyMatter>

<Function id="psm_routine_0">

<para>Define an SQL-invoked routine.
</para>

</Function>


<Format id="psm_routine_1">

<grammar>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<BNFdef name="SQL-invoked routine">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="module routine"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<BNFdef name="module routine">
<rhs>
<alt>
<BNF name="module procedure"/>
</alt>
<alt>
<BNF name="module function"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<BNFdef name="module procedure">
<rhs>
<opt> <kw>DECLARE</kw> </opt> <BNF part="02" name="SQL-invoked procedure"/>
</rhs>
</BNFdef>

<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<BNFdef name="module function">
<rhs>
<opt> <kw>DECLARE</kw> </opt> <BNF part="02" name="SQL-invoked function"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_routine_2">

<olist>

<comment>DBL:MCI-139/X3H2-96-257R1:2.1</comment>
<comment>DBL:MCI-196/X3H2-96-336</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_routine_implicit_SR">
<newSubrule>If an <BNF name="SQL-invoked routine"/> is contained in 
an <BNF name="SQL-server module definition"/>, and <BNF part="02" name="language clause"/> is not
specified, then a <BNF part="02" name="language clause"/> that is equivalent to the
<BNF part="02" name="language clause"/> of the <BNF name="SQL-server module definition"/> is 
implicit.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:FRA-108R1 amended/X3H2-98-621</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="SR" ref="fnd_routine_in_schema_SR">
<newSubrule>If <BNF name="SQL-invoked routine"/> is contained in 
an <BNF name="SQL-server module definition"/> and if <sym>RN</sym> contains 
a <BNF part="02" name="schema name"/> <sym>SN</sym>, then <sym>SN</sym> shall be equivalent
to the specified or implicit <BNF part="02" name="schema name"/> of the containing
<BNF name="SQL-server module definition"/>.
Let <symdef>S</symdef> be the SQL-schema identified by <sym>SN</sym>.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>WG3:KMG-045 = DM32.2-2010-00108</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_routine_SR_noclientmodtemptbl"/></addRule>
</mergeWith>
An <BNF part="02" name="SQL routine body"/> contained in a schema-level routine
shall not immediately contain an <BNF part="02" name="SQL procedure statement"/>
that simply contains a <BNF part="02" name="table reference"/> that identifies
an SQL-server module declared local temporary table.
</item>


</olist>

</SyntaxRules>


<AccessRules id="psm_routine_3">

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_routine_4">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_routine_schema_level_GR"/></addRule>
</mergeWith>
If the SQL-invoked routine is a schema-level routine, then the schema name
of the schema that includes the SQL-invoked routine; otherwise, the
SQL-server module name of the SQL-server module that includes the
SQL-invoked routine and the schema name of the schema that includes that
SQL-server module.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_routine_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<subClause id="psm_droproutine" newpage="true">
<clauseHeading><BNF part="02" name="drop routine statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_droproutine"/>

<bodyMatter>

<Function id="psm_droproutine_0">

<para>Destroy an SQL-invoked routine.
</para>

</Function>


<Format id="psm_droproutine_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_droproutine_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_droproutine_trig_SR"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_droproutine_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_droproutine_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_droproutine_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<subClause id="psm_dropuserdefcast" newpage="true">
<clauseHeading><BNF part="02" name="drop user-defined cast statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_dropuserdefcast"/>

<bodyMatter>

<Function id="psm_dropuserdefcast_0">

<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<para>Destroy a user-defined cast.
</para>

</Function>


<Format id="psm_dropuserdefcast_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dropuserdefcast_2">

<olist>

<comment>WG3:BBN-191R2/X3H2-98-408</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_dropuserdefcast_SR_notrig"/></addRule>
</mergeWith>
The module descriptor of any SQL-server module.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dropuserdefcast_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dropuserdefcast_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dropuserdefcast_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>DBL:CWB-014R1/X3H2-98-057</comment>
<clause id="psm_access">
<clauseHeading>Access control</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_access"/>


<comment>DBL:CWB-014R1/X3H2-98-057</comment>
<comment>X3H2-95-164/DBL:YOW-046</comment>
<comment>DBL:RIO-113/X3H2-94-542</comment>
<subClause id="psm_grant">
<clauseHeading><BNF part="02" name="grant statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_grant"/>

<bodyMatter>

<Function id="psm_grant_0">

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<para>Define privileges and role authorizations.
</para>

</Function>


<Format id="psm_grant_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_grant_2">

<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_grant_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_grant_4">

<olist>

<comment>DBL:MCI-194/X3H2-96-334</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>Email from Stephen Cannan, 2001-05-16</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><last/></addRule>
</mergeWith>
For every involved grantee <symdef>G</symdef> and for every SQL-server module
<symdef>M1</symdef> owned by <sym>G</sym>, if the applicable privileges for
<sym>G</sym> contain all of the privileges necessary to successfully
execute every <BNF part="02" name="SQL procedure statement"/> contained in the
<BNF part="02" name="routine body"/> of every SQL-invoked routine contained in <sym>M1</sym>,
and those privileges are grantable, then for every
privilege descriptor with an <BNF part="02" name="action"/> of <kw>EXECUTE</kw>,
a <BNF part="02" name="grantor"/> of
<delimId>_SYSTEM</delimId>, <BNF name="object name"/> of <sym>M1</sym>,
and <BNF part="02" name="grantee"/>
<sym>G</sym> that is not grantable, the following <BNF part="02" name="grant statement"/> is
effectively executed with a current user identifier of <delimId>_SYSTEM</delimId> and without
further Access Rule checking:
<comment>Stephen Cannan 2004-09-21 Replace slist item mono tags with code tag</comment>

<comment>DBL:MCI-194/X3H2-96-334</comment>
<code>
<kw>GRANT</kw> <kw>EXECUTE</kw> <kw>ON</kw> <sym>M1</sym> <kw>TO</kw>
<sym>G</sym> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>.
</code>

<comment>DBL:MCI-194/X3H2-96-334</comment>
<note>The privileges necessary include the <kw>EXECUTE</kw> privilege on every subject
routine of every <BNF part="02" name="routine invocation"/> contained in those
<BNF part="02" name="SQL procedure statement"/>s.
</note>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_grant_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-94-102/SOU-063</comment>
<subClause id="psm_privs" newpage="true">
<clauseHeading><BNF part="02" name="privileges"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_privs"/>

<bodyMatter>

<Function id="psm_privs_0">

<para>Specify privileges.
</para>

</Function>


<Format id="psm_privs_1">

<grammar>

<comment>DBL:RIO-113/X3H2-94-542</comment>
<comment>X3H2-95-164/DBL:YOW-046</comment>
<BNFdef name="object name">
<rhs>
<alt> <allAltsFrom part="02"/> </alt>
<alt> <kw>MODULE</kw> <BNF name="SQL-server module name"/> </alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_privs_2">

<olist>

<comment>DBL:RIO-113/X3H2-94-542</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CPT-030R1 = DM32.2-2016-00112R2</comment>
<comment>W01-013</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_privs_SR_exec"/></addRule>
</mergeWith>
If the object identified by <sym>ON</sym> is an SQL-server module, then <sym>AC</sym> shall 
specify <kw>EXECUTE</kw>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_privs_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_privs_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_privs_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:RKE-021</comment>
<item><mergeWith part="02">
<addRule type="CR">
<last/>
</addRule>
</mergeWith>
Without <feature code="P001"/>, conforming SQL language
shall not contain an <BNF name="object name"/> that contains <kw>MODULE</kw>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<subClause id="psm_revoke" newpage="true">
<clauseHeading><BNF part="02" name="revoke statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_revoke"/>

<bodyMatter>

<Function id="psm_revoke_0">

<comment>FDIS1SP1, 2003</comment>
<para>Destroy privileges and role authorizations.
</para>

</Function>


<Format id="psm_revoke_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_revoke_2">

<comment>WG3:SIA-060R1</comment>
<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_revoke_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_revoke_4">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:SIA-060R1</comment>
<comment>WG3:LCY-025 = DM32.2-2009-00093R3</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W13-020</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_revoke_GR_reqexecprivsubjrtn"/></addRule>
</mergeWith>
<kw>EXECUTE</kw> privilege on every SQL-server module that includes
one or more SQL-invoked routines that are among the subject routines of 
a <BNF name="routine invocation" part="02"/>, <BNF name="method invocation" part="02"/>,
<BNF name="static method invocation" part="02"/>, or <BNF name="method reference" part="02"/>
that is contained in <sym>REPO</sym>.
</item>

<comment>WG3:W21-056R3</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_revoke_GR_triggerdesc_shoonly"/></addRule>
</mergeWith>
<kw>EXECUTE</kw> privilege on every SQL-server module that includes
one or more SQL-invoked routines that are among the subject routines of 
a <BNF name="routine invocation" part="02"/>, <BNF name="method invocation" part="02"/>,
<BNF name="static method invocation" part="02"/>, or <BNF name="method reference" part="02"/>
that is contained in the <BNF name="triggered SQL statement" part="02"/> of <sym>TR</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:SIA-060R1</comment>
<comment>WG3:CJU-024R1 = H2-2009-00144R2</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_revoke_routine_GR_exec"/></addRule>
</mergeWith>
<kw>EXECUTE</kw> privilege on every SQL-server module that includes one or more
SQL-invoked routines that are among the subject routines of 
a <BNF part="02" name="routine invocation"/>,
<BNF part="02" name="method invocation"/>,
<BNF part="02" name="static method invocation"/>,
or <BNF part="02" name="method reference"/> that is contained
in the <BNF part="02" name="SQL routine body"/> of <symdef>RD</symdef> or in
the <BNF part="02" name="parameter default"/> of an SQL parameter of <symdef>RD</symdef>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>Email from Fred Zemke, 2001-07-06</comment>
<comment>FCD1/2002, SWE-P04-001</comment>
<comment>WG3:SIA-060R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_revoke_GR_cascade"/></addRule>
</mergeWith>
Let <symdef>SSM</symdef> be, in turn, each SQL-server module descriptor of an SQL-server
module included in <sym>S1</sym>.
<sym>SSM</sym> is said to be
<newterm>abandoned</newterm> if the revoke destruction action would result in
<sym>A1</sym> no longer having in its applicable privileges any of the following:

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<item><kw>EXECUTE</kw> privilege on every schema-level routine that is among the
subject routines of a <BNF part="02" name="routine invocation"/>,
<BNF part="02" name="method invocation"/>,
<BNF part="02" name="static method invocation"/>,
or <BNF part="02" name="method reference"/>
that is contained in the
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<item><kw>EXECUTE</kw> privilege on every SQL-server module that includes one or more
SQL-invoked routines that are among the subject routines of 
a <BNF part="02" name="routine invocation"/>,
<BNF part="02" name="method invocation"/>,
<BNF part="02" name="static method invocation"/>,
or <BNF part="02" name="method reference"/>
that is contained in the <BNF part="02" name="SQL routine body"/> of
any SQL-invoked routine included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:HEL-044R1/H2-2000-479</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column of each table identified by 
a <BNF part="02" name="table reference"/> contained in a <BNF part="02" name="query expression"/> 
simply contained in a <BNF part="02" name="cursor specification"/>, 
an <BNF part="02" name="insert statement"/>, or 
a <BNF part="02" name="merge statement"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked
routine with an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column of each table identified by 
a <BNF part="02" name="table reference"/> contained in a <BNF part="02" name="table expression"/> or
<BNF part="02" name="select list"/> immediately contained in 
a <BNF part="02" name="select statement: single row"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:HEL-044R1/H2-2000-479</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>Email from Stephen Cannan, 2001-05-20</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column of each table identified by 
a <BNF part="02" name="table reference"/> contained in a <BNF part="02" name="search condition"/> 
contained in a <BNF part="02" name="delete statement: searched"/>, 
an <BNF part="02" name="update statement: searched"/>, or
a <BNF part="02" name="merge statement"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>Email from Stephen Cannan, 2001-05-20</comment>
<comment>WG3:E3B-015/H2-2001-298R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column of each table identified by 
a <BNF part="02" name="table reference"/> contained in a <BNF part="02" name="value expression"/> 
simply contained in an <BNF part="02" name="update source"/> or 
an <BNF part="02" name="assigned row"/> contained in the <BNF part="02" name="SQL routine body"/> 
of an SQL-invoked routine with an SQL security characteristic
of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:VIE-046 = H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column identified by 
a <BNF part="02" name="column reference"/> contained in a <BNF part="02" name="search condition"/> 
contained in a <BNF part="02" name="delete statement: searched"/>, 
an <BNF part="02" name="update statement: searched"/>, or 
a <BNF part="02" name="merge statement"/> contained in the <BNF part="02" name="SQL routine body"/> 
of an SQL-invoked routine with an SQL security characteristic of <kw>DEFINER</kw> included in
<sym>SSM</sym>.
</item>

<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:E3B-015/H2-2001-298R1</comment>
<comment>WG3:VIE-046 = H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on at least one column identified by 
a <BNF part="02" name="column reference"/> contained in a <BNF part="02" name="value expression"/> 
simply contained in an <BNF part="02" name="update source"/> or 
an <BNF part="02" name="assigned row"/> contained in the
<BNF name="SQL routine body" part="02"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:W21-056R3</comment>
<item><kw>SELECT</kw> privilege on at least one column identified by
a <BNF name="column reference" part="02"/>
contained in a <BNF name="value expression" part="02"/> simply contained in
an <BNF name="SQL control statement"/> contained in the <BNF name="SQL routine body" part="02"/>
of any SQL-invoked routine with an SQL security characteristic of <kw>DEFINER</kw>
included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<item><kw>INSERT</kw> privilege on every column

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<para>Case:
</para>

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Identified by a <BNF part="02" name="column name"/> contained in the
<BNF part="02" name="insert column list"/> of an <BNF part="02" name="insert statement"/> 
or a <BNF part="02" name="merge statement"/>contained in the
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Of the table identified by the <BNF part="02" name="table name"/> immediately contained
in an <BNF part="02" name="insert statement"/> that does not contain 
an <BNF part="02" name="insert column list"/> and that is contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:HEL-044R1/H2-2000-479</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:LCY-024 = DM32.2-2009-00087</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Of the table identified by the <BNF part="02" name="target table"/> immediately contained
in a <BNF part="02" name="merge statement"/> that contains 
a <BNF part="02" name="merge insert specification"/> and that does not contain 
an <BNF part="02" name="insert column list"/> and that is contained in
the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

</olist>

</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:HEL-044R1/H2-2000-479</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>UPDATE</kw> privilege on every column whose name is contained in 
an <BNF part="02" name="object column"/> contained in either 
an <BNF part="02" name="update statement: positioned"/>, 
an <BNF part="02" name="update statement: searched"/>, or a <BNF part="02" name="merge statement"/> 
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with 
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>DELETE</kw> privilege on every table whose name is contained in 
a <BNF part="02" name="table name"/> immediately contained in either 
a <BNF part="02" name="delete statement: positioned"/> or 
a <BNF part="02" name="delete statement: searched"/>
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:LCY-024 = DM32.2-2009-00087</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>DELETE</kw> privilege on the table identified by the
<BNF part="02" name="target table"/> contained in a <BNF part="02" name="merge statement"/>
that contains a <BNF part="02" name="merge delete specification"/> and
that is contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine
with an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:PER-067/H2-2001-???</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:YYJ-083R1 = H2-2001-___</comment>
<comment>WG3:SIA-060R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>USAGE</kw> privilege on every domain, every collation, every character set,
every transliteration, and every sequence generator whose name is contained in the
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>USAGE</kw> privilege on each user-defined type <symdef>UDT</symdef>
such that a declared type of an SQL parameter, returns data type, or result cast
included in an SQL-invoked routine with an SQL security characteristic of <kw>DEFINER</kw>
included in <sym>SSM</sym> that is usage-dependent on <sym>UDT</sym>.
</item>

<comment>WG3:YYJ-083R1 = H2-2001-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>USAGE</kw> privilege on every user-defined type <symdef>UDT</symdef> such that
there is a <BNF part="02" name="data type"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in 
<sym>SSM</sym> that is usage-dependent on <sym>UDT</sym>.
</item>

<comment>WG3:BBN-099R4/X3H2-98-281</comment>
<comment>Email from Paul Cotton on 6-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The table/method privilege on every table <symdef>T1</symdef> and every
method <symdef>M</symdef> such that there is a <BNF part="02" name="method reference"/>
<symdef>MR</symdef> contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked
routine with an SQL security characteristic of <kw>DEFINER</kw> included in
<sym>SSM</sym> such that <sym>T1</sym> is in the scope of the
<BNF part="02" name="value expression primary"/> of <sym>MR</sym> and <sym>M</sym> is the
subject routine of <sym>MR</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on a column identified by 
a <BNF part="02" name="column reference"/> contained in a <BNF part="02" name="scalar subquery"/>
that is equivalent to a <BNF part="02" name="dereference operation"/> contained in any of the 
following:

<olist>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="query expression"/> simply contained in
a <BNF part="02" name="cursor specification"/>, an <BNF part="02" name="insert statement"/>,
or a <BNF part="02" name="merge statement"/> contained in the
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="table expression"/> or <BNF part="02" name="select list"/>
immediately contained in a <BNF part="02" name="select statement: single row"/>
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="search condition"/> contained in 
a <BNF part="02" name="delete statement: searched"/>, 
an <BNF part="02" name="update statement: searched"/>,
or a <BNF part="02" name="merge statement"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="value expression"/> contained in 
an <BNF part="02" name="update source"/> or an <BNF part="02" name="assigned row"/> contained in 
the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

</olist>

</item>

<comment>WG3:BBN-099R4/X3H2-98-281</comment>
<comment>Email re: FCD1:1998 sneak peek 2 from Fred Zemke on 24-Feb-1999</comment>
<comment>Email from Fred Zemke on 24-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege <kw>WITH</kw> <kw>HIERARCHY</kw>
<kw>OPTION</kw> on at least one supertable of the scoped table
of a <BNF part="02" name="reference resolution"/> that is contained in
a <BNF part="02" name="query expression"/> simply contained in 
a <BNF part="02" name="cursor specification"/>,
an <BNF part="02" name="insert statement"/>, or a <BNF part="02" name="merge statement"/>
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with 
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:BBN-099R4/X3H2-98-281</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>Email from Fred Zemke on 24-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege <kw>WITH</kw> <kw>HIERARCHY</kw>
<kw>OPTION</kw> on at least one supertable of the scoped table
of a <BNF part="02" name="reference resolution"/> that is contained in
a <BNF part="02" name="table expression"/> or <BNF part="02" name="select list"/> immediately
contained in a <BNF part="02" name="select statement: single row"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:BBN-099R4/X3H2-98-281</comment>
<comment>Email from Fred Zemke on 24-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:HEL-044R1/H2-2000-479</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege <kw>WITH</kw> <kw>HIERARCHY</kw>
<kw>OPTION</kw> on at least one supertable of the scoped table
of a <BNF part="02" name="reference resolution"/> that is contained in
a <BNF part="02" name="search condition"/> contained in 
a <BNF part="02" name="delete statement: searched"/>,
an <BNF part="02" name="update statement: searched"/>, or a <BNF part="02" name="merge statement"/> 
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:BBN-099R4/X3H2-98-281</comment>
<comment>Email from Fred Zemke on 24-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>WG3:PER-020/H2-2001-???</comment>
<comment>WG3:E3B-015/H2-2001-298R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege <kw>WITH</kw> <kw>HIERARCHY</kw>
<kw>OPTION</kw> on at least one supertable of the scoped table
of a <BNF part="02" name="reference resolution"/> that is contained in
a <BNF part="02" name="value expression"/> simply contained in 
an <BNF part="02" name="update source"/> or an <BNF part="02" name="assigned row"/> contained in 
the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege on the scoped table of
a  <BNF part="02" name="reference resolution"/> that is contained in any of the following:

<olist>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="query expression"/> simply contained in 
a <BNF part="02" name="cursor specification"/>, an <BNF part="02" name="insert statement"/>,
or a <BNF part="02" name="merge statement"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="table expression"/> or <BNF part="02" name="select list"/>
immediately contained in a <BNF part="02" name="select statement: single row"/>
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine
with an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="search condition"/> contained in 
a <BNF part="02" name="delete statement: searched"/>, 
an <BNF part="02" name="update statement: searched"/>,
or a <BNF part="02" name="merge statement"/> contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>A <BNF part="02" name="value expression"/> contained in 
an <BNF part="02" name="update source"/> or an <BNF part="02" name="assigned row"/>
contained in the <BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with 
an SQL security characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

</olist>

</item>

<comment>WG3:PER-173R1/H2-2001-???</comment>
<comment>WG3:VIE-046 = H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item><kw>SELECT</kw> privilege <kw>WITH</kw> <kw>HIERARCHY</kw> <kw>OPTION</kw> on at least one 
supertable of every typed table identified by a <BNF part="02" name="table reference"/> that 
simply contains an <BNF part="02" name="only spec"/> and that is contained in the 
<BNF part="02" name="SQL routine body"/> of an SQL-invoked routine with an SQL security 
characteristic of <kw>DEFINER</kw> included in <sym>SSM</sym>.
</item>

</olist>

</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_revoke_routine_GR"/></addRule>
</mergeWith>
For every abandoned SQL-server module descriptor <sym>MD</sym>, let <symdef>M</symdef> be 
the SQL-server module whose descriptor is <symdef>MD</symdef>.
Let <symdef>MN</symdef> be the <BNF name="SQL-server module name"/> of <sym>M</sym>.
The following <BNF name="drop module statement"/> is effectively executed without
further Access Rule checking:

<comment>Stephen Cannan 2004-09-21Replace slist item mono tags with code tag</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<code>
<kw>DROP</kw> <kw>MODULE</kw> <sym>MN</sym> <kw>CASCADE</kw>
</code>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_revoke_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>DBL:RIO-032:2.3/X3H2-94-317R</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<clause id="psm_mods">
<clauseHeading>SQL-client modules</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_module"/>


<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:KOA-032 = DM32.2-2011-00100R2</comment>
<subClause id="psm_proc">
<clauseHeading><BNF part="02" name="externally-invoked procedure"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>WG3:KOA-032 = DM32.2-2011-00100R2</comment>
<modifiesPart part="02" ref="fnd_proc"/>

<bodyMatter>

<Function id="psm_proc_0">

<comment>WG3:KOA-032 = DM32.2-2011-00100R2</comment>
<para>Define an externally-invoked procedure.
</para>

</Function>


<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<Format id="psm_proc_1">

<grammar>

<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_proc_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:KOA-032 = DM32.2-2011-00100R2</comment>
<comment>FCD1/1998 CAN-P04-009, editorially</comment>
<comment>Email from Ake Persson, 2001-08-06</comment>
<item><mergeWith part="02">
<insertCode type="SR" position="after">
<target ref="fnd_proc_SR_pkg"/>
<currentText>
<hostcode>
<bold>package</bold> SQLSTATE_CODES <bold>is</bold>
</hostcode>
</currentText>
</insertCode>
</mergeWith>

<code>
<adaPackageConditions/>
</code>

<comment>Editorial, 2022-06-09</comment>
<para><digitalArtifact type="AdaInterface"/>
</para>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_proc_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_proc_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_proc_5">

<olist>

<comment>WG3:W10-021R3</comment>
<comment>WG3:RKE-021</comment>
<item><mergeWith part="02">
<addRule type="CR">
<last/>
</addRule>
</mergeWith>
Without <feature code="P216"/>, conforming SQL language shall not contain
an <BNF part="02" name="externally-invoked procedure"/>
that contains an <BNF name="SQL control statement"/> that is not 
a <BNF name="call statement" part="02"/> or a <BNF name="return statement" part="02"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_sqlstatement" newpage="true">
<clauseHeading><BNF part="02" name="SQL procedure statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_sqlstatement"/>

<bodyMatter>

<Function id="psm_sqlstatement_0">

<comment>KAW-057/X3H2-92-034 UK-jms-10</comment>
<para>Define all of the SQL-statements that are <BNF part="02" name="SQL procedure statement"/>s.
</para>

</Function>


<Format id="psm_sqlstatement_1">

<grammar>

<comment>X3H2-93-229/MUN-071</comment>
<BNFdef name="SQL schema definition statement">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="SQL-server module definition"/>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-94-102/SOU-063</comment>
<comment>GHB-52 and -87-323</comment>
<comment>X3H2-92-084rev3/OTT-010rev/CBR-016</comment>
<comment>X3H2-91-014/ARL-012</comment>
<BNFdef name="SQL schema manipulation statement">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="drop module statement"/>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-91-179</comment>
<comment>X3H2-93-066/YOK-035</comment>
<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>Editorial consistency, from Ames 6 Sept 1995</comment>
<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>DBL:LGW-047/X3H2-97-226</comment>
<comment>WG3:LCY-055R1 = DM32.2-2009-00___</comment>
<comment>Editorial discretion, 2005-12-23 (there are no alternatives in 9075-2!)</comment>
<BNFdef name="SQL control statement">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="assignment statement"/>
</alt>
<alt>
<BNF name="compound statement"/>
</alt>
<alt>
<BNF name="case statement"/>
</alt>
<alt>
<BNF name="if statement"/>
</alt>
<alt>
<BNF name="iterate statement"/>
</alt>
<alt>
<BNF name="leave statement"/>
</alt>
<alt>
<BNF name="loop statement"/>
</alt>
<alt>
<BNF name="while statement"/>
</alt>
<alt>
<BNF name="repeat statement"/>
</alt>
<alt>
<BNF name="for statement"/>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-91-179</comment>
<BNFdef name="SQL diagnostics statement">
<rhs>
<alt>
<allAltsFrom part="02"/>
</alt>
<alt>
<BNF name="signal statement"/>
</alt>
<alt>
<BNF name="resignal statement"/>
</alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_sqlstatement_2">

<olist>

<comment>DBL:MCI-089/X3H2-96-123</comment>
<comment>WG3:LCY-025 = DM32.2-2009-00093R3</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
An <BNF part="02" name="SQL connection statement"/> shall not be contained in 
an <BNF name="SQL control statement"/> or an <BNF name="SQL-server module definition"/>.
</item>

<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2 moved 2 Rules</comment>
</olist>

</SyntaxRules>


<AccessRules id="psm_sqlstatement_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_sqlstatement_4">

<olist>

<comment>WG3:W10-009/P02-NLD-021 deleted/moved the GRs</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<comment>WG3:BBN-171/X3H2-98-389</comment>
<ConformanceRules id="psm_sqlstatement_5">

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<clause id="psm_dml">
<clauseHeading>Data manipulation</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dml"/>


<comment>WG3:WLG-043R1</comment>
<subClause id="psm_dcl">
<clauseHeading><BNF part="02" name="declare cursor"/></clauseHeading>

<modifiesPart part="02" ref="fnd_dcl"/>

<bodyMatter>

<Function id="psm_dcl_0">

<para>Declare a standing cursor.
</para>

</Function>


<Format id="psm_dcl_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dcl_2">

<olist>

<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_dcl_SR_contained">
<addition>without an intervening <BNF part="02" name="SQL schema statement"/>
</addition>
<location>to the predicate in the lead text of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
If a <BNF part="02" name="declare cursor"/> <symdef>DC</symdef> is contained in the 
<BNF name="local cursor declaration list"/> <symdef>LCDL</symdef> of 
a <BNF name="compound statement"/> <symdef>CS</symdef>, then:

<olist>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The <BNF part="02" name="cursor name"/> shall not be equivalent to the 
<BNF part="02" name="cursor name"/> of another <BNF part="02" name="declare cursor"/>,
<BNF part="02" name="dynamic declare cursor"/>, or 
<BNF part="02" name="allocate received cursor statement"/> contained in <sym>LCDL</sym>.
</item>

<item>The scope of the <BNF part="02" name="cursor name"/> is <sym>CS</sym>.
</item>

</olist>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_dcl_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dcl_4">

<olist>

<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_dcl_desc_prov">
<newSubrule>If the <BNF part="02" name="declare cursor"/> is contained in 
a <BNF name="compound statement"/>, the provenance of the cursor is the innermost 
<BNF name="compound statement"/> that contains <sym>DC</sym>.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dcl_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_open" newpage="true">
<clauseHeading><BNF part="02" name="open statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_open"/>

<bodyMatter>

<Function id="psm_open_0">

<comment>WG3:WLG-043R1</comment>
<para>Open a standing cursor.
</para>

</Function>


<Format id="psm_open_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_open_2">

<olist>

<comment>DBL:MAD-064/X3H2-96-471</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_open_cursorname_SR">
<addition>If there is more than one such <BNF part="02" name="cursor name"/>, then the one with the 
innermost scope is specified.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_open_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_open_4">

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_open_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_fetch" newpage="true">
<clauseHeading><BNF part="02" name="fetch statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_fetch"/>

<bodyMatter>

<Function id="psm_fetch_0">

<comment>WG3:WLG-043R1</comment>
<para>Position a standing cursor on a specified row of the standing cursor<apos/>s result set 
and retrieve values from that row.
</para>

</Function>


<Format id="psm_fetch_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_fetch_2">

<olist>

<comment>DBL:MAD-064/X3H2-96-471</comment>
<comment>Editorial liberty during editing of WG3:BBN-227/X3H2-98-443 on 31 Aug 1998</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_fetch_cursorname_SR">
<addition>If there is more than one such <BNF part="02" name="cursor name"/>, 
then the one with the innermost scope is specified.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:BBN-227/X3H2-98-443</comment>
<comment>DCOR 2000, GBR-STC-035</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:LCY-048 = DM32.2-2009-00___ and Email from Stephen Cannan, 2010-02-09, plus editorial 
liberty
</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_fetch_paramname_SR">
<addition>an <BNF part="02" name="SQL parameter reference"/>
</addition>
<location>as an alternative for <sym>TS</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>WG3:BBN-227/X3H2-98-443</comment>
<comment>DCOR 2000, GBR-STC-035</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:LCY-048 = DM32.2-2009-00___ and Email from Stephen Cannan, 2010-02-09</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_fetch_SR_paramname2">
<addition>an <BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_fetch_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_fetch_4">

<olist>

<comment>WG3:BBN-227/X3H2-98-443</comment>
<comment>DCOR 2000, GBR-STC-035</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_fetch_GR_paramname">
<addition>an <BNF part="02" name="SQL parameter reference"/>
</addition>
<location>as an alternative for <sym>TS</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>DCOR 2000, GBR-STC-035</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_fetch_GR_paramname2">
<addition>an <BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_fetch_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_close" newpage="true">
<clauseHeading><BNF part="02" name="close statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_close"/>

<bodyMatter>

<Function id="psm_close_0">

<comment>WG3:WLG-043R1</comment>
<para>Close a standing cursor.
</para>

</Function>


<Format id="psm_close_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_close_2">

<olist>

<comment>DBL:MAD-064/X3H2-96-471</comment>
<comment>Editorial necessity to move to GR, 2003-04-21</comment>
<comment>WG3:HBA-040+WG3:HBA-054 = H2-2003-___+H2-2003-___</comment>
<comment>Email from Mike Sykes, 2003-12-09, moved to SR to align with WG3:HBA-040 changes to part 
2
</comment>
<comment>WG3:WLG-043R1</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_close_SR_CR">
<addition>If there is more than one such <BNF part="02" name="cursor name"/>, then the one with the 
innermost scope is specified.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_close_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_close_4">

<olist>

<comment>Editorially, move the GR that was here to become an SR, suitably adapted, 2003-12-30
</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_close_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<subClause id="psm_select" newpage="true">
<clauseHeading><BNF part="02" name="select statement: single row"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_select"/>

<bodyMatter>

<Function id="psm_select_0">

<para>Retrieve values from a specified row of a table.
</para>

</Function>


<Format id="psm_select_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_select_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DCOR 2000, GBR-STC-036</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_select_SR_targspec">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<comment>X3H2-89-118</comment>
<AccessRules id="psm_select_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_select_4">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DCOR 2000, GBR-STC-036</comment>
<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_select_GR_targspec">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_select_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_delpos" newpage="true">
<clauseHeading><BNF part="02" name="delete statement: positioned"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_delpos"/>

<bodyMatter>

<Function id="psm_delpos_0">

<para>Delete a row of a table.
</para>

</Function>


<Format id="psm_delpos_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_delpos_2">

<olist>

<comment>DBL:MAD-064/X3H2-96-471</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_delpos_SR_cursor">
<addition>If there is more than one such <BNF part="02" name="cursor name"/>, 
then the one with the innermost scope is specified.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_delpos_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_delpos_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_delpos_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<subClause id="psm_pupdate" newpage="true">
<clauseHeading><BNF part="02" name="update statement: positioned"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_pupdate"/>

<bodyMatter>

<Function id="psm_pupdate_0">

<para>Update a row of a table.
</para>

</Function>


<Format id="psm_pupdate_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_pupdate_2">

<olist>

<comment>DBL:MAD-064/X3H2-96-471</comment>
<comment>WG3:WLG-043R1</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_pupdate_SR_cursor">
<addition>If there is more than one such <BNF part="02" name="cursor name"/>, then the one with the 
innermost scope is specified.
</addition>
<location>at the end of the Rule</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_pupdate_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_pupdate_4">

<olist>

<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_pupdate_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-038/X3H2-96-163:Japan-10</comment>
<subClause id="psm_temptab" newpage="true">
<clauseHeading><BNF part="02" name="temporary table declaration"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_temptab"/>

<bodyMatter>

<Function id="psm_temptab_0">

<comment>X3H2-93-054/YOK-032</comment>
<comment>DBL:MAD-079/X3H2-96-464R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>WG3:TXL-080</comment>
<para>Declare a declared local temporary table.
</para>

</Function>


<Format id="psm_temptab_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_temptab_2">

<olist>

<comment>WG3:DRS-105R2/H2-2002-470R2</comment>
<comment>WG3:PEK-035R1 = DM32.2-2014-00013</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_temptab_containment_SR">
<addition><BNF name="SQL-server module definition"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_temptab_mod_SR">
<addition>without an intervening
<BNF name="SQL-server module definition"/>
</addition>
<location>as an additional predicate and to the containment in <sym>M</sym></location>
</augmentRule>
</mergeWith>
</item>

<comment>Editorial: Joern Bartels 2022-06-07 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_temptab_mod_SR"/></addRule>
</mergeWith>
If a <BNF part="02" name="temporary table declaration"/> is contained in 
an <BNF name="SQL-server module definition"/>, then the 
<BNF part="02" name="qualified identifier"/> of <sym>TN</sym> shall not be 
equivalent to the <BNF part="02" name="qualified identifier"/> of the
<BNF part="02" name="table name"/> of another <BNF part="02" name="temporary table declaration"/> 
contained in the containing <BNF name="SQL-server module definition"/>.
</item>

</olist>

</SyntaxRules>


<comment>X3H2-89-118</comment>
<AccessRules id="psm_temptab_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_temptab_4">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:KOA-064 = DM32.2-2011-00___ deleted 1 Rule</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>

<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_temptab_equiv_GR">
<newSubrule>If <BNF part="02" name="temporary table declaration"/> is contained in 
an <BNF part="02" name="SQL-client module definition"/> without an intervening
<BNF name="SQL-server module definition"/>, then the definition of <symdef>T</symdef>
within the <BNF part="02" name="SQL-client module definition"/> is effectively equivalent to
the definition of a persistent base table <sym>U</sym>.<sym>T</sym>.
Within the SQL-client module, each reference to <kw>MODULE</kw>.<sym>T</sym> that
is not contained in an <BNF part="02" name="SQL schema statement"/> is equivalent to 
a reference to <sym>U</sym>.<sym>T</sym>.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_temptab_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>WG3:WLG-043R1</comment>
<clause id="psm_add_dm_rules">
<clauseHeading>Additional data manipulation rules</clauseHeading>

<modifiesPart part="02" ref="fnd_additional_datamanip_rules"/>


<comment>Editorial licence: Fix merge between WG3:HBA-048 and WG3:HBA-051R1 at a somewhat late 
stage.
</comment>
<subClause id="psm_effopencurs">
<clauseHeading>Effect of opening a cursor</clauseHeading>

<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_effopencurs"/>

<bodyMatter>

<Function id="psm_effopencurs_0">

<comment>WG3:WLG-043R1</comment>
<para>Specify the effect of opening a cursor that is not a received cursor.
</para>

</Function>


<SyntaxRules id="psm_effopencurs_2">

<olist>

<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_effopencurs_3">

<olist>

<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_effopencurs_4">

<olist>

<comment>Moved from open cursor</comment>
<comment>WG3:HBA-051R1 = H2-2003-___</comment>
<comment>WG3:OKJ-021R1 = DM32.2-2017-00047R2</comment>
<comment>Editorial: Jim Melton 2022-02-27</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_effopencurs_GR_sameinstant">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminal symbols that are replaced by 
<BNF name="literal" part="02"/>s</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</GeneralRules>


<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<ConformanceRules id="psm_effopencurs_5">

<olist>

<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>X3H2-91-014/ARL-012</comment>
<clause id="psm_control">
<clauseHeading>Control statements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_control"/>


<comment>X3H2-91-179</comment>
<comment>X3H2-91-083/ARL-019</comment>
<subClause id="psm_compound">
<clauseHeading><BNF name="compound statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_compound_0">

<para>Specify a statement that groups other statements together.
</para>

</Function>


<Format id="psm_compound_1">

<grammar>

<comment>X3H2-92-236/CBR-060</comment>
<comment>X3H2-93-126/YOK-091</comment>
<comment>X3H2-92-237/CBR-061</comment>
<comment>X3H2-93-313/MUN-052</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="compound statement">
<rhs>
<opt> <BNF name="beginning label"/> <BNF part="02" name="colon"/> </opt>
<kw>BEGIN</kw> <opt> <opt> <kw>NOT</kw> </opt> <kw>ATOMIC</kw> </opt>
<breakindent/>
<opt> <BNF name="local declaration list"/> </opt>
<opt> <BNF name="local cursor declaration list"/> </opt>
<breakindent/>
<opt> <BNF name="local handler declaration list"/> </opt>
<breakindent/>
<opt> <BNF name="SQL statement list"/> </opt>
<breakindent/>
<kw>END</kw> <opt> <BNF name="ending label"/> </opt>
</rhs>
</BNFdef>

<BNFdef name="beginning label">
<rhs>
<BNF name="statement label"/>
</rhs>
</BNFdef>

<BNFdef name="ending label">
<rhs>
<BNF name="statement label"/>
</rhs>
</BNFdef>

<BNFdef name="statement label">
<rhs>
<BNF part="02" name="identifier"/>
</rhs>
</BNFdef>

<comment>X3H2-93-054/YOK-032</comment>
<comment>X3H2-93-313/MUN-052</comment>
<BNFdef name="local declaration list">
<rhs>
<BNF name="terminated local declaration"/><repeat/>
</rhs>
</BNFdef>

<BNFdef name="terminated local declaration">
<rhs>
<BNF name="local declaration"/> <BNF part="02" name="semicolon"/>
</rhs>
</BNFdef>

<comment>X3H2-93-099/YOK-085</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="local declaration">
<rhs>
<alt>
<BNF name="SQL variable declaration"/>
</alt>
<alt>
<BNF name="condition declaration"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<BNFdef name="local cursor declaration list">
<rhs>
<BNF name="terminated local cursor declaration"/><repeat/>
</rhs>
</BNFdef>

<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>ad hoc action at LGW meeting</comment>
<BNFdef name="terminated local cursor declaration">
<rhs>
<BNF part="02" name="declare cursor"/> <BNF part="02" name="semicolon"/>
</rhs>
</BNFdef>

<comment>X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="local handler declaration list">
<rhs>
<BNF name="terminated local handler declaration"/><repeat/>
</rhs>
</BNFdef>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="terminated local handler declaration">
<rhs>
<BNF name="handler declaration"/> <BNF part="02" name="semicolon"/>
</rhs>
</BNFdef>

<BNFdef name="SQL statement list">
<rhs>
<BNF name="terminated SQL statement"/><repeat/>
</rhs>
</BNFdef>

<BNFdef name="terminated SQL statement">
<rhs>
<BNF part="02" name="SQL procedure statement"/> <BNF part="02" name="semicolon"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_compound_2">

<olist>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<item id="psm_compound_SR1">Let <symdef>CS</symdef> be the <BNF name="compound statement"/>.
</item>

<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>DBL:MAD-085/X3H2-96-443r2, amended by DBL:MAD-110r1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:UKB-030R1/H2-2006-091R2</comment>
<comment>Email from Fred Zemke, 2006-04-21</comment>
<item>If <sym>CS</sym> does not specify a <BNF name="beginning label"/>, then 
an <unDef code="UD001"/> <BNF name="beginning label"/> that is not equivalent to
any other <BNF name="statement label"/> contained in the outermost containing
<BNF name="SQL control statement"/> is implicit.
</item>

<comment>DBL:MCI-096/X3H2-96-140</comment>
<item>If an <BNF name="ending label"/> is specified, then <sym>CS</sym> shall
specify a <BNF name="beginning label"/> that is equivalent to that
<BNF name="ending label"/>.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>Editorial discretion</comment>
<comment>DBL:MCI-045/X3H2-96-052:USA-092</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<comment>DBL:CWB-094/X3H2-98-150</comment>
<comment>X3H2-95-223/DBL:YOW-142</comment>
<comment>WG3:DRS-110/H2-2002-473</comment>
<item>The scope of the <BNF name="beginning label"/> is <sym>CS</sym> excluding
every <BNF part="02" name="SQL schema statement"/> contained in <sym>CS</sym> and excluding
every <BNF name="local handler declaration list"/> contained in <sym>CS</sym>.
<BNF name="beginning label"/> shall not be equivalent to another
<BNF name="beginning label"/>s within that scope.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-92-236/CBR-060</comment>
<comment>X3H2-93-137/YOK-098</comment>
<item>If <sym>CS</sym> specifies neither <kw>ATOMIC</kw> nor <kw>NOT</kw>
<kw>ATOMIC</kw>, then <kw>NOT</kw> <kw>ATOMIC</kw> is implicit.
</item>

<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-93-069R1.1/YOK-069.1</comment>
<item>If <sym>CS</sym> specifies <kw>ATOMIC</kw>, then the
<BNF name="SQL statement list"/> shall not contain either a <BNF part="02" name="commit statement"/>
or a <BNF part="02" name="rollback statement"/> that does not specify 
a <BNF part="02" name="savepoint clause"/>.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<item>Let <symdef>VN</symdef> be an <BNF name="SQL variable name"/> contained in 
a <BNF name="local declaration list"/>.
The <newterm>declared local name</newterm> of the variable identified by <sym>VN</sym> is 
<sym>VN</sym>.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<comment>WG3:VIE-054 = H2-2002-___</comment>
<item>Let <symdef>CON</symdef> be the <BNF name="condition name"/> immediately contained
in a <BNF name="condition declaration"/> contained in a <BNF name="local declaration list"/>.
The <newterm>declared local name</newterm> of the <BNF name="condition declaration"/> is 
<sym>CON</sym>.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>WG3:WLG-043R1</comment>
<item>Let <symdef>CN</symdef> be the <BNF part="02" name="cursor name"/> immediately contained in 
a <BNF part="02" name="declare cursor"/> <symdef>DC</symdef> contained in 
a <BNF name="local cursor declaration list"/>.
The <newterm>declared local name</newterm> of
the standing SQL-server cursor declared by <sym>DC</sym> is <sym>CN</sym>.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<item>No two variables declared in a <BNF name="local declaration list"/> shall have
equivalent declared local names.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<item>No two <BNF name="condition declaration"/>s contained in 
a <BNF name="local declaration list"/> shall have equivalent declared local names.
</item>

<comment>DBL:MCI-195/X3H2-96-335</comment>
<comment>DBL:MCI-034/X3H2-96-165</comment>
<comment>DBL:RIO-104/X3H2-94-503</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<comment>WG3:WLG-043R1</comment>
<item>No two standing SQL-servers cursors declared in a <BNF name="local cursor declaration list"/> 
shall have equivalent declared local names.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>DBL:MCI-184/X3H2-96-289</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<item>The scope of an <BNF name="SQL variable name"/> of 
an <BNF name="SQL variable declaration"/> simply contained in a <BNF name="local declaration"/>
simply contained in <sym>CS</sym> is the
<BNF name="local cursor declaration list"/> of <sym>CS</sym>, the
<BNF name="local handler declaration list"/> <symdef>LHDL</symdef> of <sym>CS</sym>
excluding every <BNF part="02" name="SQL schema statement"/> contained in <sym>LHDL</sym>,
and the <BNF name="SQL statement list"/> <symdef>SSL</symdef> of <sym>CS</sym>
excluding every <BNF part="02" name="SQL schema statement"/> contained in <sym>SSL</sym>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>DBL:MCI-184/X3H2-96-289</comment>
<item>The scope of the <BNF name="condition name"/> in a <BNF name="condition declaration"/>
simply contained in a <BNF name="local declaration"/> simply contained in
<sym>CS</sym> is the
<BNF name="local handler declaration list"/> <sym>LHDL</sym> of <sym>CS</sym>
excluding every <BNF part="02" name="SQL schema statement"/> contained in <sym>LHDL</sym>
and the <BNF name="SQL statement list"/> <sym>SSL</sym> of <sym>CS</sym>
excluding every <BNF part="02" name="SQL schema statement"/> contained in <sym>SSL</sym>.
</item>

<comment>DBL:MCI-034/X3H2-96-165</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MAD-035R1/X3H2-96-403:4.7, amended by DBL:MAD-110r1</comment>
<comment>ad hoc action at LGW meeting</comment>
<item>The scope of the <BNF part="02" name="cursor name"/> in 
a <BNF part="02" name="declare cursor"/> simply
contained in a <BNF name="terminated local cursor declaration"/> simply contained
in <sym>CS</sym> is the <BNF name="local handler declaration list"/>
<sym>LHDL</sym> of <sym>CS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>LHDL</sym> and the
<BNF name="SQL statement list"/> <sym>SSL</sym> of <sym>CS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>SSL</sym>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-184/X3H2-96-289</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<item>The scope of a <BNF name="handler declaration"/> simply contained in 
a <BNF name="local handler declaration list"/> simply contained in <sym>CS</sym> is
the <BNF name="SQL statement list"/> <sym>SSL</sym> of <sym>CS</sym> excluding
every <BNF part="02" name="SQL schema statement"/> contained in <sym>SSL</sym>.
</item>

<comment>DBL:RIO-096/X3H2-94-495/X3H2-94-513</comment>
<comment>DBL:MAD-097/X3H2-96-461R1</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MAD-082/X3H2-96-423</comment>
<comment>FCD1/1998 USA-P04-025, editorially</comment>
<item>If the <BNF name="compound statement"/> simply contains 
a <BNF name="handler declaration"/> that specifies
<kw>UNDO</kw>, then <kw>ATOMIC</kw> shall be specified.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_compound_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_compound_4">

<comment>WG3:W16-043r1 deleted 1 Note</comment>
<olist>

<comment>Editorially split SC 15.1, compound statement; Jim Melton, 2022-10-30</comment>
<item>Let <symdef>CS</symdef> be the <BNF name="compound statement"/>. 
The
<applySC rules="GR" ref="psm_exec_compound">
<symarg param="COMPOUND STATEMENT"><sym>CS</sym></symarg>
</applySC>. 
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_compound_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item id="psm_compount_CR1">Without <feature code="P201"/>, conforming SQL language shall not 
contain a <BNF name="compound statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-94-201/SOU-184</comment>
<subClause id="psm_handler_decl" newpage="true">
<clauseHeading><BNF name="handler declaration"/></clauseHeading>

<bodyMatter>


<Function id="psm_handler_decl_0">

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<para>Associate a handler with exception or completion conditions to be handled
in a module or compound statement.
</para>

</Function>


<Format id="psm_handler_decl_1">

<grammar>

<comment>DBL:RIO-049/X3H2-94-439R</comment>
<comment>DBL:RIO-050/X3H2-94-440</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="handler declaration">
<rhs>
<kw>DECLARE</kw> <BNF name="handler type"/> <kw>HANDLER</kw>
<kw>FOR</kw> <BNF name="condition value list"/> <BNF name="handler action"/>
</rhs>
</BNFdef>

<comment>DBL:RIO-050/X3H2-94-440</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:RIO-051/X3H2-94-441R</comment>
<BNFdef name="handler type">
<rhs>
<alt>
<kw>CONTINUE</kw>
</alt>
<alt>
<kw>EXIT</kw>
</alt>
<alt>
<kw>UNDO</kw>
</alt>
</rhs>
</BNFdef>

<comment>DBL:RIO-049/X3H2-94-439R</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Email from Ake Persson, 2002-03-01</comment>
<BNFdef name="handler action">
<rhs>
<BNF part="02" name="SQL procedure statement"/>
</rhs>
</BNFdef>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="condition value list">
<rhs>
<BNF name="condition value"/> <opt> <group> <BNF part="02" name="comma"/> 
<BNF name="condition value"/> </group><repeat/> </opt>
</rhs>
</BNFdef>

<comment>DBL:MCI-047/X3H2-96-081</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="condition value">
<rhs>
<alt>
<BNF name="sqlstate value"/>
</alt>
<alt>
<BNF name="condition name"/>
</alt>
<alt>
<kw>SQLEXCEPTION</kw>
</alt>
<alt>
<kw>SQLWARNING</kw>
</alt>
<alt>
<kw>NOT</kw> <kw>FOUND</kw>
</alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_handler_decl_2">

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>HD</symdef> be the <BNF name="handler declaration"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>A <BNF name="condition name"/> <symdef>CN</symdef> specified in 
a <BNF name="condition value"/> of <sym>HD</sym> shall be defined by some
<BNF name="condition declaration"/> with a scope that contains <sym>HD</sym>.
Let <symdef>C</symdef> be the condition specified by the innermost such
<BNF name="condition declaration"/>.
</item>

<comment>DBL:MAD-127/X3H2-96-521</comment>
<comment>Email from Fred Zemke, 2015-06-29</comment>
<item>If a <BNF name="condition value"/> specifies <kw>SQLEXCEPTION</kw>, <kw>SQLWARNING</kw>, or
<kw>NOT</kw> <kw>FOUND</kw>, then neither <BNF name="sqlstate value"/> nor
<BNF name="condition name"/> shall be specified.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-176/X3H2-96-277</comment>
<comment>DBL:MCI-047/X3H2-96-081</comment>
<item>No other <BNF name="handler declaration"/> with the same scope as
<sym>HD</sym> shall contain in its <BNF name="condition value list"/> 
a <BNF name="condition value"/> that represents the same condition as 
a <BNF name="condition value"/> contained in the <BNF name="condition value list"/> of
<sym>HD</sym>.
</item>

<comment>DBL:MCI-176/X3H2-96-277</comment>
<item>The <BNF name="condition value list"/> shall not contain the same
<BNF name="condition value"/> or <BNF name="sqlstate value"/> more than once, nor shall it
contain both the <BNF name="condition name"/> of a condition <sym>C</sym> and 
an <BNF name="sqlstate value"/> that represents the <kw>SQLSTATE</kw> value associated with
<sym>C</sym>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:PEK-022 = DM32.2-2014-00___</comment>
<item><kw>SQLEXCEPTION</kw>, <kw>SQLWARNING</kw>, and <kw>NOT</kw> <kw>FOUND</kw> correspond to
<kw>SQLSTATE</kw> class codes corresponding to categories X, W, and  N,
respectively, in <extref part="02" ref="fnd_state"/>, in <docref ref="ISO9075-2"/>.
</item>

<comment>DBL:MAD-127/X3H2-96-521</comment>
<comment>Editorial: Jim Melton, 2024-03-05; no BNF in newterm</comment>
<item>If a <BNF name="condition value"/> specifies <kw>SQLEXCEPTION</kw>, <kw>SQLWARNING</kw>, or
<kw>NOT</kw> <kw>FOUND</kw>, then the <BNF name="handler declaration"/> is 
a <newterm>general handler declaration</newterm>; otherwise, the
<BNF name="handler declaration"/> is 
a <newterm>specific handler declaration</newterm>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If there is a general <BNF name="handler declaration"/> and a specific
<BNF name="handler declaration"/> for the same <BNF name="condition value"/> in the same
scope, then only the specific <BNF name="handler declaration"/> is associated with
that <BNF name="condition value"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>HA</symdef> be the <BNF name="handler action"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<comment>DBL:MCI-047/X3H2-96-081</comment>
<item><sym>HA</sym> is associated with every <BNF name="condition name"/> specified
in the <BNF name="condition value list"/> of <sym>HD</sym> and with every <kw>SQLSTATE</kw>
value specified in every <BNF name="sqlstate value"/> specified in the
<BNF name="condition value list"/> of <sym>HD</sym>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If <sym>HA</sym> is associated with a <BNF name="condition name"/> and that
<BNF name="condition name"/> was defined for an <kw>SQLSTATE</kw> value, then <sym>HA</sym>
is also associated with that <kw>SQLSTATE</kw> value.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If <sym>HA</sym> is associated with an <kw>SQLSTATE</kw> class, then it is
associated with each <kw>SQLSTATE</kw> value of that class.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_handler_decl_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_handler_decl_4">

<comment>WG3:MEM-049 = DM32.2-2016-00061 deleted 1 Note</comment>
<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<item>When the handler <symdef>H</symdef> associated with the conditions
specified by <sym>HD</sym> is created, it is the
<newterm>most appropriate handler</newterm> for every condition <sym>CN</sym>
raised during execution of SQL-statements that are in the scope of
<sym>HD</sym> that has an <kw>SQLSTATE</kw> value or condition name that is the
same as an <kw>SQLSTATE</kw> value or condition name associated with this handler,
until <sym>H</sym> is destroyed.
<sym>CN</sym> has a more appropriate handler if, during the existence of <sym>H</sym>, 
another handler <symdef>AH</symdef> is created with a scope containing <sym>CN</sym>, and if
<sym>AH</sym> is associated with an <kw>SQLSTATE</kw> value or condition name that
is the same as the <kw>SQLSTATE</kw> value or condition name of <sym>CN</sym>.
<sym>AH</sym> replaces <sym>H</sym> as the most appropriate handler for
<sym>CN</sym> until <sym>AH</sym> is destroyed.
When <sym>AH</sym> is destroyed, <sym>H</sym> is reinstated as the most appropriate handler for
<sym>CN</sym>.
</item>

<comment>WG3:NRT-042R1 = DM32.2-2015-00___ deleted 2 Rules</comment>
</olist>

</GeneralRules>


<ConformanceRules id="psm_handler_decl_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P202"/>, conforming
SQL language shall not contain a <BNF name="handler declaration"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:MEM-049 = DM32.2-2016-00061 moved 1 Subclause</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-91-179</comment>
<subClause id="psm_condition_declaration" newpage="true">
<clauseHeading><BNF name="condition declaration"/></clauseHeading>

<bodyMatter>


<Function id="psm_condition_declaration_0">

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>Declare a condition name and an optional corresponding <kw>SQLSTATE</kw> value.
</para>

</Function>


<Format id="psm_condition_declaration_1">

<grammar>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-93-099/YOK-085</comment>
<comment>X3H2-93-313/MUN-052</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="condition declaration">
<rhs>
<kw>DECLARE</kw> <BNF name="condition name"/> <kw>CONDITION</kw>
<opt> <kw>FOR</kw> <BNF name="sqlstate value"/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_condition_declaration_2">

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>CD</symdef> be the <BNF name="condition declaration"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<item>Let <symdef>CN</symdef> be the <BNF name="condition name"/>.
At most one <BNF name="condition declaration"/> shall specify a <BNF name="condition name"/> that 
is equivalent to <sym>CN</sym> and has the same scope as <sym>CN</sym>.
</item>

<comment>ad hoc motions at Edinburgh DIS Editing Meeting</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<item><BNF name="condition name"/> is <newterm>considered to be defined</newterm>, within its
scope, for the <kw>SQLSTATE</kw> value specified by <BNF name="sqlstate value"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_condition_declaration_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_condition_declaration_4">

<comment>WG3:PER-062R2/H2-2001-???</comment>
<olist>

<None/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_condition_declaration_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P203"/>, conforming
SQL language shall not contain a <BNF name="condition declaration"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>



<comment>X3H2-91-179</comment>
<subClause id="psm_vardecl" newpage="true">
<clauseHeading><BNF name="SQL variable declaration"/></clauseHeading>

<bodyMatter>


<Function id="psm_vardecl_0">

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<para>Declare one or more variables.
</para>

</Function>


<Format id="psm_vardecl_1">

<grammar>

<comment>X3H2-92-062rev1/OTT-008</comment>
<comment>X3H2-93-313/MUN-052</comment>
<comment>DBL:MAD-121/X3H2-96-515</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<BNFdef name="SQL variable declaration">
<rhs>
<kw>DECLARE</kw> <BNF name="SQL variable name list"/>
<BNF part="02" name="data type"/> <opt> <BNF part="02" name="default clause"/> </opt>
</rhs>
</BNFdef>

<BNFdef name="SQL variable name list">
<rhs>
<BNF name="SQL variable name"/> <opt> <group> <BNF part="02" name="comma"/> 
<BNF name="SQL variable name"/> </group><repeat/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_vardecl_2">

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-043R1/X3H2-98-137</comment>
<item>The specified <BNF part="02" name="data type"/> is the declared type of each variable
declared by the <BNF name="SQL variable declaration"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_vardecl_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_vardecl_4">

<olist>

<comment>STX-051 DCOR/2004 NLD-P04-008</comment>
<comment>X3H2-93-066/YOK-035 and X3H2-93-054/YOK-032</comment>
<comment>DBL:RIO-109/X3H2-94-510</comment>
<comment>DBL:MCI-177/X3H2-96-278</comment>
<comment>DBL:MCI-171/X3H2-96-265</comment>
<item>If <BNF name="SQL variable declaration"/> contains
<BNF part="02" name="default clause"/> <symdef>DC</symdef>, then let <symdef>DV</symdef> be the 
<BNF part="02" name="default option"/> contained in <sym>DC</sym>.
Otherwise let <symdef>DV</symdef> be <BNF part="02" name="null specification"/>.
Let <symdef>SV</symdef> be the variable defined by the <BNF name="SQL variable declaration"/>.
The following SQL-statement is effectively executed:

<code>
<kw>SET</kw> <sym>SV</sym> = <sym>DV</sym>
</code>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_vardecl_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P204"/>, conforming
SQL language shall not contain an <BNF name="SQL variable declaration"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-083/ARL-019</comment>
<subClause id="psm_assignment" newpage="true">
<clauseHeading><BNF name="assignment statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_assignment_0">

<comment>X3H2-93-488/MUN-122</comment>
<comment>DBL:MAD-057/X3H2-96-401</comment>
<para>Assign a value to an SQL variable, SQL parameter, host parameter, or host variable.
</para>

</Function>


<Format id="psm_assignment_1">

<grammar>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<BNFdef name="assignment statement">
<rhs>
<alt>
<BNF name="singleton variable assignment"/>
</alt>
<alt>
<BNF name="multiple variable assignment"/>
</alt>
</rhs>
</BNFdef>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>WG3:ICN-081 = H2-2002-___</comment>
<comment>FCD1/2002, JPN-P04-001, editorially</comment>
<BNFdef name="multiple variable assignment">
<rhs>
<kw>SET</kw> <BNF name="assignment target list"/> <BNF part="02" name="equals operator"/> 
<BNF part="02" name="assigned row"/>
</rhs>
</BNFdef>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<BNFdef name="assignment target list">
<rhs>
<BNF part="02" name="left paren"/> <BNF name="assignment target"/> <opt> <group> 
<BNF part="02" name="comma"/> <BNF name="assignment target"/> </group><repeat/> </opt> 
<BNF part="02" name="right paren"/>
</rhs>
</BNFdef>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>X3H2-92-085rev2/CBR-???</comment>
<comment>X3H2-93-246/MUN-073</comment>
<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<BNFdef name="singleton variable assignment">
<rhs>
<kw>SET</kw> <BNF name="assignment target"/> <BNF part="02" name="equals operator"/> 
<BNF name="assignment source"/>
</rhs>
</BNFdef>

<comment>X3H2-91-179 amended</comment>
<comment>X3H2-92-085rev2/CBR-???</comment>
<comment>Nelson Mattos' hard-copy comments on DIS Sneak Peek</comment>
<comment>DBL:MCI-157/X3H2-96-230R2</comment>
<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<BNFdef name="assignment target">
<rhs>
<alt>
<BNF name="target specification"/>
</alt>
<alt>
<BNF name="modified field reference"/>
</alt>
<alt>
<BNF name="mutator reference"/>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-93-246/MUN-073</comment>
<comment>WG3:BBN-211/X3H2-98-427</comment>
<BNFdef name="assignment source">
<rhs>
<alt>
<BNF part="02" name="value expression"/>
</alt>
<alt>
<BNF name="contextually typed source"/>
</alt>
</rhs>
</BNFdef>

<comment>WG3:BBN-211/X3H2-98-427</comment>
<BNFdef name="contextually typed source">
<rhs>
<alt>
<BNF part="02" name="implicitly typed value specification"/>
</alt>
<alt>
<BNF part="02" name="contextually typed row value expression"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>Email from Ake Persson, 2002-03-01</comment>
<BNFdef name="modified field reference">
<rhs>
<BNF name="modified field target"/> <BNF part="02" name="period"/> 
<BNF part="02" name="field name"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<BNFdef name="modified field target">
<rhs>
<alt>
<BNF name="target specification"/>
</alt>
<alt>
<BNF part="02" name="left paren"/> <BNF name="target specification"/> 
<BNF part="02" name="right paren"/>
</alt>
<alt>
<BNF name="modified field reference"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:BBN-156/X3H2-98-379</comment>
<BNFdef name="mutator reference">
<rhs>
<BNF name="mutated target specification"/> <BNF part="02" name="period"/> 
<BNF part="02" name="method name"/>
</rhs>
</BNFdef>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<BNFdef name="mutated target specification">
<rhs>
<alt>
<BNF name="target specification"/>
</alt>
<alt>
<BNF part="02" name="left paren"/> <BNF name="target specification"/> 
<BNF part="02" name="right paren"/>
</alt>
<alt>
<BNF name="mutator reference"/>
</alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_assignment_2">

<olist>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<item>An <BNF name="assignment statement"/> <symdef>A</symdef> that contains 
a <BNF name="multiple variable assignment"/> is effectively replaced by 
a <BNF name="compound statement"/> <symdef>CS</symdef> as follows:

<olist>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<item>Let <symdef>ATL</symdef> be the <BNF name="assignment target list"/> contained in
<sym>A</sym>, let <symdef>ATN</symdef> be the number of
<BNF name="assignment target"/>s contained in <sym>ATL</sym>, and let <symdef>AR</symdef> be 
the <BNF part="02" name="assigned row"/> contained in <sym>A</sym>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<item><sym>ATN</sym> shall be equal to the degree of <sym>AR</sym>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>FCD/2002 CAN-P04-001</comment>
<item>Let <symdef>X</symdef> be an arbitrary <BNF name="SQL variable name"/> that is not
equivalent to a <BNF name="target specification"/> contained in <sym>A</sym>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<item>Let <symdef>XT</symdef> be the declared type of <sym>AR</sym>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Let <symdef>AT</symdef><sub><sym>i</sym></sub>, 1 (one) <leq/>
<symdef>i</symdef> <leq/> <sym>ATN</sym>, be the <sym>i</sym>-th
<BNF name="assignment target"/> contained in <sym>ATL</sym> and 
let <symdef>FN</symdef><sub><sym>i</sym></sub> be the <BNF part="02" name="field name"/> of the
<sym>i</sym>-th field of <sym>AR</sym>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<item><sym>CS</sym> is:

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<code>
<kw>BEGIN</kw>
  <kw>DECLARE</kw> <sym>X</sym> <sym>XT</sym> ;
  <kw>SET</kw> <sym>X</sym> = <sym>AR</sym> ;
  <kw>SET</kw> <sym>AT</sym><sub>1</sub> = <sym>X</sym>.<sym>FN</sym><sub>1</sub> ;
  <ellipsis/>
  <kw>SET</kw> <sym>AT</sym><sub><sym>ATN</sym></sub> = <sym>X</sym>.<sym>FN</sym><sub><sym>ATN</sym></sub> ;
<kw>END</kw>
</code>

</item>

</olist>

</item>

<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:MEM-051 = DM32.2-2016-00062</comment>
<item>A <BNF name="target specification"/> immediately contained in 
a <BNF name="modified field target"/> or a <BNF name="mutated target specification"/>
that is a <BNF part="02" name="column reference"/> shall be
a new transition variable column reference.

<comment>DBL:CWB-081/X3H2-98-068</comment>
<note><quote>New transition variable column reference</quote> is defined in
<extref part="02" ref="fnd_identchain"/>, in <docref ref="ISO9075-2"/>.
</note>

</item>

<comment>WG3:ICN-081 = H2-2002-___</comment>
<item>If the <BNF name="assignment statement"/> is contained in 
a <BNF name="triggered SQL statement" part="02"/> of an <kw>AFTER</kw> trigger, then the
<BNF name="modified field target"/> or a <BNF name="mutated target specification"/>
contained in the <BNF name="assignment target"/> shall not immediately contain 
a <BNF part="02" name="column reference"/>.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:CWB-043R1/X3H2-98-137</comment>
<comment>DBL:CWB-157/X3H2-98-210</comment>
<item>The declared type of the <BNF name="target specification"/> simply contained in
a <BNF name="mutator reference"/> <symdef>MR</symdef> shall be a user-defined type.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>WG3:BBN-156/X3H2-98-379</comment>
<comment>WG3:SIA-022</comment>
<item>If <BNF name="assignment target"/> immediately contains 
a <BNF name="mutator reference"/>, then let <symdef>TS</symdef> be the
<BNF name="mutated target specification"/>, let <symdef>FN</symdef> be the
<BNF part="02" name="method name"/>, and let <symdef>AS</symdef> be the
<BNF name="assignment source"/>.
The <BNF name="assignment statement"/> is equivalent to:

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>FCD1/1998 CAN-P04-013, editorially</comment>
<comment>WG3:BBN-156/X3H2-98-379</comment>
<comment>Editorial standardization on sym and code tags</comment>
<code>
<kw>SET</kw> <sym>TS</sym> = <sym>TS</sym>.<sym>FN</sym> ( <sym>AS</sym> )
</code>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<note>The preceding rule is applied recursively until the <BNF name="assignment target"/> no 
longer contains a <BNF name="mutator reference"/>.
</note>

</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<item>If <BNF name="assignment target"/> is a <BNF name="modified field reference"/>
<symdef>FR</symdef>, then:

<olist>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<item>Let <symdef>F</symdef> be the field identified by <BNF part="02" name="field name"/> simply
contained in <BNF name="assignment target"/> and not simply contained in
<BNF name="modified field target"/>.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<item>Let <symdef>AS</symdef> be the <BNF name="assignment source"/>.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item id="psm_assignment_SR_applyExtSC1">The
<applyExtSC part="02" rules="SR" ref="fnd_store">
  <extsymarg param="TARGET"><sym>F</sym></extsymarg>
  <extsymarg param="VALUE"><sym>AS</sym></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

<comment>X3H2-95-134/DBL:YOW-044</comment>
<comment>DBL:MCI-173/X3H2-96-274R1 as amended</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<item>If the <BNF name="assignment target"/> simply contains 
an <BNF part="02" name="embedded variable name"/> or 
a <BNF part="02" name="host parameter specification"/>, then <BNF name="assignment source"/> shall 
not simply contain an <BNF part="02" name="embedded variable name"/> or 
a <BNF part="02" name="host parameter specification"/>.
</item>

<comment>DBL:MCI-173/X3H2-96-274R1 as amended</comment>
<comment>WG3:BBN-155/X3H2-98-378</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_SR_applyExtSC2">If the <BNF name="assignment target"/> simply contains 
a <BNF part="02" name="column reference"/>, an <BNF name="SQL variable reference"/>,
or an <BNF part="02" name="SQL parameter reference"/> and
the <BNF name="assignment source"/> is a <BNF part="02" name="value expression"/>, then the
<applyExtSC part="02" rules="SR" ref="fnd_store">
  <extsymarg param="TARGET"><BNF name="assignment target"/></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

<comment>DBL:MCI-173/X3H2-96-274R1 as amended</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_SR_valexp">If the <BNF name="assignment target"/> simply contains 
an <BNF part="02" name="embedded variable name"/> or 
a <BNF part="02" name="host parameter specification"/> and the
<BNF name="assignment source"/> is a <BNF part="02" name="value expression"/>,
then the
<applyExtSC part="02" rules="SR" ref="fnd_retrieval">
  <extsymarg param="TARGET"><BNF name="assignment target"/></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item>If <BNF part="02" name="target array element specification"/> is specified, then:

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item><BNF name="target array reference"/> contained in an <BNF name="assignment target"/>
shall not be <BNF part="02" name="column reference"/>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_SR_applyExtSC3">The
<applyExtSC part="02" rules="SR" ref="fnd_store">
  <extsymarg param="TARGET">an arbitrary site whose declared type is the declared type of the 
  <BNF name="target specification"/>
  </extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

<comment>WG3:BBN-211/X3H2-98-427</comment>
<item>A <BNF part="02" name="contextually typed row value expression"/> that is specified as 
a <BNF name="contextually typed source"/> shall not contain 
a <BNF part="02" name="default specification"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_assignment_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_assignment_4">

<olist>

<comment>DBL:MCI-173/X3H2-96-274R1 as amended</comment>
<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:MAD-048/X3H2-96-391, amended by DBL:MAD-110r1</comment>
<comment>DBL:CWB-081/X3H2-98-068</comment>
<comment>WG3:BBN-155/X3H2-98-378</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<comment>WG3:W17-020</comment>
<comment>WG3:UTC-013 P02-NLD-008</comment>
<item id="psm_assignment_GR_target_is_colref">If <BNF name="assignment target"/> is 
a <BNF name="target specification"/> that is a <BNF part="02" name="column reference"/> 
<symdef>T</symdef>, an <BNF name="SQL variable reference"/> to
an SQL variable <sym>T</sym>, or an <BNF part="02" name="SQL parameter reference"/> to 
an SQL parameter <sym>T</sym> of an SQL-invoked routine, then: 

<olist>

<item id="psm_assignment_GR_target_is_colref_PTEMP">Let <symdef>PTEMP</symdef> be the null value.
</item>

<item id="psm_assignment_GR_target_is_colref_call">The
<applyExtSC rules="GR" ref="fnd_store" part="02">
  <extsymarg param="TARGET"><sym>T</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

<comment>DBL:MCI-173/X3H2-96-274R1 as amended</comment>
<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>DBL:MAD-188R1/X3H2-96-599R2</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_GR_varparam">If <BNF name="assignment target"/> is 
a <BNF name="target specification"/> that is the
<BNF part="02" name="embedded variable name"/> of a host variable <sym>T</sym> or the
<BNF part="02" name="host parameter specification"/> of a host parameter <sym>T</sym>, then the
<applyExtSC rules="GR" ref="fnd_retrieval" part="02">
  <extsymarg param="TARGET"><sym>T</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

<comment>WG3:BBN-105R2/X3H2-98-331</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_GR_applyExtSC4">If <BNF name="assignment target"/> is
a <BNF name="target specification"/> that is a new
transition variable column reference, then let <symdef>C</symdef> be the column
identified by the <BNF part="02" name="column reference"/> and let <symdef>R</symdef> be the row
that is to be replaced by that transition variable.
For each transition variable <symdef>TV</symdef> that is a replacement for a subrow of
<sym>R</sym> or for a superrow of <sym>R</sym> in a table in which
<sym>C</sym> is a column, the
<applyExtSC rules="GR" ref="fnd_store" part="02">
  <extsymarg param="TARGET"><sym>TV</sym>.<sym>C</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<item>If <BNF name="assignment target"/> is a <BNF name="modified field reference"/>
<sym>FR</sym>, then let <symdef>T</symdef> be the <BNF name="target specification"/>
simply contained in <sym>FR</sym>.
Let <symdef>F</symdef><sub><sym>i</sym></sub> be a field identified by each
<BNF part="02" name="field name"/> simply contained in <sym>FR</sym>.
Let <symdef>FT</symdef> be
the field identified by the <BNF part="02" name="field name"/> that is simply contained in
<BNF name="assignment target"/> and that is not simply contained in
<BNF name="modified field target"/>.

<comment>FDIS1SP1, 2003</comment>
<para>Case:
</para>

<olist>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<item>If the value of <sym>T</sym> or of any
<sym>F</sym><sub><sym>i</sym></sub> is the null value, then 
an exception condition is raised: <raise class="22" subclass="02A"/>.
</item>

<comment>DBL:MAD-262/X3H2-97-022, amended by DBL:MAD-263/X3H2-97-068</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<comment>WG3:W17-020 - Joern Bartels - editorial enable modifyability </comment>
<comment>WG3:UTC-013 P02-NLD-008</comment>
<item id="psm_assignment_GR_source_to_FT">Otherwise:

<olist>

<item id="psm_assignment_GR_source_to_FT_PTEMP"> Let <symdef>PTEMP</symdef> be the null value.
</item>

<item id="psm_assignment_GR_source_to_FT_call">The
<applyExtSC rules="GR" ref="fnd_store" part="02">
  <extsymarg param="TARGET"><sym>FT</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

</olist>

</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>FDIS1SP1, 2003</comment>
<item>If <BNF part="02" name="target array element specification"/> is specified, then

<comment>WG3:PER-155R2/H2-2001-???</comment>
<para>Case:
</para>

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>If the value of <BNF name="target array reference"/> <symdef>TAR</symdef>,
is null, then an exception condition is raised: <raise class="22" subclass="00E"/>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item>Otherwise:

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>Let <symdef>N</symdef> be the maximum cardinality of <sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>Let <symdef>M</symdef> be the cardinality of the value of <sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>Let <symdef>I</symdef> be the value of the <BNF name="simple value specification"/>
immediately contained in <sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>Let <symdef>EDT</symdef> be the element type of <sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item>Case:

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>If <sym>I</sym> is greater than zero and less than or equal to
<sym>M</sym>, then the value of <sym>TAR</sym> is replaced by an array
<sym>A</sym> with element type <sym>EDT</sym> and cardinality
<sym>M</sym> derived as follows:

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>For <symdef>j</symdef> varying from 1 (one) to <sym>I</sym>&minus;1 and
from <sym>I</sym>+1 to <sym>M</sym>, the <sym>j</sym>-th element in
<sym>A</sym> is the value of the <sym>j</sym>-th element in
<sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_GR_Ith_to_source">The 
<applyExtSC rules="GR" ref="fnd_store" part="02">
  <extsymarg param="TARGET"><sym>I</sym>-th element of <sym>A</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>If <sym>I</sym> is greater than <sym>M</sym> and less than or equal
to <sym>N</sym>, then the value of <sym>TAR</sym> is replaced by an array
<sym>A</sym> with element type <sym>EDT</sym> and cardinality
<sym>I</sym> derived as follows:

<olist>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work related to invocable subclauses, 2010-06-02</comment>
<comment>WG3:MEM-017 = DM32.2-2016-00009, comment P04-JPN-020</comment>
<item>For <symdef>j</symdef> varying from 1 (one) to <sym>M</sym>, the
<sym>j</sym>-th element in <sym>A</sym> is the value of the
<sym>j</sym>-th element in <sym>TAR</sym>.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item>For <symdef>j</symdef> varying from <sym>M</sym>+1 to <sym>I</sym>, the
<sym>j</sym>-th element in <sym>A</sym> is the null value.
</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<comment>Editorial work on invocable Subclauses, 2010-06-02</comment>
<item id="psm_assignment_GR_Ith_to_source2">The
<applyExtSC rules="GR" ref="fnd_store" part="02">
  <extsymarg param="TARGET"><sym>I</sym>-th element of <sym>A</sym></extsymarg>
  <extsymarg param="VALUE"><BNF name="assignment source"/></extsymarg>
</applyExtSC>.
</item>

</olist>

</item>

<comment>WG3:PER-155R2/H2-2001-???</comment>
<item>Otherwise, an exception condition is raised: <raise class="22" subclass="02E"/>.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_assignment_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>Editorial: Stephen Cannan 2021-04-06</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P205"/>, conforming
SQL language shall not contain an <BNF name="assignment statement"/>.
</item>

<comment>WG3:PER-092/H2-2001-???, amended by WG3:PER-149/H2-2001-???</comment>
<comment>Email from Ake Persson, 2001-08-06</comment>
<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P006"/>, conforming SQL
language shall not contain a <BNF name="multiple variable assignment"/>.
</item>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="T051"/>, conforming SQL language
shall not contain a <BNF name="modified field reference"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_case_statement" newpage="true">
<clauseHeading><BNF name="case statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_case_statement_0">

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<para>Provide conditional execution based on the truth value of 
<BNF part="02" name="search condition"/>s or on equality of operands.
</para>

</Function>


<Format id="psm_case_statement_1">

<grammar>

<comment>X3H2-94-216/SOU-138</comment>
<comment>DBL:RIO-142.DIN-23/X3H2-95-039</comment>
<BNFdef name="case statement">
<rhs>
<alt>
<BNF name="simple case statement"/>
</alt>
<alt>
<BNF name="searched case statement"/>
</alt>
</rhs>
</BNFdef>

<comment>X3H2-94-216/SOU-138</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<BNFdef name="simple case statement">
<rhs>
<kw>CASE</kw> <BNF part="02" name="case operand"/>
<breakindent/>
<BNF name="simple case statement when clause"/><repeat/>
<breakindent/>
<opt> <BNF name="case statement else clause"/> </opt>
<breakindent/>
<kw>END</kw> <kw>CASE</kw>
</rhs>
</BNFdef>

<comment>X3H2-94-216/SOU-138</comment>
<BNFdef name="searched case statement">
<rhs>
<kw>CASE</kw> <BNF name="searched case statement when clause"/><repeat/>
<breakindent/>
<opt> <BNF name="case statement else clause"/> </opt>
<breakindent/>
<kw>END</kw> <kw>CASE</kw>
</rhs>
</BNFdef>

<comment>X3H2-94-216/SOU-138</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<BNFdef name="simple case statement when clause">
<rhs>
<kw>WHEN</kw> <BNF part="02" name="when operand list"/>
<breakindent/>
<kw>THEN</kw> <BNF name="SQL statement list"/>
</rhs>
</BNFdef>

<comment>X3H2-94-216/SOU-138</comment>
<comment>DBL:RIO-142.DIN-23/X3H2-95-039</comment>
<BNFdef name="searched case statement when clause">
<rhs>
<kw>WHEN</kw> <BNF part="02" name="search condition"/>
<breakindent/>
<kw>THEN</kw> <BNF name="SQL statement list"/>
</rhs>
</BNFdef>

<BNFdef name="case statement else clause">
<rhs>
<kw>ELSE</kw> <BNF name="SQL statement list"/>
</rhs>
</BNFdef>

<comment>WG3:ARN-022 = H2-2003-207 deleted 2 productions</comment>
</grammar>

</Format>


<SyntaxRules id="psm_case_statement_2">

<olist>

<comment>X3H2-94-216/SOU-138</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<item id="psm_case_statement_SR_transform">If a <BNF name="case statement"/> specifies 
a <BNF name="simple case statement"/>,
then let <symdef>SCO1</symdef> be the <BNF part="02" name="case operand"/>:

<olist>

<comment>DBL:MAD-043/X3H2-96-381R1</comment>
<comment>DBL:MAD-170/X3H2-96-544R1</comment>
<item><sym>SCO1</sym> shall not generally contain a <BNF part="02" name="routine invocation"/>
whose subject routines include an SQL-invoked routine that is possibly
non-deterministic or that possibly modifies SQL-data.
</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>WG3:PER-126R2/H2-2001-???</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>If <sym>SCO1</sym> is <BNF part="02" name="overlaps predicate part 1"/>, then each
<BNF part="02" name="when operand"/> shall be <BNF part="02" name="overlaps predicate part 2"/>.
If <sym>SCO1</sym> is <BNF part="02" name="row value predicand"/>, then each
<BNF part="02" name="when operand"/> shall not be <BNF part="02" name="overlaps predicate part 2"/>.
</item>

<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>Let <symdef>N</symdef> be the number of
<BNF name="simple case statement when clause"/>s.
</item>

<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>For each <symdef>i</symdef> between 1 (one) and <sym>N</sym>,
let <symdef>WOL</symdef><sub><sym>i</sym></sub> be the
<BNF part="02" name="when operand list"/> of the
<sym>i</sym>-th <BNF name="simple case statement when clause"/>.
Let <symdef>M</symdef>(<sym>i</sym>) be the
number of <BNF part="02" name="when operand"/>s simply contained in 
<sym>WOL</sym><sub><sym>i</sym></sub>.
For each <symdef>j</symdef>
between 1 (one) and <sym>M</sym>(<sym>i</sym>),
let <symdef>WO</symdef><sub><sym>i</sym>,<sym>j</sym></sub>
be the <sym>j</sym>-th <BNF part="02" name="when operand"/> simply
contained in <sym>WOL</sym><sub><sym>i</sym></sub>.
</item>

<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>For each <symdef>i</symdef> between 1 (one) and <sym>N</sym>,
and for each <symdef>j</symdef> between 1 (one) and
<sym>M</sym>(<sym>i</sym>),

<comment>WG3:ARN-022 = H2-2003-207</comment>
<para>Case:
</para>

<olist>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>WG3:PER-126R2/H2-2001-???</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>If <sym>WO</sym><sub><sym>i</sym>,<sym>j</sym></sub>
is a <BNF part="02" name="row value predicand"/>,
then let <symdef>SCO2</symdef><sub><sym>i</sym>,<sym>j</sym></sub> be

<comment>WG3:ARN-022 = H2-2003-207</comment>
<code>
= <sym>WO</sym><sub><sym>i</sym>,<sym>j</sym></sub>
</code>

</item>

<comment>WG3:ARN-022 = H2-2003-207</comment>
<item>Otherwise,
let <symdef>SCO2</symdef><sub><sym>i</sym>,<sym>j</sym></sub> be
<sym>WO</sym><sub><sym>i</sym>,<sym>j</sym></sub>.
</item>

</olist>

</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>FCD/2007, USA-P04-001</comment>
<item>Let <symdef>SSL</symdef><sub><sym>i</sym></sub> be the
<BNF name="SQL statement list"/> of the <sym>i</sym>-th
<BNF name="simple case statement when clause"/>.
</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<item>If <BNF name="case statement else clause"/> is specified, then let <symdef>CSEC</symdef> be 
the <BNF name="case statement else clause"/>; otherwise, let <symdef>CSEC</symdef> be 
a character string of length 0 (zero).
</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>FDIS1SP1, 2003</comment>
<item>The <BNF name="simple case statement"/> is equivalent to 
a <BNF name="searched case statement"/> in which the <sym>i</sym>-th
<BNF name="searched case statement when clause"/> takes the form:

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<code>
<kw>WHEN</kw> ( <sym>SCO1</sym> <sym>SCO2</sym><sub><sym>i</sym>,<sym>j</sym></sub> ) <kw>OR</kw>
<ellipsis/> <kw>OR</kw>
( <sym>SCO1</sym> <sym>SCO2</sym><sub><sym>i</sym>,<sym>M</sym>(<sym>i</sym>)</sub> )
<kw>THEN</kw> <sym>SSL</sym><sub><sym>i</sym></sub>
</code>

</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<item>The <BNF name="case statement else clause"/> of the equivalent
<BNF name="searched case statement"/> takes the form:

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<code>
<sym>CSEC</sym>
</code>

</item>

<comment>WG3:LCY-031 = DM32.2-2009-00138R1</comment>
<item>The Conformance Rules of the Subclauses of <extref part="02" ref="fnd_predicates"/>,
in <docref ref="ISO9075-2"/>, are applied to the result of this syntactic transformation.

<comment>WG3:LCY-031 = DM32.2-2009-00138R1</comment>
<note>The specific Subclauses of <extref part="02" ref="fnd_predicates"/>, in 
<docref ref="ISO9075-2"/>, are determined by the
predicates that are created as a result of the syntactic transformation.
</note>

</item>

</olist>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_case_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_case_statement_4">

<olist>

<item>Case:

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>If the <BNF part="02" name="search condition"/> of some
<BNF name="searched case statement when clause"/> in a <BNF name="case statement"/> is
<bool>True</bool>,
then let <symdef>SL</symdef> be the <BNF name="SQL statement list"/> of the first
(leftmost) <BNF name="searched case statement when clause"/> whose
<BNF part="02" name="search condition"/> is <bool>True</bool>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>If the <BNF name="case statement"/> simply contains 
a <BNF name="case statement else clause"/>, then let <symdef>SL</symdef> be the
<BNF name="SQL statement list"/> of that <BNF name="case statement else clause"/>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>Otherwise, an exception condition is raised: <raise class="20"/>,
and the execution of the <BNF name="case statement"/> is terminated immediately.
</item>

</olist>

</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>FDIS1SP1, 2003</comment>
<item>Let <symdef>N</symdef> be the number of <BNF part="02" name="SQL procedure statement"/>s
simply contained in <sym>SL</sym> without an intervening
<BNF name="SQL control statement"/>.
For <symdef>i</symdef> ranging from 1 (one) to <sym>N</sym>:

<olist>

<item>Let <symdef>S</symdef><sub><sym>i</sym></sub> be the <sym>i</sym>-th
such <BNF part="02" name="SQL procedure statement"/>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Email from Stephen Cannan, 2024-03-25</comment>
<item id="psm_case_statement_GR_applyExtSC1">The
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>S</sym><sub><sym>i</sym></sub></symarg>
</applySC>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>If the execution of <sym>S</sym><sub><sym>i</sym></sub> terminates
with an unhandled exception condition, then the execution of the
<BNF name="case statement"/> is terminates with that condition.
</item>

</olist>

</item>

</olist>

</GeneralRules>


<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<ConformanceRules id="psm_case_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<comment>Email from Hugh Darwen, 2003-01-25</comment>
<item>Without <feature code="P206"/>, conforming
SQL language shall not contain a <BNF name="case statement"/>.
</item>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>WG3:PER-126R2/H2-2001-???</comment>
<comment>WG3:ARN-022 = H2-2003-207</comment>
<comment>Editorial: remove kw tags from feature names</comment>
<item>Without <feature code="P004"/>, in conforming
SQL language, both <BNF part="02" name="case operand"/> immediately contained in 
a <BNF name="simple case statement"/> and a <BNF part="02" name="when operand"/> immediately 
contained in a <BNF part="02" name="when operand list"/>
immediately contained in a <BNF name="simple case statement when clause"/>
shall be a <BNF part="02" name="row value predicand"/> that is 
a <BNF part="02" name="row value constructor predicand"/> that is a single
<BNF part="02" name="common value expression"/> or <BNF part="02" name="boolean predicand"/>.
</item>

<comment>WG3:ARN-022 = H2-2003-207</comment>
<comment>Editorial: remove kw tags from feature names</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>Without <feature code="P008"/>,
in conforming SQL language,
<BNF part="02" name="when operand list"/> immediately contained in 
a <BNF name="simple case statement when clause"/> shall simply contain exactly one
<BNF part="02" name="when operand"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_if_statement" newpage="true">
<clauseHeading><BNF name="if statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_if_statement_0">

<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<para>Provide conditional execution based on the truth value of 
a <BNF name="search condition" part="02"/>.
</para>

</Function>


<Format id="psm_if_statement_1">

<grammar>

<BNFdef name="if statement">
<rhs>
<kw>IF</kw> <BNF part="02" name="search condition"/>
<breakindent/>
<BNF name="if statement then clause"/>
<breakindent/>
<opt> <BNF name="if statement elseif clause"/><repeat/> </opt>
<breakindent/>
<opt> <BNF name="if statement else clause"/> </opt>
<breakindent/>
<kw>END</kw> <kw>IF</kw>
</rhs>
</BNFdef>

<BNFdef name="if statement then clause">
<rhs>
<kw>THEN</kw> <BNF name="SQL statement list"/>
</rhs>
</BNFdef>

<BNFdef name="if statement elseif clause">
<rhs>
<kw>ELSEIF</kw> <BNF part="02" name="search condition"/> <kw>THEN</kw> 
<BNF name="SQL statement list"/>
</rhs>
</BNFdef>

<BNFdef name="if statement else clause">
<rhs>
<kw>ELSE</kw> <BNF name="SQL statement list"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_if_statement_2">

<olist>

<item>If one or more <BNF name="if statement elseif clause"/>s are specified, then
the <BNF name="if statement"/> is equivalent to an <BNF name="if statement"/> that does not
contain <kw>ELSEIF</kw> by performing the following transformation recursively:

<comment>Editorial changes to eliminate "undefined BNF symbols" when compiling the PSM document
</comment>
<code>
    <kw>IF</kw> <BNF part="02" name="search condition"/>
      <BNF name="if statement then clause"/>
      <sym>ISEC1</sym>
      [ <BNF name="if statement elseif clause"/><repeat/> ]
      [ <BNF name="if statement else clause"/> ]
    <kw>END</kw> <kw>IF</kw>
</code>

<para>is equivalent to
</para>

<comment>Editorial changes to eliminate "undefined BNF symbols" when compiling the PSM document
</comment>
<code>
    <kw>IF</kw> <BNF part="02" name="search condition"/>
      <BNF name="if statement then clause"/>
      <kw>ELSE</kw>
        <kw>IF</kw> <sym>SC1</sym>
          <kw>THEN</kw> <sym>SL1</sym>
          [ <BNF name="if statement elseif clause"/><repeat/> ]
          [ <BNF name="if statement else clause"/> ]
        <kw>END</kw> <kw>IF</kw>
    <kw>END</kw> <kw>IF</kw>
</code>

<comment>WG3:BHX-094R2/H2-2000-277R3</comment>
<comment>Editorial changes to eliminate "undefined BNF symbols" when compiling the PSM document
</comment>
<para>where <symdef>SC1</symdef> is the <BNF part="02" name="search condition"/> simply
contained in <BNF name="if statement elseif clause"/> <symdef>ISEC1</symdef>
and <symdef>SL1</symdef> is the <BNF name="SQL statement list"/> simply contained in
<sym>ISEC1</sym>.
</para>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_if_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_if_statement_4">

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>Case:

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>If the <BNF part="02" name="search condition"/> immediately contained in the
<BNF name="if statement"/> evaluates to <bool>True</bool>, then let <symdef>SL</symdef> be 
the <BNF name="SQL statement list"/> immediately contained in the
<BNF name="if statement then clause"/>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>Otherwise, if an <BNF name="if statement else clause"/> is specified, then
let <symdef>SL</symdef> be the <BNF name="SQL statement list"/> immediately contained in
the <BNF name="if statement else clause"/>.

<comment>DBL:MAD-074/X3H2-96-418</comment>
<note><quote>Otherwise</quote> means that the <BNF part="02" name="search condition"/> immediately
contained in the <BNF name="if statement"/> evaluates to
<bool>False</bool> or to <bool>Unknown</bool>.
</note>

</item>

</olist>

</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>FDIS1SP1, 2003</comment>
<item>Let <symdef>N</symdef> be the number of <BNF part="02" name="SQL procedure statement"/>s 
simply contained in <sym>SL</sym> without an intervening <BNF name="SQL control statement"/>.
For <symdef>i</symdef> ranging from 1 (one) to <sym>N</sym>:

<olist>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<item>Let <symdef>S</symdef><sub><sym>i</sym></sub> be the <sym>i</sym>-th such
<BNF part="02" name="SQL procedure statement"/>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Email from Stephen Cannan, 2024-03-25</comment>
<item id="psm_if_statement_GR_applyExtSC1">The
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>S</sym><sub><sym>i</sym></sub></symarg>
</applySC>.
</item>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>ad hoc action at LGW meeting</comment>
<item>If the execution of <sym>S</sym><sub><sym>i</sym></sub> terminates
with an unhandled exception condition, then the execution of the
<BNF name="if statement"/> is terminated and the condition remains active.
</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_if_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>Editorial: Stephen Cannan 2021-04-06</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P207"/>, conforming
SQL language shall not contain an <BNF name="if statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:LGW-047/X3H2-97-226</comment>
<subClause id="psm_iterate" newpage="true">
<clauseHeading><BNF name="iterate statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_iterate_0">

<comment>DBL:LGW-047/X3H2-97-226</comment>
<para>Terminate the execution of an iteration of an iterated SQL-statement.
</para>

</Function>


<Format id="psm_iterate_1">

<grammar>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<BNFdef name="iterate statement">
<rhs>
<kw>ITERATE</kw> <BNF name="statement label"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_iterate_2">

<olist>

<comment>FCD1/1998 USA-P04-030, editorially</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<comment>DBL:MAD-092/X3H2-96-450R1</comment>
<item><BNF name="statement label"/> shall be the <BNF name="beginning label"/> of some
iterated SQL-statement <symdef>IS</symdef> that contains
<BNF name="iterate statement"/> without an intervening
<BNF part="02" name="SQL schema statement"/>.
</item>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item>Let <symdef>SSL</symdef> be the <BNF name="SQL statement list"/> simply contained in
<sym>IS</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_iterate_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_iterate_4">

<olist>

<comment>DBL:LGW-047/X3H2-97-226</comment>
<item>The execution of <sym>SSL</sym> is terminated.

<comment>DBL:LGW-047/X3H2-97-226</comment>
<note>If the iteration condition for <sym>IS</sym> is
<bool>True</bool> or if <sym>IS</sym> does not have an iteration condition, then the next 
iteration of <sym>SSL</sym> commences immediately.
If the iteration condition for <sym>IS</sym> is <bool>False</bool>, 
then there is no next iteration of <sym>SSL</sym>.
</note>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_iterate_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>Editorial: Stephen Cannan 2021-04-06</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P208"/>, conforming
SQL language shall not contain an <BNF name="iterate statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_leave_statement" newpage="true">
<clauseHeading><BNF name="leave statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_leave_statement_0">

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<para>Continue execution by leaving a labeled statement.
</para>

</Function>


<Format id="psm_leave_statement_1">

<grammar>

<BNFdef name="leave statement">
<rhs>
<kw>LEAVE</kw> <BNF name="statement label"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_leave_statement_2">

<olist>

<comment>DBL:RIO-090/X3H2-94-516R1</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<comment>Hugh Darwen's DIS comments on Interim Draft (rev 1), 3 July 1996</comment>
<comment>DBL:MAD-092/X3H2-96-450R1</comment>
<item><BNF name="statement label"/> shall be the <BNF name="beginning label"/> of some
<BNF part="02" name="SQL procedure statement"/> <symdef>S</symdef> that contains
<BNF name="leave statement"/> <symdef>L</symdef> without an intervening
<BNF part="02" name="SQL schema statement"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_leave_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_leave_statement_4">

<olist>

<comment>DBL:MAD-063/X3H2-96-385</comment>
<item>For every <BNF name="compound statement"/> <symdef>CS</symdef> that is contained in
<sym>S</sym> and that contains the <BNF name="leave statement"/>:

<olist>

<comment>IS Sneak Peek review from Bakuya-san, email dated 28 Oct 1996</comment>
<comment>WG3:SIA-049</comment>
<comment>WG3:SIA-053R1</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<comment>WG3:WLG-043R1</comment>
<item id="psm_leave_statement_GR_applyExtSC1">For every open standing SQL-server cursor
<symdef>CR</symdef> that is declared in the
<BNF name="local cursor declaration list"/> of <sym>CS</sym>, the
<applyExtSC rules="GR" ref="fnd_effclosecurs" part="02">
  <extsymarg param="CURSOR"><sym>CR</sym></extsymarg>
  <extsymarg param="DISPOSITION">SAVE</extsymarg>
</applyExtSC>.
</item>

<comment>DBL:MAD-063/X3H2-96-385, amended by DBL:MAD-110r1</comment>
<comment>WG3:WLG-043R1</comment>
<item>The variables, standing SQL-server cursors, and handlers specified in the
<BNF name="local declaration list"/>, the <BNF name="local cursor declaration list"/>, and
the <BNF name="local handler declaration list"/> of <sym>CS</sym> are destroyed.
</item>

</olist>

</item>

<comment>DBL:RIO-142.UK-7.UK-76/X3H2-95-039</comment>
<item>The execution of <sym>S</sym> is terminated.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_leave_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P209"/>, conforming
SQL language shall not contain a <BNF name="leave statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_loop_statement" newpage="true">
<clauseHeading><BNF name="loop statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_loop_statement_0">

<para>Repeat the execution of a statement.
</para>

</Function>


<Format id="psm_loop_statement_1">

<grammar>

<BNFdef name="loop statement">
<rhs>
<opt> <BNF name="beginning label"/> <BNF part="02" name="colon"/> </opt>
<breakindent/>
<kw>LOOP</kw>
<breakindent/>
<BNF name="SQL statement list"/>
<breakindent/>
<kw>END</kw> <kw>LOOP</kw> <opt> <BNF name="ending label"/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_loop_statement_2">

<olist>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<item>Let <symdef>LS</symdef> be the <BNF name="loop statement"/>.
</item>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>WG3:UKB-030R1/H2-2006-091R2</comment>
<comment>Email from Fred Zemke, 2006-04-21</comment>
<item>If <sym>LS</sym> does not specify a <BNF name="beginning label"/>, then 
an <unDef code="UD002"/> <BNF name="beginning label"/> that is not equivalent to
any other <BNF name="statement label"/> contained in the outermost containing
<BNF name="SQL control statement"/> is implicit.
</item>

<comment>DBL:MCI-096/X3H2-96-140 implication</comment>
<item>If <BNF name="ending label"/> is specified, then a <BNF name="beginning label"/> shall
be specified that is equivalent to <BNF name="ending label"/>.
</item>

<comment>DBL:MCI-045/X3H2-96-052:USA-099</comment>
<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<item>The scope of the
<BNF name="beginning label"/> is <sym>LS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>LS</sym>.
<BNF name="beginning label"/> shall not be equivalent to another
<BNF name="beginning label"/> contained in <sym>LS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>LS</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_loop_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_loop_statement_4">

<olist>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<item id="psm_loop_statement_GR_applyExtSC1">Let <symdef>SSL</symdef> be
the <BNF name="SQL statement list"/> and 
let <symdef>CCS</symdef> be the <BNF name="compound statement"/>:

<code>
<kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw> <sym>SSL</sym> <kw>END</kw>
</code>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<para>The
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>CCS</sym></symarg>
</applySC>, repeatedly.
</para>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>WG3:UTC-013 P04-ISO-012</comment>
<note>The occurrence of an exception condition or the execution of 
a <BNF name="leave statement"/> can also cause execution of <sym>LS</sym> to be
terminated; see <extref part="01" ref="frm_exceptions"/>, in  <docref ref="ISO9075-1"/>,
and <specref ref="psm_leave_statement"/>,
respectively.
Some actions taken by a condition handler might also cause execution of <sym>LS</sym> to be 
terminated; see <specref ref="psm_handler_decl"/>.
</note>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_loop_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P210"/>, conforming
SQL language shall not contain a <BNF name="loop statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<subClause id="psm_while_statement" newpage="true">
<clauseHeading><BNF name="while statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_while_statement_0">

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<para>While a specified condition is <bool>True</bool>, repeat the execution of a statement.
</para>

</Function>


<Format id="psm_while_statement_1">

<grammar>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<BNFdef name="while statement">
<rhs>
<opt> <BNF name="beginning label"/> <BNF part="02" name="colon"/> </opt>
<breakindent/>
<kw>WHILE</kw> <BNF part="02" name="search condition"/> <kw>DO</kw>
<breakindent/>
<BNF name="SQL statement list"/>
<breakindent/>
<kw>END</kw> <kw>WHILE</kw> <opt> <BNF name="ending label"/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_while_statement_2">

<olist>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>Corrections sent by Chris Farrar 16 June 1998</comment>
<item>Let <symdef>WS</symdef> be the <BNF name="while statement"/>.
</item>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>WG3:UKB-030R1/H2-2006-091R2</comment>
<comment>Email from Fred Zemke, 2006-04-21</comment>
<item>If <sym>WS</sym> does not specify a <BNF name="beginning label"/>, then 
an <unDef code="UD003"/> <BNF name="beginning label"/> that is not equivalent to
any other <BNF name="statement label"/> contained in the outermost containing
<BNF name="SQL control statement"/> is implicit.
</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>DBL:MCI-096/X3H2-96-140 implication</comment>
<item>If <BNF name="ending label"/> is specified, then a <BNF name="beginning label"/> shall
be specified that is equivalent to <BNF name="ending label"/>.
</item>

<comment>DBL:MCI-045/X3H2-96-052:USA-101</comment>
<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<item>The scope of the
<BNF name="beginning label"/> is <sym>WS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>WS</sym>.
<BNF name="beginning label"/> shall not be equivalent to another
<BNF name="beginning label"/> contained in <sym>WS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>WS</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_while_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_while_statement_4">

<olist>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<item>The <BNF part="02" name="search condition"/> is evaluated.
</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<item>Case:

<olist>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<item>If the <BNF part="02" name="search condition"/> evaluates to
<bool>False</bool> or <bool>Unknown</bool>, then
execution of <sym>WS</sym> is terminated.
</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<item id="psm_while_statement_GR_applyExtSC1">Let <symdef>SSL</symdef> be
the <BNF name="SQL statement list"/> and 
let <symdef>CCS</symdef> be the <BNF name="compound statement"/>

<code>
<kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw> <sym>SSL</sym> <kw>END</kw>
</code>

<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>IS Sneak Peek review from Ed Dee, email dated 31 Oct 1996</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Email from Stephen Cannan, 2024-03-25</comment>
<para>If the
<BNF part="02" name="search condition"/> evaluates to <bool>True</bool>, then the
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>CCS</sym></symarg>
</applySC>
and the execution of <sym>WS</sym> is repeated.
</para>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>FCD1/1998 JPN-P04-041</comment>
<comment>WG3:UTC-013 P04-ISO-012</comment>
<note>The occurrence of an exception condition or the execution of 
a <BNF name="leave statement"/> can also cause execution of <sym>WS</sym> to be
terminated; see <extref part="01" ref="frm_exceptions"/>, in <docref ref="ISO9075-1"/>,
and <specref ref="psm_leave_statement"/>,
respectively.
Some actions taken by a condition handler might also cause execution of <sym>WS</sym> to be 
terminated; see <specref ref="psm_handler_decl"/>.
</note>

</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_while_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P211"/>, conforming
SQL language shall not contain a <BNF name="while statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<subClause id="psm_repeat_statement" newpage="true">
<clauseHeading><BNF name="repeat statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_repeat_statement_0">

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<para>Repeat the execution of a statement until a specified condition becomes <bool>True</bool>.
</para>

</Function>


<Format id="psm_repeat_statement_1">

<grammar>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<BNFdef name="repeat statement">
<rhs>
<opt> <BNF name="beginning label"/> <BNF part="02" name="colon"/> </opt>
<breakindent/>
<kw>REPEAT</kw>
<breakindent/>
<BNF name="SQL statement list"/>
<breakindent/>
<kw>UNTIL</kw> <BNF part="02" name="search condition"/>
<breakindent/>
<kw>END</kw> <kw>REPEAT</kw> <opt> <BNF name="ending label"/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_repeat_statement_2">

<olist>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<item>Let <symdef>RS</symdef> be the <BNF name="repeat statement"/>.
</item>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>WG3:UKB-030R1/H2-2006-091R2</comment>
<comment>Email from Fred Zemke, 2006-04-21</comment>
<item>If <sym>RS</sym> does not specify a <BNF name="beginning label"/>, then 
an <unDef code="UD004"/> <BNF name="beginning label"/> that is not equivalent to
any other <BNF name="statement label"/> contained in the outermost containing
<BNF name="SQL control statement"/> is implicit.
</item>

<comment>DBL:MCI-096/X3H2-96-140 implication</comment>
<item>If <BNF name="ending label"/> is specified, then a <BNF name="beginning label"/> shall
be specified that is equivalent to <BNF name="ending label"/>.
</item>

<comment>DBL:MCI-045/X3H2-96-052:USA-101</comment>
<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>DBL:MAD-122/X3H2-96-516</comment>
<item>The scope of the
<BNF name="beginning label"/> is <sym>RS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>RS</sym>.
<BNF name="beginning label"/> shall not be equivalent to another
<BNF name="beginning label"/> contained in <sym>RS</sym> excluding every
<BNF part="02" name="SQL schema statement"/> contained in <sym>RS</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_repeat_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_repeat_statement_4">

<olist>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<item id="psm_repeat_statement_GR_applyExtSC1">Let <symdef>SSL</symdef> be the
<BNF name="SQL statement list"/> and 
let <symdef>CCS</symdef> be the <BNF name="compound statement"/>

<code>
<kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw> <sym>SSL</sym> <kw>END</kw>
</code>

<comment>IS Sneak Peek review from Ed Dee, email dated 31 Oct 1996</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>WG3:W10-009/P02-NLD-021</comment>
<comment>Email from Stephen Cannan, 2024-03-25</comment>
<para>The
<applySC rules="GR" ref="psm_sqlstatement_execution">
  <symarg param="EXECUTING STATEMENT"><sym>CCS</sym></symarg>
</applySC>
and then <BNF part="02" name="search condition"/> is evaluated.
</para>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039 and DBL:RIO-142.UK-78amend/X3H2-95-039</comment>
<comment>Len Gallagher's DIS sneak preview comments</comment>
<comment>FCD1/1998 JPN-P04-042</comment>
<comment>WG3:UTC-013 P04-ISO-012</comment>
<note>The occurrence of an exception condition or the execution of 
a <BNF name="leave statement"/> can also cause execution of <sym>RS</sym> to be
terminated; see <extref part="01" ref="frm_exceptions"/>, in <docref ref="ISO9075-1"/>,
and <specref ref="psm_leave_statement"/>,
respectively.
Some actions taken by a condition handler might also cause execution of <sym>RS</sym> to be 
terminated; see <specref ref="psm_handler_decl"/>.
</note>

</item>

<comment>DBL:RIO-142.JPN-3/X3H2-95-039</comment>
<comment>DBL:MCI-045/X3H2-96-052:USA-105</comment>
<item>If the <BNF part="02" name="search condition"/> evaluates to
<bool>False</bool> or <bool>Unknown</bool>, then
the execution of <sym>RS</sym> is repeated; otherwise, execution of
<sym>RS</sym> is terminated.
</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_repeat_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P212"/>, conforming
SQL language shall not contain a <BNF name="repeat statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-93-066/YOK-035 and X3H2-93-084</comment>
<subClause id="psm_for_statement" newpage="true">
<clauseHeading><BNF name="for statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_for_statement_0">

<comment>DBL:RIO-142.UK-79/X3H2-95-039</comment>
<para>Execute a statement for each row of a table.
</para>

</Function>


<Format id="psm_for_statement_1">

<grammar>

<comment>X3H2-93-245/MUN-048</comment>
<comment>X3H2-94-150/SOU-077</comment>
<comment>Email from Ake Persson, 2002-03-01</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<comment>Email from Hugh Darwen, 2003-03-24</comment>
<comment>X3H2-93-245/MUN-048 amended</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<BNFdef name="for statement">
<rhs>
<opt> <BNF name="beginning label"/> <BNF part="02" name="colon"/> </opt>
<breakindent/>
<kw>FOR</kw> <opt> <BNF name="for loop variable name"/> <kw>AS</kw> </opt>
<breakindent/>
<opt> 
<BNF part="02" name="cursor name"/> <opt> <BNF part="02" name="cursor sensitivity"/> </opt> 
<kw>CURSOR</kw> <kw>FOR</kw> </opt>
<breakindent/>
<BNF part="02" name="cursor specification"/>
<breakindent/>
<kw>DO</kw> <BNF name="SQL statement list"/>
<breakindent/>
<kw>END</kw> <kw>FOR</kw> <opt> <BNF name="ending label"/> </opt>
</rhs>
</BNFdef>

<comment>X3H2-94-150/SOU-077</comment>
<BNFdef name="for loop variable name">
<rhs>
<BNF part="02" name="identifier"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_for_statement_2">

<olist>

<comment>X3H2-93-245/MUN-048</comment>
<item>Let <symdef>FCS</symdef> be the <BNF part="02" name="cursor specification"/> of the
<BNF name="for statement"/> <symdef>FS</symdef>.
</item>

<comment>FCD1/1998 NLD-P04-189, editorially</comment>
<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<comment>WG3:UKB-030R1/H2-2006-091R2</comment>
<comment>Email from Fred Zemke, 2006-04-21</comment>
<item>If <sym>FS</sym> does not specify a <BNF name="beginning label"/>, then 
an <unDef code="UD005"/> <BNF name="beginning label"/> that is not equivalent to
any other <BNF name="statement label"/> contained in the outermost containing
<BNF name="SQL control statement"/> is implicit.
</item>

<comment>DBL:MCI-096/X3H2-96-140 implication</comment>
<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<item>If <BNF name="ending label"/> is specified, then a <BNF name="beginning label"/> shall
be specified that is equivalent to <BNF name="ending label"/>.
</item>

<comment>X3H2-93-245/MUN-048</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>DBL:MCI-147/X3H2-96-201R1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>If <BNF part="02" name="cursor name"/> is specified, then let <symdef>CN</symdef> be that
<BNF part="02" name="cursor name"/>.
Otherwise, let <symdef>CN</symdef> be an <unDef code="UD006"/>
<BNF part="02" name="cursor name"/> that is not equivalent to
another <BNF part="02" name="cursor name"/> in the outermost containing
<BNF part="02" name="SQL-client module definition"/> or <BNF name="SQL-invoked routine"/>.
</item>

<comment>X3H2-93-245/MUN-048 amended</comment>
<comment>DBL:MCI-136/X3H2-96-253R1</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>DBL:CWB-043R1/X3H2-98-137</comment>
<comment>WG3:PER-065/H2-2001-???</comment>
<item>Let <symdef>QE</symdef> be the <BNF part="02" name="query expression"/> of <sym>FCS</sym>.
Each column of the table specified by <sym>QE</sym> shall have 
a <BNF part="02" name="column name"/> that is not equivalent to another 
<BNF part="02" name="column name"/> in the table specified by <sym>QE</sym>.
Let <symdef>V1</symdef>, <symdef>V2</symdef>, <ellipsis/>, <symdef>Vn</symdef> be those 
<BNF part="02" name="column name"/>s.
Let <symdef>DT1</symdef>, <symdef>DT2</symdef>, <ellipsis/>, <symdef>DTn</symdef> be the
declared types of the respective columns.
</item>

<comment>X3H2-94-150/SOU-077</comment>
<comment>DBL:MCI-057/X3H2-96-124R3</comment>
<item>Let <symdef>BL</symdef>, <sym>FLVN</sym>, and <symdef>SLL</symdef> be the
<BNF name="beginning label"/>, <BNF name="for loop variable name"/>, and
<BNF name="SQL statement list"/> of <sym>FS</sym>, respectively.

<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<olist>

<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>DBL:MAD-048/X3H2-96-391, amended by DBL:MAD-110r1</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>Let <symdef>AT_END</symdef> be an <unDef code="UV010"/>
<BNF name="SQL variable name"/> that is not equivalent to
another <BNF name="SQL variable name"/> or an <BNF part="02" name="SQL parameter name"/>
contained in the outermost containing <BNF name="SQL-server module definition"/>,
<BNF name="SQL-invoked routine"/>, or <BNF name="compound statement"/>.
</item>

<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>Let <symdef>NOT_FOUND</symdef> be an <unDef code="UD007"/>
<BNF name="condition name"/> that is not equivalent to another
<BNF name="condition name"/> contained in the outermost containing
<BNF name="SQL-server module definition"/>, <BNF name="SQL-invoked routine"/>, or
<BNF name="compound statement"/>.
</item>

<comment>X3H2-93-245/MUN-048 amended</comment>
<comment>X3H2-94-407R/RIO-033</comment>
<item>Let <symdef>CS</symdef> be the explicit or implicit
<BNF part="02" name="cursor sensitivity"/>.
</item>

</olist>

</item>

<comment>WG3:PER-065/H2-2001-???</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<comment>WG3:STX-041</comment>
<item>Let <symdef>COMMON_CODE</symdef> be:

<comment>DBL:MCI-057/X3H2-96-124R3</comment>
<comment>Editorial instructions at Brisbane</comment>
<comment>WG3:BBN-176/X3H2-98-394</comment>
<comment>X3H2-93-157/YOK-104</comment>
<comment>X3H2-93-245/MUN-048</comment>
<comment>X3H2-94-013/MUN-187 amended</comment>
<comment>X3H2-94-150/SOU-077</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<comment>CD1/2005 USA-P04-020</comment>
<comment>WG3:KMG-034R1 = DM32.2-2010-00___</comment>
<code>
        <kw>DECLARE</kw> <sym>V1</sym> <sym>DT1</sym>;
        <kw>DECLARE</kw> <sym>V2</sym> <sym>DT2</sym>;
        .
        .
        .
        <kw>DECLARE</kw> <sym>Vn</sym> <sym>DTn</sym>;
        <kw>DECLARE</kw> <sym>AT_END</sym> <kw>BOOLEAN</kw> <kw>DEFAULT</kw> <kw>FALSE</kw>;
        <kw>DECLARE</kw> <sym>NOT_FOUND</sym> <kw>CONDITION</kw> <kw>FOR</kw> <kw>SQLSTATE</kw> <string>02000</string>;
        <kw>DECLARE</kw> <symdef>OPEN_ERROR</symdef> <kw>CONDITION</kw>;
        <kw>DECLARE</kw> <sym>CN</sym> <sym>CS</sym> <kw>CURSOR</kw> <kw>FOR</kw> <sym>FCS</sym>
        <kw>DECLARE</kw> <kw>EXIT</kw> <kw>HANDLER</kw> <kw>FOR</kw> <sym>OPEN_ERROR</sym>
           <kw>RESIGNAL</kw>;
        <kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw>
           <kw>DECLARE</kw> <kw>EXIT</kw> <kw>HANDLER</kw> <kw>FOR</kw> <kw>SQLEXCEPTION</kw>
             <kw>RESIGNAL</kw> <sym>OPEN_ERROR</sym>;
           <kw>OPEN</kw> <sym>CN</sym>;
        <kw>END</kw>;
        <sym>BL</sym>:<kw>LOOP</kw>
           <kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw>
              <kw>DECLARE</kw> <kw>CONTINUE</kw> <kw>HANDLER</kw> <kw>FOR</kw> <sym>NOT_FOUND</sym>
              <kw>SET</kw> <sym>AT_END</sym> = <kw>TRUE</kw>;
              <kw>DECLARE</kw> <kw>CONTINUE</kw> <kw>HANDLER</kw> <kw>FOR</kw> <kw>SQLEXCEPTION</kw>
                 <kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw>
                    <kw>SET</kw> <sym>AT_END</sym> = <kw>TRUE</kw>;
                    <kw>RESIGNAL</kw>;
                 <kw>END</kw>;
              <kw>FETCH</kw> <sym>CN</sym> <kw>INTO</kw> <sym>V1</sym>, <sym>V2</sym>, <ellipsis/>, <sym>Vn</sym>;
            <kw>END</kw>;
            <kw>IF</kw> <sym>AT_END</sym> <kw>THEN</kw>
              <kw>LEAVE</kw> <sym>BL</sym>;
            <kw>END</kw> <kw>IF</kw>;
            <sym>SLL</sym>
          <kw>END</kw> <kw>LOOP</kw> <sym>BL</sym>;
          <kw>CLOSE</kw> <sym>CN</sym>;
</code>

<comment>WG3:DRS-047/H2-2002-___</comment>
<para>Case:
</para>

<olist>

<comment>WG3:STX-041</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<item>If <BNF name="for loop variable name"/> is specified, then <sym>FS</sym> is equivalent to:

<comment>DBL:MCI-057/X3H2-96-124R3</comment>
<comment>Editorial instructions at Brisbane</comment>
<comment>WG3:BBN-176/X3H2-98-394</comment>
<comment>X3H2-93-157/YOK-104</comment>
<comment>X3H2-93-245/MUN-048</comment>
<comment>X3H2-94-013/MUN-187 amended</comment>
<comment>X3H2-94-150/SOU-077</comment>
<comment>X3H2-94-201/SOU-184</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<code>
    <sym>FLVN</sym>: <kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw>
      <sym>COMMON_CODE</sym>
    <kw>END</kw> <sym>FLVN</sym>;
</code>

</item>

<comment>WG3:STX-041</comment>
<comment>WG3:DRS-047/H2-2002-___</comment>
<item>Otherwise, <sym>FS</sym> is equivalent to:

<comment>WG3:DRS-047/H2-2002-___</comment>
<code>
    <kw>BEGIN</kw> <kw>NOT</kw> <kw>ATOMIC</kw>
      <sym>COMMON_CODE</sym>
    <kw>END</kw>
</code>

</item>

</olist>

</item>

<comment>DBL:MCI-133/X3H2-96-210R1</comment>
<comment>DBL:MCI-057/X3H2-96-124R3</comment>
<item><sym>SLL</sym> shall not contain, without an intervening
<BNF name="SQL-invoked routine"/> or <BNF part="02" name="SQL schema statement"/>, 
a <BNF name="leave statement"/> that specifies <symdef>FLVN</symdef>.
</item>

<comment>SQL-92 TC#3 ballot comment JPN-PSM2-017</comment>
<item><sym>SLL</sym> shall not contain either 
a <BNF part="02" name="commit statement"/> or a <BNF part="02" name="rollback statement"/>.
</item>

<comment>X3H2-93-245/MUN-048 with amendment editorially for ANSI</comment>
<comment>DBL:MCI-133/X3H2-96-210R1</comment>
<comment>DBL:MCI-135/X3H2-96-221R2</comment>
<item><sym>SLL</sym> shall not contain without an intervening
<BNF name="SQL-invoked routine"/> or <BNF part="02" name="SQL schema statement"/>
a <BNF part="02" name="fetch statement"/>, an <BNF part="02" name="open statement"/>, or 
a <BNF part="02" name="close statement"/> that specifies <sym>CN</sym>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_for_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_for_statement_4">

<olist>

<None/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_for_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P213"/>, conforming
SQL language shall not contain a <BNF name="for statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>X3H2-95-270R1/DBL:YOW-139</comment>
<clause id="psm_dynsql">
<clauseHeading>Dynamic SQL</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dynsql"/>


<comment>DBL:MCI-194/X3H2-96-334</comment>
<subClause id="psm_dynprepare">
<clauseHeading><BNF part="02" name="prepare statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_dynprepare"/>

<bodyMatter>


<Function id="psm_dynprepare_0">

<para>Prepare a statement for execution.
</para>

</Function>


<Format id="psm_dynprepare_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_dynprepare_2">

<olist>

<NoAdditional/>

</olist>

</SyntaxRules>


<AccessRules id="psm_dynprepare_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_dynprepare_4">

<olist>

<comment>WG3:DRS-083/H2-2002-___</comment>
<comment>WG3:TXL-080</comment>
<comment>Editorial: Joern Bartels 2022-06-10 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="GR" ref="fnd_dynprep_GR_defvar">
<addition>The syntactic substitutions specified in <specref ref="psm_assignment"/>,
shall not be applied until the data types of
<BNF part="02" name="dynamic parameter specification"/>s are determined by this General Rule.
</addition>
<location>at the end of the lead text of the Rule</location>
</augmentRule>
</mergeWith>
</item>

<comment>FDIS1SP1, 2003</comment>
<comment>WG3:DRS-083/H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_dynprepare_GR_contyperow"/></addRule>
</mergeWith>
If <symdef>DP</symdef> is a <BNF part="02" name="contextually typed row value expression"/> simply
contained in a <BNF name="multiple variable assignment"/> <symdef>MVA</symdef> of 
an <BNF name="assignment statement"/> or if <sym>DP</sym> represents the value of 
a subfield <symdef>SF</symdef> of the declared type of such 
a <BNF part="02" name="contextually typed row value expression"/>, then let <symdef>RT</symdef> be 
a row type in which the declared type of the <sym>i</sym>-th field is the
declared type of the <BNF name="target specification"/>, <BNF name="modified field reference"/>, 
or <BNF name="mutator reference"/> immediately contained in the <sym>i</sym>-th
<BNF name="assignment target"/> contained in the <BNF name="assignment target list"/> of
<sym>MVA</sym>.

<comment>WG3:DRS-083/H2-2002-___</comment>
<para>Case:
</para>

<olist>

<comment>WG3:DRS-083/H2-2002-___</comment>
<item>If <sym>DP</sym> is a <BNF part="02" name="contextually typed row value expression"/>
simply contained in <sym>MVA</sym>, then <symdef>DT</symdef> is
<sym>RT</sym>.
</item>

<comment>WG3:DRS-083/H2-2002-___</comment>
<item>Otherwise, <sym>DT</sym> is the declared type of the subfield of
<sym>RT</sym> that corresponds to <sym>SF</sym>.
</item>

</olist>

</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>WG3:DRS-083/H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_dynprepare_GR_sqlarg"/></addRule>
</mergeWith>
If <sym>DP</sym> is the <BNF name="assignment target"/> simply contained in 
a <BNF name="singleton variable assignment"/> <symdef>SVA</symdef>
of an <BNF name="assignment statement"/>, then

<comment>WG3:BBN-206/X3H2-98-423</comment>
<para>Case:
</para>

<olist>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<item>If the <BNF name="assignment source"/> immediately contains 
a <BNF part="02" name="null specification"/>, then <sym>DT</sym> is undefined.
</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>FDIS1SP1, 2003, Email from Jan-Eike Michels, 2003-06-12</comment>
<comment>Email from Paul Cotton on 6-Jan-1999 re:FCD1 SneakPeek1</comment>
<item>Otherwise, <sym>DT</sym> is the declared type of the
<BNF part="02" name="value expression"/> simply contained in the <BNF name="assignment source"/> of
<sym>SVA</sym>.
</item>

</olist>

</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>WG3:DRS-083/H2-2002-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_dynprepare_GR_sqlarg"/></addRule>
</mergeWith>
If <sym>DP</sym> is the <BNF part="02" name="value expression"/> simply contained in 
an <BNF name="assignment source"/> in a <BNF name="singleton variable assignment"/>
<sym>SVA</sym> of an <BNF name="assignment statement"/>
or if <sym>DP</sym> represents the value of a subfield
<sym>SF</sym> of the declared type of such a <BNF part="02" name="value expression"/>, then
let <symdef>RT</symdef> be the declared type of the <BNF name="assignment target"/>
simply contained in <sym>SVA</sym>.

<comment>WG3:BBN-206/X3H2-98-423</comment>
<para>Case:
</para>

<olist>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<item>If <sym>DP</sym> is the <BNF part="02" name="value expression"/> simply contained in the
<BNF name="assignment source"/>, then <sym>DT</sym> is <sym>RT</sym>.
</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<item>Otherwise, <sym>DT</sym> is the declared type of the subfield of
<sym>RT</sym> that corresponds to <sym>SF</sym>.
</item>

</olist>

</item>

<comment>FDIS1SP1, 2003</comment>
<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>WG3:CJU-022 = H2-2009-00142</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_dynprepare_GR_sqlarg"/></addRule>
</mergeWith>
If <sym>DP</sym> is a <BNF part="02" name="case operand"/> or <BNF part="02" name="when operand"/>
simply contained in a <BNF name="simple case statement"/> <symdef>CS</symdef>,
or if <sym>DP</sym> represents the value of a subfield <sym>SF</sym> of the declared type of such 
a <BNF part="02" name="case operand"/> or <BNF part="02" name="when operand"/>, then:

<olist>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item>Let <symdef>SDT</symdef> be the set union of the following sets of declared types:

<olist>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item>The set consisting of the declared type of the <BNF part="02" name="case operand"/>.
</item>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The set consisting of the declared type of a <BNF part="02" name="when operand"/> of 
<sym>CS</sym> that is a <BNF part="02" name="row value predicand"/>.
</item>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The set consisting of the declared types of every
<BNF part="02" name="row value predicand"/> simply contained in every
<BNF part="02" name="comparison predicate part 2"/>, 
<BNF part="02" name="between predicate part 2"/>,
<BNF part="02" name="character like predicate part 2"/>, 
<BNF part="02" name="octet like predicate part 2"/>,
<BNF part="02" name="similar predicate part 2"/>, 
<BNF part="02" name="regex like predicate part 2"/>,
<BNF part="02" name="overlaps predicate part 2"/>, 
<BNF part="02" name="distinct predicate part 2"/>, or
<BNF part="02" name="member predicate part 2"/> that is simply contained in <sym>CS</sym>.
</item>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The set consisting of the declared row type of a <BNF part="02" name="table subquery"/> 
simply contained in an <BNF part="02" name="in predicate part 2"/>,
<BNF part="02" name="match predicate part 2"/>, or
<BNF part="02" name="quantified comparison predicate part 2"/> simply contained
in <sym>CS</sym>.
</item>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The set consisting of the declared types of the
<BNF part="02" name="row value expression"/>s simply contained in 
an <BNF part="02" name="in value list"/> simply contained in 
an <BNF part="02" name="in predicate part 2"/> simply contained in <sym>CS</sym>.
</item>

</olist>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<note>The following <quote>part 2</quote> predicates do not have
any value expressions with declared type information:
<BNF part="02" name="null predicate part 2"/>,
<BNF part="02" name="normalized predicate part 2"/>,
<BNF part="02" name="set predicate part 2"/>, <BNF part="02" name="type predicate part 2"/>.
</note>

</item>

<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item id="psm_dynprepare_GR_applyExtSC1">The
<applyExtSC part="02" ref="fnd_setop_result" rules="SR">
  <extsymarg param="DTSET"><sym>SDT</sym></extsymarg>
  <extsymresult param="RESTYPE"><symdef>RT</symdef></extsymresult>
</applyExtSC>.
</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item>Case:

<olist>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item>If <sym>DP</sym> is a <BNF part="02" name="case operand"/> or 
<BNF part="02" name="when operand"/> simply contained in <sym>CS</sym>, 
then <sym>DT</sym> is <sym>RT</sym>.
</item>

<comment>WG3:BBN-206/X3H2-98-423</comment>
<comment>WG3:CJU-022 = H2-2009-00142</comment>
<item>Otherwise, <sym>DT</sym> is the declared type of the subfield of
<sym>RT</sym> that corresponds to <sym>SF</sym>.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_dynprepare_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<subClause id="psm_inputusing" newpage="true">
<clauseHeading><BNF part="02" name="input using clause"/></clauseHeading>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<modifiesPart ref="fnd_inputusing" part="02"/>

<bodyMatter>

<Function id="psm_inputusing_0">

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<para>Supply input values for an <BNF part="02" name="SQL dynamic statement"/>.
</para>

</Function>


<Format id="psm_inputusing_1">

<grammar>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_inputusing_2">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<comment>Editorial: Joern Bartels 2022-05-17 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_inputusing_SR_genvalspec">
<addition>an <BNF name="SQL variable reference"/>
</addition>
<location>to the list of possible <BNF name="general value specification"/>s</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_inputusing_3">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_inputusing_4">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_inputusing_5">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<subClause id="psm_outputusing" newpage="true">
<clauseHeading><BNF part="02" name="output using clause"/></clauseHeading>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<modifiesPart ref="fnd_outputusing" part="02"/>

<bodyMatter>

<Function id="psm_outputusing_0">

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<para>Supply output variables for an <BNF part="02" name="SQL dynamic statement"/>.
</para>

</Function>


<Format id="psm_outputusing_1">

<grammar>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_outputusing_2">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<comment>Editorial: Joern Bartels 2022-03-31 Use new merge markup</comment>
<item><mergeWith part="02">
<augmentRule type="SR" ref="fnd_outputusing_SR_targetspec">
<addition><BNF name="SQL variable reference"/></addition>
<location>to the list of BNF non-terminals</location>
</augmentRule>
</mergeWith>
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_outputusing_3">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_outputusing_4">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_outputusing_5">

<olist>

<comment>WG3:WLG-089 = H2-2006-___</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>DBL:CWB-114/X3H2-98-169</comment>
<clause id="psm_esyn">
<clauseHeading>Embedded SQL</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_esyn"/>


<subClause id="psm_esql">
<clauseHeading><BNF part="02" name="embedded SQL host program"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_esql"/>

<bodyMatter>

<Function id="psm_esql_0">

<comment>DBL:CWB-114/X3H2-98-169</comment>
<para>Specify an <BNF part="02" name="embedded SQL host program"/>.
</para>

</Function>


<Format id="psm_esql_1">

<grammar>

<NoFormat/>

</grammar>

</Format>


<SyntaxRules id="psm_esql_2">

<olist>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>X3H2-93-066/YOK-035</comment>
<comment>WG3:LCY-045R1 = DM32.2-2009-00___</comment>
<comment>WG3:KOA-040 = DM32.2-2011-00127R1 deleted 1 Rule</comment>
<comment>WG3:KOA-040 = DM32.2-2011-00127R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
Given an <BNF name="identifier" part="02"/> <symdef>I</symdef> and
a <BNF name="host identifier" part="02"/> <symdef>HI</symdef>,
it is <impDef code="IA001"/> whether <sym>I</sym> and <sym>HI</sym> are equivalent.
</item>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>X3H2-93-066/YOK-035</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>WG3:LCY-055R1 = DM32.2-2009-00___</comment>
<comment>WG3:KOA-040 = DM32.2-2011-00127R1</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item id="psm_esql_sql_var_decl_contained"><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
An <BNF name="SQL variable name"/> contained in an <BNF name="SQL variable declaration"/> that is
contained in an <BNF part="02" name="embedded SQL host program"/> shall not be equivalent to
a <BNF part="02" name="host identifier"/> that is contained in
an <BNF part="02" name="embedded SQL statement"/> in
an <BNF part="02" name="embedded SQL host program"/>.
</item>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>X3H2-93-201/SOU-184</comment>
<comment>DBL:CWB-134R1/X3H2-98-189</comment>
<comment>WG3:LCY-055R1 = DM32.2-2009-00___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
If a <BNF name="handler declaration"/> is contained in
an <BNF part="02" name="embedded SQL host program"/> with no intervening
<BNF name="compound statement"/>, then no <BNF name="condition value"/> contained in that
<BNF name="handler declaration"/> shall be equivalent to the
<BNF name="condition value"/> of another <BNF name="handler declaration"/> immediately
contained in that <BNF part="02" name="embedded SQL host program"/>.
</item>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>X3H2-93-066/YOK-035</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><before ref="fnd_esql_SR_cont_except"/></addRule>
</mergeWith>
<sym>M</sym> contains one <BNF name="SQL variable declaration"/> for each
<BNF name="SQL variable declaration"/> contained in <sym>H</sym>.
Each <BNF name="SQL variable declaration"/> of <symdef>M</symdef> is a copy of the
corresponding <BNF name="SQL variable declaration"/> of <symdef>H</symdef>.
</item>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>X3H2-93-201/SOU-184</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><before ref="fnd_esql_SR_cont_extinvproc"/></addRule>
</mergeWith>
<sym>M</sym> contains one <BNF name="handler declaration"/> for each
<BNF name="handler declaration"/> contained in <sym>H</sym>.
Each <BNF name="handler declaration"/> of <sym>M</sym> is a copy of the corresponding
<BNF name="handler declaration"/> of <sym>H</sym>.
</item>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>DBL:CWB-114/X3H2-98-169</comment>
<comment>GHB-52 and -87-323</comment>
<comment>FCD1/1998 DEU-P05-023</comment>
<comment>WG3:YGJ-036R1/X3H2-99-021R2</comment>
<comment>WG3:W08-009, P04-NLD-003</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_esql_SR_del_decl"/></addRule>
</mergeWith>
Each <BNF part="02" name="embedded SQL statement"/> that contains
an <BNF name="SQL variable declaration"/> has been deleted.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_esql_3">

<comment>DBL:CWB-114/X3H2-98-169</comment>
<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_esql_4">

<olist>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<ConformanceRules id="psm_esql_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>WG3:UTC-053</comment>
<clause id="psm_direct">
<clauseHeading>Direct invocation of SQL</clauseHeading>

<modifiesPart part="02" ref="fnd_direct"/>

<comment>WG3:UTC-053</comment>
<subClause id="psm_direct_statement">
<clauseHeading><BNF name="direct SQL statement" part="02"/></clauseHeading>

<modifiesPart part="02" ref="fnd_direct_statement"/>

<bodyMatter>


<comment>WG3:UTC-053</comment>
<Function id="psm_direct_statement_0">

<para>Specify direct execution of SQL.
</para>

</Function>

<comment>WG3:UTC-053</comment>
<Format id="psm_direct_statement_1">

<grammar>

<NoFormat/>

</grammar>

</Format>

<comment>WG3:UTC-053</comment>
<SyntaxRules id="psm_direct_statement_2">

<olist>

<comment>WG3:UTC-053</comment>
<item><mergeWith part="02">
<addRule type="SR"><after ref="fnd_direct_statement_SR_1"/></addRule>
</mergeWith>
The <BNF name="direct SQL data statement" part="02"/> shall not contain
an <BNF name="SQL variable reference"/>.
</item>


</olist>

</SyntaxRules>


<comment>WG3:UTC-053</comment>
<AccessRules id="psm_direct_statement_3">

<comment>DBL:CWB-114/X3H2-98-169</comment>
<olist>

<NoAdditional/>

</olist>

</AccessRules>


<comment>WG3:UTC-053</comment>
<GeneralRules id="psm_direct_statement_4">

<olist>

<comment>DBL:CWB-114/X3H2-98-169</comment>
<NoAdditional/>

</olist>

</GeneralRules>


<comment>WG3:UTC-053</comment>
<ConformanceRules id="psm_direct_statement_5">

<olist>

<NoAdditional/>

</olist>

</ConformanceRules>


</bodyMatter>

</subClause>

</clause>


<clause id="psm_diagnostics">
<clauseHeading>Diagnostics management</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_diagnostics"/>


<comment>SYD-93 and X3H2-89-085</comment>
<subClause id="psm_getdiag">
<clauseHeading><BNF name="get diagnostics statement"/></clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_getdiag"/>

<bodyMatter>

<Function id="psm_getdiag_0">

<comment>X3H2-89-085</comment>
<para>Get exception or completion condition information from the diagnostics area.
</para>

</Function>


<Format id="psm_getdiag_1">

<grammar>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Email from Stephen Cannan, 2021-12-29</comment>
<BNFdef name="get diagnostics statement">
<rhs>
<alt>
    <allAltsFrom part="02"/>
</alt>
<alt>
    <kw>GET</kw> <opt> <BNF name="which area"/> </opt> 
    <kw>DIAGNOSTICS</kw> <BNF part="02" name="SQL diagnostics information"/>
</alt>
</rhs>
</BNFdef>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<BNFdef name="which area">
<rhs>
<alt> <kw>CURRENT</kw> </alt>
<alt> <kw>STACKED</kw> </alt>
</rhs>
</BNFdef>

<comment>FCD1/1998 CAN-P04-017/USA-P04-031/JPN-P04-122, editorially</comment>
<comment>FCD1/2002, SWE-P04-003</comment>
<comment>FCD/2002 GBR-P04-030</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="condition information item name">
<rhs>
<alt> <allAltsFrom part="02"/> </alt>
<alt> <kw>CONDITION_IDENTIFIER</kw> </alt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_getdiag_2">

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD/2002 GBR-P04-040</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="SR"><last/></addRule>
</mergeWith>
If <BNF name="which area"/> is not specified, then <kw>CURRENT</kw> is implicit.
</item>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Editorial: Stephen Cannan 2020-07-29 Use correct merge instruction</comment>
<comment>Editorial: Stephen Cannan 2022-01-31 Standardize table merges</comment>
<item><mergeWith part="02">
<addRows sourceTable="psm_getdiagid_cond" targetTable="fnd_getdiagid_cond"/>
</mergeWith>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<comment>Email from Stephen Cannan, 2022-01-03 0702</comment>
<table id="psm_getdiagid_cond">
<tableTitle>Data types of <BNF name="condition information item name"/>s</tableTitle>

<table-common>

<table-setup numcols="2">
<table-coldef colnum="1" colwidth="2.2in"/>
<table-coldef colnum="2" colwidth="4.3in"/>
</table-setup>

<comment>X3H2-89-276</comment>
<comment>WG3:SIA-021 (table note deleted)</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<table-heads>
<table-head> <BNF part="02" name="identifier"/> </table-head>
<table-head> Declared Type </table-head>
</table-heads>

</table-common>

<table-body>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>WG3:SIA-021</comment>
<table-row>
<table-cell> CONDITION_IDENTIFIER </table-cell>
<table-cell> variable-length character string with <impDef code="IL001"/> maximum length
</table-cell>
</table-row>

</table-body>

</table>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_getdiag_3">

<olist>

<NoAdditional/>

</olist>

</AccessRules>


<GeneralRules id="psm_getdiag_4">

<olist>

<comment>FDIS1SP1, 2003 moved 1 Rule</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Editorial: Joern Bartels 2022-05-18 Use new merge markup</comment>
<item><mergeWith part="02">
<convertRuleToCase type="GR" ref="fnd_getdiag_GR_first">
<newSubrule>If <BNF name="which area"/> specifies <kw>STACKED</kw>, 
then let <symdef>DA</symdef> be the second diagnostics area.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><after ref="fnd_getdiag_GR_first"/></addRule>
</mergeWith>
If <BNF name="which area"/> specifies <kw>STACKED</kw> and no condition handler is
activated, then an exception condition is raised: <raise class="0Z" subclass="002"/>.
</item>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>FDIS1SP1, 2003 moved this rule and table here</comment>
<comment>Editorial: Stephen Cannan 2020-07-29 Use correct merge instruction</comment>
<comment>Editorial: Stephen Cannan 2022-01-31 Standardize table merges</comment>
<item><mergeWith part="02">
<addRows sourceTable="psm_diagcodes" targetTable="fnd_diagcodes"/>
</mergeWith>

<comment>DBL:CWB-054R1/X3H2-98-012R1</comment>
<comment>Editorial discretion to delete "character"</comment>
<table id="psm_diagcodes">
<tableTitle>SQL-statement codes</tableTitle>

<table-common>

<table-setup numcols="3">
<table-coldef colnum="1" colwidth="3.3in"/>
<table-coldef colnum="2" colwidth="2.5in"/>
<table-coldef colnum="3" colwidth="0.7in"/>
</table-setup>

<table-heads>
<table-head> SQL-statement </table-head>
<table-head> Identifier </table-head>
<table-head> Code </table-head>
</table-heads>

</table-common>

<!--
The values in this table shall be unique across all parts of SQL.
In SQL/Foundation, the corresponding table contains a comment
that has a matrix indicating which codes are assigned and which are free.
Before assigning a code, look there first!!!
-->

<table-body>

<comment>X3H2-91-083/ARL-029</comment>
<table-row>
<table-cell> <BNF name="assignment statement"/> </table-cell>
<table-cell> ASSIGNMENT </table-cell>
<table-cell> 5 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="case statement"/> </table-cell>
<table-cell> CASE </table-cell>
<table-cell> 86 </table-cell>
</table-row>

<comment>X3H2-91-083/ARL-029</comment>
<table-row>
<table-cell> <BNF name="compound statement"/> </table-cell>
<table-cell> BEGIN END </table-cell>
<table-cell> 12 </table-cell>
</table-row>

<comment>X3H2-91-083/ARL-029</comment>
<table-row>
<table-cell> <BNF name="drop module statement"/> </table-cell>
<table-cell> DROP MODULE </table-cell>
<table-cell> 28 </table-cell>
</table-row>

<comment>X3H2-93-281/MUN-057 reminded the Editor</comment>
<table-row>
<table-cell> <BNF name="for statement"/> </table-cell>
<table-cell> FOR </table-cell>
<table-cell> 46 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="if statement"/> </table-cell>
<table-cell> IF </table-cell>
<table-cell> 88 </table-cell>
</table-row>

<comment>WG3:RTM-030R1/X3H2-99-???</comment>
<table-row>
<table-cell> <BNF name="iterate statement"/> </table-cell>
<table-cell> ITERATE </table-cell>
<table-cell> 102 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="leave statement"/> </table-cell>
<table-cell> LEAVE </table-cell>
<table-cell> 89 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="loop statement"/> </table-cell>
<table-cell> LOOP </table-cell>
<table-cell> 90 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="resignal statement"/> </table-cell>
<table-cell> RESIGNAL </table-cell>
<table-cell> 91 </table-cell>
</table-row>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<table-row>
<table-cell> <BNF name="repeat statement"/> </table-cell>
<table-cell> REPEAT </table-cell>
<table-cell> 95 </table-cell>
</table-row>

<comment>DBL:RIO-053/X3H2-94-473R</comment>
<table-row>
<table-cell> <BNF name="signal statement"/> </table-cell>
<table-cell> SIGNAL </table-cell>
<table-cell> 92 </table-cell>
</table-row>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>X3H2-93-229/MUN-071</comment>
<table-row>
<table-cell> <BNF name="SQL-server module definition"/> </table-cell>
<table-cell> CREATE MODULE </table-cell>
<table-cell> 51 </table-cell>
</table-row>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<table-row>
<table-cell> <BNF name="while statement"/> </table-cell>
<table-cell> WHILE </table-cell>
<table-cell> 97 </table-cell>
</table-row>

</table-body>

</table>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><before ref="fnd_getdiag_msg_length_GR"/></addRule>
</mergeWith>
If the value of the <kw>RETURNED_SQLSTATE</kw> corresponds to <raise class="45"/>, then the value 
of <kw>CONDITION_IDENTIFIER</kw> is the <BNF name="condition name"/> of the user-defined exception.
</item>

<comment>WG3:PER-172/H2-2001-???</comment>
<comment>Email from Hugh Darwen, 2001-08-22</comment>
<comment>Editorial: Joern Bartels 2022-02-16 Use new merge markup</comment>
<item><mergeWith part="02">
<addRule type="GR"><before ref="fnd_getdiag_connsrv_GR"/></addRule>
</mergeWith>
If 
<kw>COMMAND_FUNCTION</kw> or <kw>DYNAMIC_FUNCTION</kw> identifies a <BNF name="signal statement"/>
or <BNF name="resignal statement"/>, then the values of <kw>CLASS_ORIGIN</kw>,
<kw>SUBCLASS_ORIGIN</kw>, <kw>CONSTRAINT_CATALOG</kw>, <kw>CONSTRAINT_SCHEMA</kw>, 
<kw>CONSTRAINT_NAME</kw>, <kw>CATALOG_NAME</kw>, <kw>SCHEMA_NAME</kw>, <kw>TABLE_NAME</kw>, 
<kw>COLUMN_NAME</kw>, <kw>CURSOR_NAME</kw>, <kw>MESSAGE_TEXT</kw>, <kw>MESSAGE_LENGTH</kw>, 
and <kw>MESSAGE_OCTET_LENGTH</kw> are not set as specified in <docref ref="ISO9075-2"/>, 
but instead are set as specified in <specref ref="psm_signal_statement"/>, and
<specref ref="psm_resignal_statement"/>, in this document.
</item>

</olist>

</GeneralRules>


<comment>WG3:YYJ-032 = H2-2001-___</comment>
<ConformanceRules id="psm_getdiag_5">

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:RKE-021</comment>
<item><mergeWith part="02">
<addRule type="CR">
<last/>
</addRule>
</mergeWith>
Without <feature code="P007"/>,
conforming SQL language shall not contain a <BNF name="which area"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_signal_statement" newpage="true">
<clauseHeading><BNF name="signal statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_signal_statement_0">

<para>Signal an exception condition.
</para>

</Function>


<Format id="psm_signal_statement_1">

<grammar>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<BNFdef name="signal statement">
<rhs>
<kw>SIGNAL</kw> <BNF name="signal value"/>
<opt> <BNF name="set signal information"/> </opt>
</rhs>
</BNFdef>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<BNFdef name="signal value">
<rhs>
<alt>
<BNF name="condition name"/>
</alt>
<alt>
<BNF name="sqlstate value"/>
</alt>
</rhs>
</BNFdef>

<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<BNFdef name="set signal information">
<rhs>
<kw>SET</kw> <BNF name="signal information item list"/>
</rhs>
</BNFdef>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<BNFdef name="signal information item list">
<rhs>
<BNF name="signal information item"/> 
<opt> 
<group> <BNF part="02" name="comma"/> <BNF name="signal information item"/> </group><repeat/> 
</opt>
</rhs>
</BNFdef>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<BNFdef name="signal information item">
<rhs>
<BNF name="condition information item name"/> <BNF part="02" name="equals operator"/> 
<BNF name="simple value specification"/>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_signal_statement_2">

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Case:

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If <BNF name="signal value"/> immediately contains <BNF name="condition name"/>, then:

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>CN</symdef> be the <BNF name="condition name"/> contained in the
<BNF name="signal statement"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:MCI-048/X3H2-96-082</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<item>The <BNF name="signal statement"/> shall be contained in the scope of 
a <BNF name="condition name"/> equivalent to <sym>CN</sym>.
Let <symdef>CNS</symdef> be the innermost such scope.
</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Otherwise, let <symdef>C</symdef> be the <kw>SQLSTATE</kw> value defined by
<BNF name="sqlstate value"/> and let <symdef>CN</symdef> be a zero-length string.
</item>

</olist>

</item>

<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>Email from Paul Cotton on 6-Jan-1999 re:FCD1 SneakPeek1</comment>
<comment>CD1/2001, GBR-P04-100, editorially</comment>
<comment>WG3:PER-172/H2-2001-???</comment>
<item><BNF name="condition information item name"/> shall specify
<kw>CLASS_ORIGIN</kw>, <kw>SUBCLASS_ORIGIN</kw>, <kw>CONSTRAINT_CATALOG</kw>, 
<kw>CONSTRAINT_SCHEMA</kw>, <kw>CONSTRAINT_NAME</kw>, <kw>CATALOG_NAME</kw>, <kw>SCHEMA_NAME</kw>, 
<kw>TABLE_NAME</kw>, <kw>COLUMN_NAME</kw>, <kw>CURSOR_NAME</kw>, or <kw>MESSAGE_TEXT</kw>.
No alternative for <BNF name="condition information item name"/> shall be specified more than 
once in <BNF name="set signal information"/>.
</item>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<item>The data type of a <BNF name="condition information item name"/> contained in
<BNF name="signal information item"/> shall be the data type specified in
<specref ref="psm_getdiagid_cond"/>.
</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_signal_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_signal_statement_4">

<olist>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>FCD/2002 GBR-P04-060</comment>
<comment>WG3:DRS-113/H2-2002-477</comment>
<item>The first diagnostics area is emptied and the following changes are
made to statement information items in the first diagnostics area:

<olist>

<comment>WG3:DRS-113/H2-2002-477</comment>
<item><kw>NUMBER</kw> is set to 1 (one).
</item>

<comment>WG3:DRS-113/H2-2002-477</comment>
<item><kw>MORE</kw> is set to <string>N</string>.
</item>

<comment>WG3:DRS-113/H2-2002-477</comment>
<item><kw>COMMAND_FUNCTION</kw> is set to <string><kw>SIGNAL</kw></string>.
</item>

<comment>WG3:DRS-113/H2-2002-477</comment>
<item><kw>DYNAMIC_FUNCTION</kw> is set to a zero-length string.
</item>

</olist>

</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Let <symdef>CA</symdef> be the first condition area in the first diagnostics area.
The condition information item <kw>CONDITION_IDENTIFIER</kw> in <sym>CA</sym> is set to 
<sym>CN</sym>.

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<para>Case:
</para>

<olist>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>If <sym>CN</sym> is considered to be defined for an <kw>SQLSTATE</kw> value,
then the condition information item <kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym> is
set to the value for which <sym>CN</sym> is considered to be defined
within <sym>CNS</sym>.

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>Email from Hugh Darwen, 2001-08-22</comment>
<note><quote>considered to be defined for</quote> is defined in
<specref ref="psm_condition_declaration"/>.
</note>

</item>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>If <BNF name="sqlstate value"/> is specified, then the condition information
item <kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym> is set to <BNF name="sqlstate value"/>.
</item>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Otherwise, the condition information item <kw>RETURNED_SQLSTATE</kw> in
<sym>CA</sym> is set to a zero-length string.
</item>

</olist>

</item>

<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>The condition information items <kw>CLASS_ORIGIN</kw>, <kw>SUBCLASS_ORIGIN</kw>,
<kw>CONSTRAINT_CATALOG</kw>, <kw>CONSTRAINT_SCHEMA</kw>, <kw>CONSTRAINT_NAME</kw>, 
<kw>CATALOG_NAME</kw>, <kw>SCHEMA_NAME</kw>, <kw>TABLE_NAME</kw>, <kw>COLUMN_NAME</kw>, 
<kw>CURSOR_NAME</kw>, and <kw>MESSAGE_TEXT</kw> in <sym>CA</sym> are set to a zero-length string.
The condition information items <kw>MESSAGE_LENGTH</kw> and <kw>MESSAGE_OCTET_LENGTH</kw> in 
<sym>CA</sym> are set to 0 (zero).
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_signal_statement_GR_applyExtSC1">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Condition handling mode becomes in effect in the SQL-session.
</item>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>Editorial: Replace mono tag with code tag (2004-09-03)</comment>
<item>If <BNF name="set signal information"/> is specified, then let <symdef>SSI</symdef> be 
the <BNF name="set signal information"/>.
Otherwise, let <symdef>SSI</symdef> be a zero-length string.
The following <BNF name="resignal statement"/> is effectively executed without further 
Syntax Rule checking:

<code>
<kw>RESIGNAL</kw> <sym>SSI</sym>
</code>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_signal_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P214"/>, conforming
SQL language shall not contain a <BNF name="signal statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-91-179</comment>
<subClause id="psm_resignal_statement" newpage="true">
<clauseHeading><BNF name="resignal statement"/></clauseHeading>

<bodyMatter>


<Function id="psm_resignal_statement_0">

<para>Resignal an exception condition.
</para>

</Function>


<Format id="psm_resignal_statement_1">

<grammar>

<comment>DBL:RIO-106/X3H2-94-505R</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<BNFdef name="resignal statement">
<rhs>
<kw>RESIGNAL</kw>
<opt> <BNF name="signal value"/> </opt>
<opt> <BNF name="set signal information"/> </opt>
</rhs>
</BNFdef>

</grammar>

</Format>


<SyntaxRules id="psm_resignal_statement_2">

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>RS</symdef> be the <BNF name="resignal statement"/>.
</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If <BNF name="signal value"/> is specified, then

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<para>Case:
</para>

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>If <BNF name="signal value"/> immediately contains <BNF name="condition name"/>,
then:

<olist>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Let <symdef>CN</symdef> be the <BNF name="condition name"/> contained in <sym>RS</sym>.
</item>

<comment>DBL:MCI-049/X3H2-96-083</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>Editorially inserted "of", 2008-06-02</comment>
<item>The <BNF name="resignal statement"/> shall be contained within the scope of 
a <BNF name="condition name"/> equivalent to <sym>CN</sym>.
Let <symdef>CNS</symdef> be the innermost such scope.
</item>

</olist>

</item>

<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<item>Otherwise, let <symdef>C</symdef> be the <kw>SQLSTATE</kw> value defined by
<BNF name="sqlstate value"/> and let <symdef>CN</symdef> be a zero-length string.
</item>

</olist>

</item>

</olist>

</SyntaxRules>


<AccessRules id="psm_resignal_statement_3">

<olist>

<None/>

</olist>

</AccessRules>


<GeneralRules id="psm_resignal_statement_4">

<olist>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>DBL:MCI-161/X3H2-96-322:2.10</comment>
<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>Email from Krishna Kulkarni, 2-Nov-1999</comment>
<comment>WG3:PER-063/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>If condition handling mode is not in effect, then an exception
condition is raised: <raise class="0K"/>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>Stephen Cannan (2004-10-25) apply symarg tags</comment>
<comment>Stephen Cannan (2005-05-21) adjust for new symarg tags</comment>
<item id="psm_resignal_statement_GR_applyExtSC1">The
<applyExtSC rules="GR" ref="fnd_pushpopdiag" part="02">
  <extsymarg param="OPERATION">PUSH</extsymarg>
  <extsymarg param="STACK">the diagnostics area stack</extsymarg>
</applyExtSC>.
</item>

<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Let <symdef>DA</symdef> be the first diagnostics area, let <symdef>SA</symdef>
be the statement area in <sym>DA</sym>, and let <symdef>CA</symdef> be the
first condition area in <sym>DA</sym>.
</item>

<comment>WG3:SQL-056 = DM32.2-2011-00___ moved 1 Rule</comment>
<comment>DBL:MAD-074/X3H2-96-418</comment>
<comment>X3H2-95-178/DBL:YOW-048, X3H2-95-201/DBL:YOW-049R, and X3H2-95-179R2/DBL:YOW-050R</comment>
<comment>DBL:RIO-029.USA-8/X3H2-94-315R</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:PER-063/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD/2002 GBR-P04-080</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<item>If <BNF name="signal value"/> is specified, then:

<olist>

<comment>WG3:DRS-120/H2-2002-484</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The statement information item <kw>NUMBER</kw> in <sym>SA</sym> is incremented by 1 (one).
</item>

<comment>WG3:DRS-120/H2-2002-484</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>FCD1/2010, P04-USA-040</comment>
<item>If the maximum number of condition areas for diagnostics areas has been reached,
then the statement information item <kw>MORE</kw> in <sym>SA</sym> is set to <string>Y</string>
and the last condition area in <sym>DA</sym> is made vacant.
</item>

<comment>WG3:DRS-120/H2-2002-484</comment>
<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<comment>Editorial: Stephen Cannan, 2024-02-23 Correct symbols</comment>
<item>Let <symdef>N</symdef> be the maximum number of condition areas for diagnostics areas.
For <symdef>i</symdef> ranging from <sym>N</sym>&minus;1 to 1 (one),
copy the contents of the <sym>i</sym>-th condition area into the <sym>i</sym>+1-th condition area.

<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<note>After evaluation of the preceding General Rule,
the first and second condition areas in <sym>DA</sym> have identical contents;
<sym>CA</sym> still identifies the first condition area.
</note>

</item>

<comment>Editor directed to resolve DIS ballot "editorial" comments</comment>
<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD/2002 GBR-P04-090</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<item>The statement information item <kw>COMMAND_FUNCTION</kw> in <sym>SA</sym>
is set to <string><kw>RESIGNAL</kw></string>.
The statement information item <kw>DYNAMIC_FUNCTION</kw> in <sym>SA</sym>
is set to a zero-length string.
The condition information item <kw>CONDITION_IDENTIFIER</kw> in <sym>CA</sym>
is set to <sym>CN</sym>.

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<para>Case:
</para>

<olist>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD/2002 GBR-P04-100</comment>
<comment>FCD/2002 CAN-P04-003</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<item>If <sym>CN</sym> is considered to be defined for an <kw>SQLSTATE</kw> value,
then the condition information item <kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym>
is set to the <kw>SQLSTATE</kw> value for which <sym>CN</sym> is considered to be
defined within <sym>CNS</sym>.

<comment>WG3:PER-062R2/H2-2001-???</comment>
<note><quote>considered to be defined</quote> is defined in
<specref ref="psm_condition_declaration"/>.
</note>

</item>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>Email from Hugh Darwen, 2001-08-22</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<item>If <BNF name="sqlstate value"/> is specified, then the condition information
item <kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym> is set to <BNF name="sqlstate value"/>.
</item>

<comment>WG3:PER-062R2/H2-2001-???</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FCD/2002 GBR-P04-110</comment>
<comment>WG3:DRS-120/H2-2002-484</comment>
<item>Otherwise, the condition information item <kw>RETURNED_SQLSTATE</kw> in
<sym>CA</sym> is set to a zero-length string.
</item>

</olist>

</item>

</olist>

</item>

<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<item>If <BNF name="set signal information"/> is specified, then for each
<BNF name="signal information item"/> in <BNF name="set signal information"/>:

<olist>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<item>The condition information item in <sym>CA</sym> identified by the
<BNF name="condition information item name"/> is set to the value of the
<BNF name="simple value specification"/>.
</item>

<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>WG3:SQL-056 = DM32.2-2011-00___</comment>
<item>If the <BNF name="condition information item name"/> specifies <kw>MESSAGE_TEXT</kw>, then the
condition information items <kw>MESSAGE_LENGTH</kw> and <kw>MESSAGE_OCTET_LENGTH</kw> in
<sym>CA</sym> are set to contain the length in characters and the length
in octets of the value of the <BNF name="simple value specification"/>,
respectively.
</item>

</olist>

</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>Case:

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>If the condition information item <kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym>
is not the zero-length string, then:

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial, 2021-04-01, Jim Melton clarified 'that value'</comment>
<item>Let <symdef>S</symdef> be the value of the condition information item 
<kw>RETURNED_SQLSTATE</kw> in <sym>CA</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial from Paul Cotton in email, 14 Dec 1999</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>If a handler <symdef>H</symdef> is the most appropriate handler for <sym>S</sym>, then the
<applySC rules="GR" ref="psm_handler_execution">
  <symarg param="MOST APPROPRIATE HANDLER"><sym>H</sym></symarg>
</applySC>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 JPN-P04-055</comment>
<comment>Email from Peter Gulutzan, 2010-12-30</comment>
<item>If no handler is activated and <sym>S</sym> identifies an <kw>SQLSTATE</kw>
value associated with an exception condition <symdef>EC</symdef>, then this is 
an <newterm>unhandled exception condition</newterm> and the
<BNF part="02" name="SQL procedure statement"/> that resulted in execution of <sym>RS</sym>
is terminated with the exception condition <sym>EC</sym>.

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<note>If <sym>S</sym> identifies an <kw>SQLSTATE</kw> value associated with a completion
condition, then this is an <newterm>unhandled completion condition</newterm> and
processing continues without altering the flow of control.
</note>

</item>

</olist>

</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<item>Otherwise:

<olist>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>Let <symdef>E</symdef> be the value of the <kw>CONDITION_IDENTIFIER</kw> item in
<sym>CA</sym>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>Editorial from Hugh Darwen in email, 2000-11-23</comment>
<comment>CD1/2001, GBR-P04-150</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<comment>WG3:NRT-042R1 = DM32.2-2015-00___</comment>
<item>If a handler <symdef>H</symdef> is the most appropriate handler for <sym>E</sym>, then the
<applySC rules="GR" ref="psm_handler_execution">
  <symarg param="MOST APPROPRIATE HANDLER"><sym>H</sym></symarg>
</applySC>.
</item>

<comment>DBL:LGW-083R1/X3H2-97-161R2</comment>
<comment>FCD1/1998 JPN-P04-055</comment>
<comment>WG3:YYJ-032 = H2-2001-___</comment>
<item>If there is no appropriate handler for <sym>E</sym>, then this is 
an <newterm>unhandled exception condition</newterm> and the
<BNF part="02" name="SQL procedure statement"/> that resulted in execution of <sym>RS</sym>
is terminated with the exception condition <raise class="45"/>.
</item>

</olist>

</item>

</olist>

</item>

</olist>

</GeneralRules>


<ConformanceRules id="psm_resignal_statement_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:W10-021R3</comment>
<item>Without <feature code="P215"/>, conforming SQL language shall not contain 
a <BNF name="resignal statement"/>.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>

</clause>


<comment>FCD1/1998 USA-P02-362, editorially</comment>
<clause id="psm_stabs">
<clauseHeading>Information Schema</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="11" ref="schem_stabs"/>


<comment>Editorial; 2022-06-09</comment>
<subClause id="psm_stabs_artifact">
<clauseHeading>Information Schema digital artifact</clauseHeading>

<modifiesPart part="11" ref="schem_stabs_artifact"/>

<bodyMatter>

<comment>Editorial; 2022-06-09</comment>
<para><mergeWith part="11">
<addPara position="after" ref="schem_stabs_intro_para_artifact"/>
</mergeWith>
<digitalArtifact type="SDL"/>
</para>

</bodyMatter>

</subClause>


<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_module_column_usage_view">
<clauseHeading>MODULE_COLUMN_USAGE view</clauseHeading>

<bodyMatter>

<Function id="psm_module_column_usage_view_0">

<para>Identify the columns owned by a given user on which SQL-server modules
defined in this catalog are dependent.
</para>

</Function>

<Definition id="psm_module_column_usage_view_1">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:TXL-016</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>VIEW</kw> MODULE_COLUMN_USAGE <kw>AS</kw>
    <kw>SELECT</kw> MCU.MODULE_CATALOG, MCU.MODULE_SCHEMA, MCU.MODULE_NAME,
           MCU.TABLE_CATALOG, MCU.TABLE_SCHEMA, MCU.TABLE_NAME, MCU.COLUMN_NAME
    <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_COLUMN_USAGE AS MCU
      <kw>JOIN</kw>
         DEFINITION_SCHEMA.SCHEMATA <kw>AS</kw> S
      <kw>ON</kw> ( ( MCU.TABLE_CATALOG, MCU.TABLE_SCHEMA ) =
           ( S.CATALOG_NAME, S.SCHEMA_NAME ) )
    <kw>WHERE</kw> ( S.SCHEMA_OWNER = <kw>CURRENT_USER</kw>
          <kw>OR</kw>
            S.SCHEMA_OWNER <kw>IN</kw>
            ( <kw>SELECT</kw> ER.ROLE_NAME
              <kw>FROM</kw> ENABLED_ROLES <kw>AS</kw> ER ) )
       <kw>AND</kw>
          MCU.MODULE_CATALOG =
          ( <kw>SELECT</kw> ISCN.CATALOG_NAME
            <kw>FROM</kw> INFORMATION_SCHEMA_CATALOG_NAME <kw>AS</kw> ISCN );
            
<kw>GRANT</kw> <kw>SELECT</kw> <kw>ON</kw> <kw>TABLE</kw> MODULE_COLUMN_USAGE
    <kw>TO</kw> <kw>PUBLIC</kw> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>;
</schemacode>

</Definition>


<ConformanceRules id="psm_module_column_usage_view_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="F341"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_COLUMN_USAGE.
</item>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:DCA-013 deleted one entry</comment>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P003"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_COLUMN_USAGE.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-059R1/X3H2-96-098R1</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_module_privileges_view" newpage="true">
<clauseHeading>MODULE_PRIVILEGES view</clauseHeading>

<bodyMatter>


<Function id="psm_module_privileges_view_0">

<comment>DBL:MCI-059R1/X3H2-96-098R1</comment>
<para>Identify the privileges on SQL-server modules defined in this catalog that
are available to or granted by a given user.
</para>

</Function>

<Definition id="psm_module_privileges_view_1">

<comment>WG3:STX-050 DCOR/2004 WG3-P04-002</comment>
<comment>DBL:MCI-059R1/X3H2-96-098R1</comment>
<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>DCOR 2000, SWE-STC-069</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>VIEW</kw> MODULE_PRIVILEGES <kw>AS</kw>
    <kw>SELECT</kw>
      GRANTOR, GRANTEE, MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME,
      PRIVILEGE_TYPE, IS_GRANTABLE
    <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_PRIVILEGES
    <kw>WHERE</kw> ( GRANTEE <kw>IN</kw>
            ( <string><kw>PUBLIC</kw></string>, <kw>CURRENT_USER</kw> )
          <kw>OR</kw>
            GRANTEE <kw>IN</kw>
              ( <kw>SELECT</kw> ROLE_NAME
                <kw>FROM</kw> ENABLED_ROLES )
          <kw>OR</kw>
            GRANTOR = <kw>CURRENT_USER</kw>
          <kw>OR</kw>
            GRANTOR <kw>IN</kw>
              ( <kw>SELECT</kw> ROLE_NAME
                <kw>FROM</kw> ENABLED_ROLES ) )
        <kw>AND</kw>
          MODULE_CATALOG =
          ( <kw>SELECT</kw> CATALOG_NAME
            <kw>FROM</kw> INFORMATION_SCHEMA_CATALOG_NAME );
<kw>GRANT</kw> <kw>SELECT</kw> <kw>ON</kw> <kw>TABLE</kw> MODULE_PRIVILEGES
    <kw>TO</kw> <kw>PUBLIC</kw> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>;
</schemacode>

</Definition>


<ConformanceRules id="psm_module_privileges_view_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="F231"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_PRIVILEGES.
</item>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>Editorially changed PRIVILETES to PRIVILEGES, 2009-06-21</comment>
<item>Without <feature code="P003"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_PRIVILEGES.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_module_table_usage_view" newpage="true">
<clauseHeading>MODULE_TABLE_USAGE view</clauseHeading>

<bodyMatter>


<Function id="psm_module_table_usage_view_0">

<para>Identify the tables owned by a given user on which SQL-server modules
defined in this catalog are dependent.
</para>

</Function>

<Definition id="psm_module_table_usage_view_1">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:TXL-016</comment>
<comment>FCD1/2010, P04-DEU-020</comment>
<comment>FCD1/2010, P04-DEU-030</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>VIEW</kw> MODULE_TABLE_USAGE <kw>AS</kw>
    <kw>SELECT</kw> MTU.MODULE_CATALOG, MTU.MODULE_SCHEMA, MTU.MODULE_NAME,
           MTU.TABLE_CATALOG, MTU.TABLE_SCHEMA, MTU.TABLE_NAME
    <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_TABLE_USAGE <kw>AS</kw> MTU
      <kw>JOIN</kw>
         DEFINITION_SCHEMA.SCHEMATA <kw>AS</kw> S
      <kw>ON</kw> ( ( MTU.TABLE_CATALOG, MTU.TABLE_SCHEMA ) =
           ( S.CATALOG_NAME, S.SCHEMA_NAME ) )
    <kw>WHERE</kw> ( S.SCHEMA_OWNER = <kw>CURRENT_USER</kw>
          <kw>OR</kw>
            S.SCHEMA_OWNER <kw>IN</kw>
            ( <kw>SELECT</kw> ER.ROLE_NAME
              <kw>FROM</kw> ENABLED_ROLES <kw>AS</kw> ER ) )
       <kw>AND</kw>
          MTU.MODULE_CATALOG =
          ( <kw>SELECT</kw> ISCN.CATALOG_NAME
            <kw>FROM</kw> INFORMATION_SCHEMA_CATALOG_NAME <kw>AS</kw> ISCN );
<kw>GRANT</kw> <kw>SELECT</kw> <kw>ON</kw> <kw>TABLE</kw> MODULE_TABLE_USAGE
    <kw>TO</kw> <kw>PUBLIC</kw> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>;
</schemacode>

</Definition>


<ConformanceRules id="psm_module_table_usage_view_5">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="F341"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_TABLE_USAGE.
</item>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P003"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULE_TABLE_USAGE.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>X3H2-94-289/SOU-139</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_modules_view" newpage="true">
<clauseHeading>MODULES view</clauseHeading>

<bodyMatter>


<Function id="psm_modules_view_0">

<para>Identify the SQL-server modules in this catalog that are accessible to a given user.
</para>

</Function>

<Definition id="psm_modules_view_1">

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MCI-200/X3H2-96-340</comment>
<comment>DBL:RIO-048/X3H2-94-437</comment>
<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>DCOR 2000, SWE-STC-070</comment>
<comment>Email from Ake Persson, 2000-11-06</comment>
<comment>WG3:VIE-044 = H2-2002-___</comment>
<comment>WG3:ICN-039 = H2-2002-___</comment>
<comment>WG3:BWU-026 = H2-2008-___</comment>
<comment>FCD1/2010, P04-DEU-040</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>VIEW</kw> MODULES <kw>AS</kw>
    <kw>SELECT</kw> MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME,
           DEFAULT_CHARACTER_SET_CATALOG, DEFAULT_CHARACTER_SET_SCHEMA,
           DEFAULT_CHARACTER_SET_NAME,
           DEFAULT_SCHEMA_CATALOG, DEFAULT_SCHEMA_NAME,
           <kw>CASE</kw>
             <kw>WHEN</kw> <kw>EXISTS</kw> (
               <kw>SELECT</kw> *
               <kw>FROM</kw> DEFINITION_SCHEMA.SCHEMATA <kw>AS</kw> S
               <kw>WHERE</kw> ( MODULE_CATALOG, MODULE_SCHEMA ) =
                     ( S.CATALOG_NAME, S.SCHEMA_NAME )
                 <kw>AND</kw>
                     ( S.SCHEMA_OWNER = <kw>CURRENT_USER</kw>
                   <kw>OR</kw>
                     S.SCHEMA_OWNER <kw>IN</kw>
                     ( <kw>SELECT</kw> ROLE_NAME
                       <kw>FROM</kw> ENABLED_ROLES ) ) )
             <kw>THEN</kw> MODULE_DEFINITION
             <kw>ELSE</kw> <kw>NULL</kw>
           <kw>END</kw> <kw>AS</kw> MODULE_DEFINITION,
           MODULE_AUTHORIZATION, SQL_PATH, CREATED
    <kw>FROM</kw> DEFINITION_SCHEMA.MODULES
    <kw>WHERE</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME ) <kw>IN</kw>
            ( <kw>SELECT</kw> MP.MODULE_CATALOG, MP.MODULE_SCHEMA, MP.MODULE_NAME
              <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_PRIVILEGES <kw>AS</kw> MP
              <kw>WHERE</kw> ( MP.GRANTEE <kw>IN</kw>
                      ( <string><kw>PUBLIC</kw></string>, <kw>CURRENT_USER</kw> )
                  <kw>OR</kw>
                    MP.GRANTEE <kw>IN</kw>
                    ( <kw>SELECT</kw> ROLE_NAME
                      <kw>FROM</kw> ENABLED_ROLES ) ) )
      <kw>AND</kw>
          MODULE_CATALOG =
          ( <kw>SELECT</kw> CATALOG_NAME
            <kw>FROM</kw> INFORMATION_SCHEMA_CATALOG_NAME );
            
<kw>GRANT</kw> <kw>SELECT</kw> <kw>ON</kw> <kw>TABLE</kw> MODULES
    <kw>TO</kw> <kw>PUBLIC</kw> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>;
</schemacode>

</Definition>


<comment>WG3:PER-171/H2-2001-???</comment>
<ConformanceRules id="psm_modules_view_2">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:DCA-013 deleted one entry</comment>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P003"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.MODULES.
</item>

<comment>WG3:PER-171/H2-2001-???</comment>
<comment>Email from Ake Persson, 2001-10-04</comment>
<comment>WG3:DRS-027R3/H2-2002-___</comment>
<comment>WG3:CMH-030 = DM32.2-2017-00___</comment>
<comment>Editorial: Joern Bartels 2022-01-01 standardized Column Conformance Rules</comment>
<item>Without <feature code="T011"/>, conforming SQL
language shall not reference the following columns in the view INFORMATION_SCHEMA.MODULES:
<olist>
<item>CREATED.
</item>
</olist>
</item>

<comment>WG3:CMH-030 = DM32.2-2017-00___ deleted 1 Rule</comment>
</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<subClause id="psm_parameters_view" newpage="true">
<clauseHeading>PARAMETERS view</clauseHeading>

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="11" ref="schem_parameters_view"/>

<bodyMatter>

<Function id="psm_parameters_view_0">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<para>Identify the SQL parameters of SQL-invoked routines defined in this
catalog that are accessible to a given user or role.
</para>

</Function>

<Definition id="psm_parameters_view_1">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>Use new mergeWith markup</comment>
<para><mergeWith part="11">
<insertCode position="after" type="Defn">
<currentText>
<schemacode>
                          <kw>FROM</kw> ENABLED_ROLES <kw>AS</kw> ER ) ) ) )
</schemacode>
</currentText>
</insertCode>
</mergeWith>
</para>

<comment>STX-050 DCOR/2004 WG3-P04-003</comment>
<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>WG3:TXL-032</comment>
<schemacode artifact="yes">
          <kw>OR</kw>
            ( ( R.MODULE_CATALOG, R.MODULE_SCHEMA, R.MODULE_NAME ) <kw>IS</kw> <kw>NOT</kw> <kw>NULL</kw>
            <kw>AND</kw>
              ( R.MODULE_CATALOG, R.MODULE_SCHEMA, R.MODULE_NAME ) <kw>IN</kw>
                ( <kw>SELECT</kw> MP.MODULE_CATALOG, MP.MODULE_SCHEMA, MP.MODULE_NAME
                  <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_PRIVILEGES <kw>AS</kw> MP
                  <kw>WHERE</kw> ( MP.GRANTEE <kw>IN</kw>
                          ( <string><kw>PUBLIC</kw></string>, <kw>CURRENT_USER</kw> )
                        <kw>OR</kw>
                          MP.GRANTEE <kw>IN</kw>
                          ( <kw>SELECT</kw> ER.ROLE_NAME
                            <kw>FROM</kw> ENABLED_ROLES <kw>AS</kw> ER ) ) ) )
</schemacode>

</Definition>


<ConformanceRules id="psm_parameters_5">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<subClause id="psm_rolemod_grants_view" newpage="true">
<clauseHeading>ROLE_MODULE_GRANTS view</clauseHeading>

<bodyMatter>


<Function id="psm_rolemod_grants_view_0">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<para>Identify the privileges on SQL-server modules defined in this catalog that
are available to or granted by the currently enabled roles.
</para>

</Function>

<Definition id="psm_rolemod_grants_view_1">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>VIEW</kw> ROLE_MODULE_GRANTS <kw>AS</kw>
    <kw>SELECT</kw> GRANTOR, GRANTEE, MODULE_CATALOG,
           MODULE_SCHEMA, MODULE_NAME, PRIVILEGE_TYPE,
           IS_GRANTABLE
    <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_PRIVILEGES
    <kw>WHERE</kw> ( GRANTEE <kw>IN</kw>
            ( <kw>SELECT</kw> ROLE_NAME
              <kw>FROM</kw> ENABLED_ROLES )
          <kw>OR</kw>
            GRANTOR <kw>IN</kw>
            ( <kw>SELECT</kw> ROLE_NAME
              <kw>FROM</kw> ENABLED_ROLES ) )
       <kw>AND</kw>
          MODULE_CATALOG =
          ( <kw>SELECT</kw> CATALOG_NAME
            <kw>FROM</kw> INFORMATION_SCHEMA_CATALOG_NAME );
<kw>GRANT</kw> <kw>SELECT</kw> <kw>ON</kw> <kw>TABLE</kw> ROLE_MODULE_GRANTS
    <kw>TO</kw> <kw>PUBLIC</kw> <kw>WITH</kw> <kw>GRANT</kw> <kw>OPTION</kw>;
</schemacode>

</Definition>


<ConformanceRules id="psm_rolemod_grants_view_2">

<olist>

<comment>WG3:DRS-027R3/H2-2002-___</comment>
<item>Without <feature code="P003"/>, conforming
SQL language shall not reference the view INFORMATION_SCHEMA.ROLE_MODULE_GRANTS.
</item>

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>Jim Melton changed code T322 to T332 to align with Foundation, 2009-01-14</comment>
<item>Without <feature code="T332"/>, conforming SQL language
shall not reference the view INFORMATION_SCHEMA.ROLE_MODULE_GRANTS.
</item>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<subClause id="psm_routines_view" newpage="true">
<clauseHeading>ROUTINES view</clauseHeading>

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="11" ref="schem_routines_view"/>

<bodyMatter>

<Function id="psm_routines_view_0">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<para>Identify the SQL-invoked routines in this catalog that are accessible to a given user 
or role.
</para>

</Function>

<Definition id="psm_routines_view_1">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>WG3:CJU-024R1 = H2-2009-00144R2</comment>
<comment>Apply proper mergeWith markup</comment>
<para><mergeWith part="11">
<insertCode position="after" type="Defn">
<currentText>
<schemacode>
    <kw>WHERE</kw> (
</schemacode>
</currentText>
</insertCode>
</mergeWith>
</para>

<schemacode artifact="yes">
            ( (
</schemacode>

<comment>Apply proper mergeWith markup</comment>
<para><mergeWith part="11">
<insertCode position="after" type="Defn">
<currentText>
<schemacode>
                            <kw>FROM</kw> ENABLED_ROLES ) ) )
</schemacode>
</currentText>
</insertCode>
</mergeWith>
</para>

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<schemacode artifact="yes">
                                                     )
          <kw>OR</kw>
            ( ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME) <kw>IS</kw> <kw>NOT</kw> <kw>NULL</kw>
              <kw>AND</kw>
              ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME ) <kw>IN</kw>
                ( <kw>SELECT</kw> MP.MODULE_CATALOG, MP.MODULE_SCHEMA, MP.MODULE_NAME
                  <kw>FROM</kw> DEFINITION_SCHEMA.MODULE_PRIVILEGES <kw>AS</kw> MP
                  <kw>WHERE</kw> ( MP.GRANTEE <kw>IN</kw>
                          ( <string><kw>PUBLIC</kw></string>, <kw>CURRENT_USER</kw> )
                        <kw>OR</kw>
                          MP.GRANTEE <kw>IN</kw>
                          ( <kw>SELECT</kw> ROLE_NAME
                            <kw>FROM</kw> ENABLED_ROLES ) ) ) ) )
</schemacode>

</Definition>


<ConformanceRules id="psm_routines_5">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<olist>

<NoAdditional/>

</olist>

</ConformanceRules>

</bodyMatter>

</subClause>


<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:DCA-013 deleted an entire subclause</comment>

</clause>


<clause id="psm_sit_base_tables">
<clauseHeading>Definition Schema</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="11" ref="schem_sit_base_tables"/>


<comment>Editorial; 2022-06-09</comment>
<subClause id="psm_sit_base_tables_artifact">
<clauseHeading>Definition Schema digital artifact</clauseHeading>

<modifiesPart part="11" ref="schem_sit_base_tables_artifact"/>

<bodyMatter>

<comment>Editorial; 2022-06-09</comment>
<para><mergeWith part="11">
<addPara position="after" ref="schem_sit_base_tables_para_artifact"/>
</mergeWith>
<digitalArtifact type="SDL"/>
</para>

</bodyMatter>

</subClause>


<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_modcolusage_base_table">
<clauseHeading>MODULE_COLUMN_USAGE base table</clauseHeading>

<bodyMatter>


<Function id="psm_modcolusage_base_table_0">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:URC-052</comment>
<para>The MODULE_COLUMN_USAGE table has one row for each column of a table that is explicitly or 
implicitly identified in the <BNF part="02" name="SQL routine body"/> of an SQL-server module.
</para>

</Function>

<Definition id="psm_modcolusage_base_table_1">

<comment>DBL:CWB-012/X3H2-98-091</comment>
<comment>FCD1/1998 CAN-P04-019</comment>
<comment>WG3:URC-052</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>TABLE</kw> MODULE_COLUMN_USAGE (
    MODULE_CATALOG      INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_SCHEMA       INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_NAME         INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_CATALOG       INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_SCHEMA        INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_NAME          INFORMATION_SCHEMA.SQL_IDENTIFIER,
    COLUMN_NAME         INFORMATION_SCHEMA.SQL_IDENTIFIER,
    <kw>CONSTRAINT</kw> MODULE_COLUMN_USAGE_PRIMARY_KEY
      <kw>PRIMARY</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME,
                    TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME ),
    <kw>CONSTRAINT</kw> MODULE_COLUMN_USAGE_CHECK_REFERENCES_COLUMNS
      <kw>CHECK</kw> ( TABLE_CATALOG &lt;&gt;
              <kw>ANY</kw> ( <kw>SELECT</kw> CATALOG_NAME
                    <kw>FROM</kw> SCHEMATA )
          <kw>OR</kw>
            ( TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME ) <kw>IN</kw>
              ( <kw>SELECT</kw> TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME
                <kw>FROM</kw> COLUMNS ) ),
    <kw>CONSTRAINT</kw> MODULE_COLUMN_USAGE_FOREIGN_KEY_MODULE_TABLE_USAGE
      <kw>FOREIGN</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME,
                    TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME )
        <kw>REFERENCES</kw> MODULE_TABLE_USAGE
    )
</schemacode>

</Definition>


<Description id="psm_modcolusage_base_table_2">

<olist>

<comment>WG3:URC-052</comment>
<item>The MODULE_COLUMN_USAGE table has one row for
each column <symdef>COL</symdef> of a table <symdef>TAB</symdef>
identified by a column reference or column name contained in the
<BNF part="02" name="SQL routine body"/> of an SQL-server module 
<symdef>SM</symdef> being described.
</item>

<comment>WG3:URC-052</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The values of MODULE_CATALOG, MODULE_SCHEMA, and MODULE_NAME are
the catalog name, unqualified schema name, and qualified identifier, respectively, of 
<sym>SM</sym>.
</item>

<comment>WG3:URC-052</comment>
<item>The values of TABLE_CATALOG, TABLE_SCHEMA, and TABLE_NAME are the catalog name,
unqualified schema name, and qualified identifier, respectively, of <sym>TAB</sym>.
</item>

<comment>WG3:URC-052</comment>
<item>The value of COLUMN_NAME is the name of the column <sym>COL</sym>.
</item>

</olist>

</Description>


<comment>WG3:GLA-043R2 = DM32.2-2014-00xxx implication</comment>
<TablePopulation id="psm_modcolusage_base_table_3">

<olist>

<None/>

</olist>

</TablePopulation>

</bodyMatter>

</subClause>


<comment>X3H2-94-289/SOU-139</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_modprivs_base_table" newpage="true">
<clauseHeading>MODULE_PRIVILEGES base table</clauseHeading>

<bodyMatter>


<Function id="psm_modprivs_base_table_0">

<comment>FCD1/1998 JPN-P04-065</comment>
<para>The MODULE_PRIVILEGES table has one row for each execute privilege
descriptor on an SQL-server module.
It effectively contains a representation of the execute privilege descriptors.
</para>

</Function>

<Definition id="psm_modprivs_base_table_1">

<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>Editorial liberty and Amelia's homework</comment>
<comment>FCD1/1998 CAN-P04-021</comment>
<comment>WG3:SIA-048R1</comment>
<comment>WG3:JFK-085 = H2-2007-___</comment>
<comment>FCD1/2010, P04-DEU-060</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>TABLE</kw> MODULE_PRIVILEGES (
      GRANTOR                INFORMATION_SCHEMA.SQL_IDENTIFIER,
      GRANTEE                INFORMATION_SCHEMA.SQL_IDENTIFIER,
      MODULE_CATALOG         INFORMATION_SCHEMA.SQL_IDENTIFIER,
      MODULE_SCHEMA          INFORMATION_SCHEMA.SQL_IDENTIFIER,
      MODULE_NAME            INFORMATION_SCHEMA.SQL_IDENTIFIER,
      PRIVILEGE_TYPE         INFORMATION_SCHEMA.CHARACTER_DATA
        <kw>CONSTRAINT</kw> MODULE_PRIVILEGES_TYPE_CHECK
          <kw>CHECK</kw> ( PRIVILEGE_TYPE = <string><kw>EXECUTE</kw></string> ),
      IS_GRANTABLE           INFORMATION_SCHEMA.YES_OR_NO
        <kw>CONSTRAINT</kw> MODULE_PRIVILEGES_GRANTABLE_NOT_NULL
            <kw>NOT</kw> <kw>NULL</kw>,
      <kw>CONSTRAINT</kw> MODULE_PRIVILEGES_PRIMARY_KEY
        <kw>PRIMARY</kw> <kw>KEY</kw> ( GRANTOR, GRANTEE, MODULE_CATALOG, MODULE_SCHEMA,
                      MODULE_NAME ),
      <kw>CONSTRAINT</kw> MODULE_PRIVILEGES_FOREIGN_KEY_TABLES
        <kw>FOREIGN</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME )
          <kw>REFERENCES</kw> MODULES,
      <kw>CONSTRAINT</kw> MODULE_PRIVILEGE_GRANTOR_CHECK
        <kw>CHECK</kw> ( GRANTOR = <string>_SYSTEM</string>
              <kw>OR</kw>
                GRANTOR <kw>IN</kw>
                ( <kw>SELECT</kw> AUTHORIZATION_NAME
                  <kw>FROM</kw> AUTHORIZATIONS ) ),
      <kw>CONSTRAINT</kw> MODULE_PRIVILEGE_GRANTEE_CHECK
        <kw>CHECK</kw> ( GRANTEE = <string>PUBLIC</string>
              <kw>OR</kw>
                GRANTEE <kw>IN</kw>
                ( <kw>SELECT</kw> AUTHORIZATION_NAME
                  <kw>FROM</kw> AUTHORIZATIONS ) )
    )
</schemacode>

</Definition>


<Description id="psm_modprivs_base_table_2">

<olist>

<comment>FCD1/1998 JPN-P04-065</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<comment>WG3:JFK-085 = H2-2007-___</comment>
<item>The value of GRANTOR is the <BNF part="02" name="authorization identifier"/> of the user
or role who granted execute privileges on the SQL-server module identified by MODULE_CATALOG, 
MODULE_SCHEMA, and MODULE_NAME to the user or role identified by the value of GRANTEE for the 
privilege being described, or <delimId>_SYSTEM</delimId> to indicate that the privileges were 
granted to the authorization identifier of the creator of the object on which the privileges 
were granted.
</item>

<comment>FCD1/1998 JPN-P04-065</comment>
<comment>DBL:CWB-013R2+015R2+016R2+058R2+059R3+060R2/X3H2-98-056+058+059+088+092+093</comment>
<item>The value of GRANTEE is the <BNF part="02" name="authorization identifier"/> of some
user or role, or <quote><kw>PUBLIC</kw></quote> to indicate all users, to whom the
privilege being described is granted.
</item>

<item>The values of MODULE_CATALOG, MODULE_SCHEMA, and MODULE_NAME are the
catalog name, unqualified schema name, and qualified identifier,
respectively, of the SQL-server module on which the privilege being
described has been granted.
</item>

<item>The values of PRIVILEGE_TYPE have the following meanings:

<lbllist lblwidth="1.0in" indent="yes">

<lblitem label="EXECUTE">The user has EXECUTE privilege on the SQL-server
module identified by MODULE_CATALOG, MODULE_SCHEMA, and MODULE_NAME.
</lblitem>

</lbllist>

</item>

<item>The values of IS_GRANTABLE have the following meanings:

<lbllist lblwidth="1.0in" indent="yes">

<lblitem label="YES">The privilege being described was granted
WITH GRANT OPTION and is thus grantable.
</lblitem>

<lblitem label="NO">The privilege being described was not granted
WITH GRANT OPTION and is thus not grantable.
</lblitem>

</lbllist>

</item>

</olist>

</Description>


<comment>WG3:GLA-043R2 = DM32.2-2014-00xxx implication</comment>
<TablePopulation id="psm_modprivs_base_table_3">

<olist>

<None/>

</olist>

</TablePopulation>

</bodyMatter>

</subClause>


<comment>X3H2-94-289/SOU-139</comment>
<comment>DBL:MCI-037/X3H2-96-168</comment>
<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_modtabusage_base_table" newpage="true">
<clauseHeading>MODULE_TABLE_USAGE base table</clauseHeading>

<bodyMatter>


<Function id="psm_modtabusage_base_table_0">

<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>FCD/2002 CAN-P04-004</comment>
<comment>WG3:URC-052</comment>
<para>The MODULE_TABLE_USAGE table has one row for each table identified by 
a <BNF part="02" name="table name"/> contained in a <BNF part="02" name="table reference"/> that 
is contained in the <BNF part="02" name="SQL routine body"/> of an SQL-server module.
</para>

</Function>

<Definition id="psm_modtabusage_base_table_1">

<schemacode artifact="yes">
<kw>CREATE</kw> <kw>TABLE</kw> MODULE_TABLE_USAGE (
    MODULE_CATALOG      INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_SCHEMA       INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_NAME         INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_CATALOG       INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_SCHEMA        INFORMATION_SCHEMA.SQL_IDENTIFIER,
    TABLE_NAME          INFORMATION_SCHEMA.SQL_IDENTIFIER,
    <kw>CONSTRAINT</kw> MODULE_TABLE_USAGE_PRIMARY_KEY
      <kw>PRIMARY</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME,
                    TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME ),
    <kw>CONSTRAINT</kw> MODULE_TABLE_USAGE_CHECK_REFERENCES_TABLES
      <kw>CHECK</kw> ( TABLE_CATALOG &lt;&gt;
              <kw>ANY</kw> ( <kw>SELECT</kw> CATALOG_NAME
                    <kw>FROM</kw> SCHEMATA )
            <kw>OR</kw>
              ( TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME ) <kw>IN</kw>
                ( <kw>SELECT</kw> TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME
                  <kw>FROM</kw> TABLES ) ),
    <kw>CONSTRAINT</kw> MODULE_TABLE_USAGE_FOREIGN_KEY_MODULES
      <kw>FOREIGN</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME )
       <kw>REFERENCES</kw> MODULES
    )
</schemacode>

</Definition>


<Description id="psm_modtabusage_base_table_2">

<olist>

<comment>WG3:URC-052</comment>
<item>The MODULE_TABLE_USAGE table has one row for each table <symdef>TAB</symdef> identified by 
a <BNF part="02" name="table name"/> contained in the <BNF part="02" name="SQL routine body"/> of 
an SQL-server module <symdef>SM</symdef> being described.
</item>

<comment>WG3:URC-052</comment>
<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<item>The values of MODULE_CATALOG, MODULE_SCHEMA, and MODULE_NAME are
the catalog name, unqualified schema name, and qualified identifier, respectively, of 
<sym>SM</sym>.
</item>

<comment>WG3:URC-052</comment>
<item>The values of TABLE_CATALOG, TABLE_SCHEMA, and TABLE_NAME are the catalog name,
unqualified schema name, and qualified identifier, respectively, of <sym>TAB</sym>.
</item>

</olist>

</Description>


<comment>WG3:GLA-043R2 = DM32.2-2014-00xxx implication</comment>
<TablePopulation id="psm_modtabusage_base_table_3">

<olist>

<None/>

</olist>

</TablePopulation>

</bodyMatter>

</subClause>


<comment>FCD1/1998 USA-P02-362, editorially</comment>
<subClause id="psm_modules_base_table" newpage="true">
<clauseHeading>MODULES base table</clauseHeading>

<bodyMatter>


<Function id="psm_modules_base_table_0">

<para>The MODULES base table has one row for each SQL-server module.
</para>

</Function>


<Definition id="psm_modules_base_table_1">

<comment>WG3:STX-050 DCOR/2004 WG3-P04-002</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<comment>DBL:MCI-200/X3H2-96-340</comment>
<comment>DBL:RIO-048/X3H2-94-437</comment>
<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:BWU-026 = H2-2008-___</comment>
<schemacode artifact="yes">
<kw>CREATE</kw> <kw>TABLE</kw> MODULES (
    MODULE_CATALOG              INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_SCHEMA               INFORMATION_SCHEMA.SQL_IDENTIFIER,
    MODULE_NAME                 INFORMATION_SCHEMA.SQL_IDENTIFIER,
    DEFAULT_CHARACTER_SET_CATALOG INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> MODULES_DEFAULT_CHARACTER_SET_CATALOG_NOT_NULL
        <kw>NOT</kw> <kw>NULL</kw>,
    DEFAULT_CHARACTER_SET_SCHEMA  INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> MODULES_DEFAULT_CHARACTER_SET_SCHEMA_NOT_NULL
        <kw>NOT</kw> <kw>NULL</kw>,
    DEFAULT_CHARACTER_SET_NAME    INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> MODULES_DEFAULT_CHARACTER_SET_NAME_NOT_NULL
        <kw>NOT</kw> <kw>NULL</kw>,
    DEFAULT_SCHEMA_CATALOG        INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> MODULES_DEFAULT_SCHEMA_CATALOG_NOT_NULL
        <kw>NOT</kw> <kw>NULL</kw>,
    DEFAULT_SCHEMA_NAME           INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> MODULES_DEFAULT_SCHEMA_NAME_NOT_NULL
        <kw>NOT</kw> <kw>NULL</kw>,
    MODULE_DEFINITION             INFORMATION_SCHEMA.CHARACTER_DATA,
    MODULE_AUTHORIZATION          INFORMATION_SCHEMA.SQL_IDENTIFIER
      <kw>CONSTRAINT</kw> AUTHORIZATION_FOREIGN_KEY_AUTHORIZATIONS <kw>REFERENCES</kw> AUTHORIZATIONS,
    SQL_PATH                      INFORMATION_SCHEMA.CHARACTER_DATA,
    CREATED                       INFORMATION_SCHEMA.TIME_STAMP,
    <kw>CONSTRAINT</kw> MODULES_PRIMARY_KEY
      <kw>PRIMARY</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME ),
    <kw>CONSTRAINT</kw> MODULES_FOREIGN_KEY_SCHEMATA
      <kw>FOREIGN</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA )
        <kw>REFERENCES</kw> SCHEMATA,
    <kw>CONSTRAINT</kw> MODULES_FOREIGN_KEY_CHARACTER_SETS
      <kw>FOREIGN</kw> <kw>KEY</kw> ( DEFAULT_CHARACTER_SET_CATALOG, DEFAULT_CHARACTER_SET_SCHEMA,
                    DEFAULT_CHARACTER_SET_NAME )
        <kw>REFERENCES</kw> CHARACTER_SETS,
    <kw>CONSTRAINT</kw> MODULES_FOREIGN_KEY_DEFAULT_SCHEMA_SCHEMATA
      <kw>FOREIGN</kw> <kw>KEY</kw> ( DEFAULT_SCHEMA_CATALOG, DEFAULT_SCHEMA_NAME )
        <kw>REFERENCES</kw> SCHEMATA
    )
</schemacode>

</Definition>


<Description id="psm_modules_base_table_2">

<olist>

<comment>FCD1/1998 JPN-P04-058</comment>
<item>The values of MODULE_CATALOG, MODULE_SCHEMA, and MODULE_NAME are the
catalog name, unqualified schema name, and qualified identifier,
respectively, of the module name of the SQL-server module being described.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The values of DEFAULT_CHARACTER_SET_CATALOG,
DEFAULT_CHARACTER_SET_SCHEMA, and DEFAULT_CHARACTER_SET_NAME are the
catalog name, unqualified schema name, and qualified identifier,
respectively, of the character set identified by the implicit or explicit
<BNF name="SQL-server module character set specification"/>.
</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>The values of DEFAULT_SCHEMA_CATALOG, and DEFAULT_SCHEMA_NAME are the
catalog name, and unqualified schema name, respectively, of the schema
identified by the implicit or explicit
<BNF name="SQL-server module schema clause"/>.
</item>

<item>Case:

<olist>

<item>If the character representation of the
<BNF name="SQL-server module definition"/> that defined the SQL-server module being
described can be represented without truncation, then the value of
MODULE_DEFINITION is that character representation.
</item>

<item>Otherwise, the value of MODULE_DEFINITION is the null value.
</item>

</olist>

<note>Any implicit <BNF part="02" name="column reference"/>s that were contained in the
<BNF name="SQL-server module definition"/> are replaced by explicit
<BNF part="02" name="column reference"/>s in MODULE_DEFINITION.
</note>

</item>

<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>Case:

<olist>

<item>If <kw>AUTHORIZATION</kw> was specified in 
<BNF part="02" name="module authorization clause"/> in the SQL-server module being described, 
then the value of MODULE_AUTHORIZATION is <BNF part="02" name="module authorization identifier"/>.
</item>

<item>Otherwise, the value of MODULE_AUTHORIZATION is the null value.
</item>

</olist>

</item>

<comment>DBL:MCI-200/X3H2-96-340</comment>
<item>Case:

<olist>

<comment>DBL:MCI-200/X3H2-96-340</comment>
<comment>DBL:MAD-078/X3H2-96-421R1, amended by DBL:MAD-110r1</comment>
<item>If <BNF name="SQL-server module path specification"/> was specified in the
<BNF name="SQL-server module definition"/> that defined the SQL-server module
described by this row and the character representation of the
<BNF name="SQL-server module path specification"/> can be represented without
truncation, then the value of SQL_PATH is that character representation.
</item>

<comment>DBL:MCI-200/X3H2-96-340</comment>
<item>Otherwise, the value of SQL_PATH is the null value.
</item>

</olist>

</item>

<comment>DBL:RIO-048/X3H2-94-437</comment>
<comment>WG3:FRA-032/FRA-037/FRA-044/FRA-045/FRA-046/FRA-052/FRA-056/FRA-078/FRA-083/FRA-097/
FRA-097/FRA-101/FRA-104/FRA-108/FRA-125/FRA-129/FRA-138
</comment>
<comment>WG3:URC-059</comment>
<item>The value of CREATED is:

<para>Case:
</para>

<olist>

<item id="psm_modules_base_table_DESC_T011">If <feature code="T011"/>,
is supported and the SQL-implementation knows the value of 
<kw>CURRENT_TIMESTAMP</kw> at the time that the SQL-server module being described was created, 
then that value.
</item>

<item>Otherwise, the NULL value.
</item>

</olist> 

</item>

<comment>WG3:BWU-026 = H2-2008-___ deleted 1 Description</comment>
</olist>

</Description>


<comment>WG3:GLA-043R2 = DM32.2-2014-00xxx implication</comment>
<TablePopulation id="psm_modules_base_table_3">

<olist>

<None/>

</olist>

</TablePopulation>

</bodyMatter>

</subClause>


<comment>WG3:DRS-136/H2-2002-___</comment>
<subClause id="psm_routines_base_table" newpage="true">
<clauseHeading>ROUTINES base table</clauseHeading>

<comment>WG3:DRS-136/H2-2002-___</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="11" ref="schem_routines_base_table"/>

<bodyMatter>

<Function id="psm_routines_base_table_0">

<comment>WG3:DRS-136/H2-2002-___</comment>
<para>The ROUTINES base table has one row for each SQL-invoked routine.
</para>

</Function>

<Definition id="psm_routines_base_table_1">

<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<para><mergeWith part="11">
<insertCode type="Defn" position="after">
<currentText>
<schemacode>
    );
</schemacode>
</currentText>
</insertCode>
</mergeWith>
</para>

<comment>WG3:DRS-136/H2-2002-___</comment>
<comment>WG3:ZSH-051R2 = H2-2003-___</comment>
<comment>WG3:UTC-013 P04-DEU-001</comment>
<schemacode artifact="yes">
    <kw>ALTER</kw> <kw>TABLE</kw> ROUTINES
      <kw>ADD</kw> <kw>CONSTRAINT</kw> ROUTINES_FOREIGN_KEY_MODULES
        <kw>FOREIGN</kw> <kw>KEY</kw> ( MODULE_CATALOG, MODULE_SCHEMA, MODULE_NAME )
        <kw>REFERENCES</kw> MODULES
          <kw>MATCH</kw> <kw>FULL</kw>;
</schemacode>

</Definition>


<Description id="psm_routines_base_table_2">

<olist>

<comment>WG3:DRS-136/H2-2002-___</comment>
<item><mergeWith part="11">
<convertRuleToCase type="Desc" ref="schem_routines_bt_DESC_modname">
<newSubrule>
If the SQL-invoked routine being described was defined in an SQL-server module, then the 
values of MODULE_CATALOG, MODULE_SCHEMA, and
MODULE_NAME are the fully qualified module name of this SQL-server module.
</newSubrule>
</convertRuleToCase>
</mergeWith>
</item>

</olist>

</Description>


<TablePopulation id="psm_routines_base_table_3">

<olist>

<comment>Editorial: Stephen Cannan 2024-02-19</comment>
<NoAdditional/>

</olist>

</TablePopulation>

</bodyMatter>

</subClause>


<comment>Jim deleted the SQL_CONFORMANCE base table 2020-08-03 because only rule was inappropriate
</comment>

</clause>


<clause id="psm_status">
<clauseHeading>Status codes</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_status"/>


<subClause id="psm_state">
<clauseHeading>SQLSTATE</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial: use correct tag, 2006-01-06</comment>
<modifiesPart part="02" ref="fnd_state"/>

<bodyMatter>

<para>All condition codes that are raised by specifications contained in this document
are documented in <specref ref="psm_sqlstatevals"/>. 
<digitalArtifact type="Conditions"/>
</para>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<comment>Editorial decision, 2020-06-07, to apply this uniformly, all parts</comment>
<comment>Editorial: Stephen Cannan 2020-07-29 Use correct merge instruction</comment>
<comment>Editorial: Stephen Cannan 2022-01-31 Standardize table merges</comment>
<para><mergeWith part="02">
<addRows sourceTable="psm_sqlstatevals" targetTable="fnd_sqlstatevals"/>
</mergeWith>
</para>

<comment>Editor overhaul of how conditions are raised and summarized, 2020-06-08</comment>
<conditionsTable id="psm_sqlstatevals">
<tableTitle>SQLSTATE class and subclass codes</tableTitle>
<conditionsFrom part="02"/>
</conditionsTable>

</bodyMatter>

</subClause>

</clause>


<clause id="psm_conform">
<clauseHeading>Conformance</clauseHeading>

<comment>Editorial, Jim Melton, 2021-08-01</comment>
<modifiesPart part="02" ref="fnd_conform"/>


<comment>WG3:W10-021R3 deleted the "modifies" statement</comment>
<subClause id="psm_conformance_claims">
<clauseHeading>Claims of conformance to SQL/PSM</clauseHeading>

<bodyMatter>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<para>In addition to the requirements of <docref ref="ISO9075-1"/>,
<extref part="01" ref="frm_conform"/>, a claim of conformance to this document shall:
</para>

<olist>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<item>Claim conformance to <feature code="P002"/>.
</item>

</olist>

</bodyMatter>

</subClause>


<comment>WG3:DRS-040R3/H2-2002-___</comment>
<subClause id="psm_conformance_additional">
<clauseHeading>Additional conformance requirements for SQL/PSM</clauseHeading>

<bodyMatter>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<para>There are no additional conformance requirements for this document.
</para>

</bodyMatter>

</subClause>


<comment>WG3:DRS-040R3/H2-2002-___</comment>
<subClause id="psm_implied_featurerelations">
<clauseHeading>Implied feature relationships of SQL/PSM</clauseHeading>

<bodyMatter>

<comment>Editorial, Jim Melton, 2020-11-23</comment>
<para>In order for an SQL-implementation to claim conformance to certain features
defined in this document, it must also claim conformance to certain other features
&mdash; called <quote>implied features</quote> &mdash; of the SQL language.  
These relationships are specified in <specref ref="psm_implied_features"/>. 
</para>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table id="psm_implied_features">
<tableTitle>Implied feature relationships of SQL/PSM</tableTitle>

<table-common>

<table-setup numcols="4">
<table-coldef colnum="1" colwidth="0.8in"/>
<table-coldef colnum="2" colwidth="2.4in"/>
<table-coldef colnum="3" colwidth="0.8in"/>
<table-coldef colnum="4" colwidth="2.5in"/>
</table-setup>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-heads>
<table-head> Feature ID </table-head>
<table-head> Feature Name </table-head>
<table-head> Implied Feature ID </table-head>
<table-head> Implied Feature Name </table-head>
</table-heads>

</table-common>

<table-body>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P001" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P001" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P202" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P202" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P203" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P203" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P204" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P204" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P205" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P205" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P206" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P206" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P207" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P207" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P208" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P208" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P209" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P209" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P210" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P210" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P211" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P211" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P212" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P212" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P213" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P213" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P214" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P214" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P215" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P215" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P216" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P216" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P003" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P003" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P001" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P001" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P004" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P004" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P005" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P005" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P006" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P006" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<table-row>
<table-cell> <feature code="P007" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P007" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:PEK-024 = DM32.2-2014-00___</comment>
<table-row>
<table-cell> <feature code="P008" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P008" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P002" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P202" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P202" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P203" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P203" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P204" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P204" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P205" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P205" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P206" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P206" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P207" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P207" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P208" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P208" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P209" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P209" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P210" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P210" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P211" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P211" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P212" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P212" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P213" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P213" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P214" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P214" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P215" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P215" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <feature code="P216" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P216" textOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" codeOnly="yes"/> </table-cell>
<table-cell> <feature code="P201" textOnly="yes"/> </table-cell>
</table-row>




</table-body>

</table>

</bodyMatter>

</subClause>


<comment>WG3:W10-021R3</comment>
<comment>Editorial: Stephen Cannan 2022-06-28</comment>
<comment>WG3:UTC-048r1 entire subclause deleted</comment>
</clause>

</standardPartBody>


<comment>WG3:BBN-085R1/X3H2-98-232R2</comment>
<backMatter>


<annex id="psm_conform_summary" normative="informative">
<comment>WG3:UTC-013 P04-ISO-014</comment>
<clauseHeading>SQL conformance summary</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_conform_summary"/>

<bodyMatter>

<comment>WG3:BBN-085R1/X3H2-98-232R2</comment>
<comment>WG3:ARN-035 = H2-3002-___</comment>
<para>The contents of this Annex summarizes all Conformance Rules, ordered by
Feature ID and by Subclause.
</para>

<comment>WG3:W10-021R3 deleted 1 paragraph and 1 table</comment>
<comment>WG3:W10-021R3</comment>
<para>Most optional Features of this document are specified by Conformance Rules,
which are summarized later in this Annex.
<specref ref="psm_features_without_CRs_table"/>,
lists the Features of this document that are specified by Rules
other than Conformance Rules. 
Note that some Features appearing in
<specref ref="psm_features_without_CRs_table"/>,
may also have Conformance Rules.
</para>

<comment>WG3:W10-021R3</comment>
<table id="psm_features_without_CRs_table">
<tableTitle>Feature definitions outside of Conformance Rules</tableTitle>

<table-common>

<comment>WG3:W10-021R3</comment>
<table-setup numcols="3">
<table-coldef colnum="1" colwidth="1.0in"/>
<table-coldef colnum="2" colwidth="2.0in"/>
<table-coldef colnum="3" colwidth="4.0in"/>
</table-setup>

<comment>WG3:W10-021R3</comment>
<table-heads>
<table-head>Feature ID</table-head>
<table-head>Feature Name</table-head>
<table-head>Applicable Rule(s)</table-head>
</table-heads>

</table-common>

<table-body>

<comment>Editorial; Jim Melton, 2022-07-11</comment>
<table-row>
<table-cell> <bold><feature code="T011" codeOnly="yes"/></bold> </table-cell>
<table-cell> <bold><feature code="T011" textOnly="yes"/></bold> </table-cell>
<table-cell> <specref ref="psm_modules_base_table"/>,
             <itemref type="Desc" ref="psm_modules_base_table_DESC_T011"/> </table-cell>
</table-row>

<comment>WG3:W10-021R3</comment>
<table-row>
<table-cell> <bold><feature code="P002" codeOnly="yes"/></bold> </table-cell>
<table-cell> <bold><feature code="P002" textOnly="yes"/></bold> </table-cell>
<table-cell> <specref ref="psm_implied_features"/> </table-cell>
</table-row>

</table-body>

</table>

<comment>WG3:W10-021R3</comment>
<para>The remainder of this Annex recapitulates the Conformance Rules specified in
Subclauses throughout this document, organized by feature name and Subclause.
</para>

</bodyMatter>

<conformanceSummary/>

</annex>


<annex id="psm_impdef" normative="informative">
<clauseHeading><impDef annex="no" code="None" cap="yes"/> elements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_impdef"/>

<bodyMatter>

<comment>Instructions on FCD from John Spangler</comment>
<comment>WG3:ARN-035 = H2-3002-___</comment>
<comment>Editorial; 2022-06-09</comment>
<para>This Annex consolidates those features that are identified in the body of
this document as <impDef annex="no" code="None"/>.
<digitalArtifact type="ImpDef"/>
</para>

<para>The term <impDef annex="no" code="None"/> is used to identify
characteristics that may differ between SQL-implementations, but that
shall be defined for each particular SQL-implementation.
</para>

</bodyMatter>

<impDefSummary/>

</annex>


<annex id="psm_undef" normative="informative">
<clauseHeading><unDef annex="no" code="None" cap="yes"/> elements</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_undef"/>

<bodyMatter>

<comment>Instructions on FCD from John Spangler</comment>
<comment>WG3:ARN-035 = H2-3002-___</comment>
<comment>Editorial; 2022-06-09</comment>
<para>This Annex references those places where this document states
explicitly that the actions of a conforming SQL-implementation are
<unDef annex="no" code="None"/>.
<digitalArtifact type="UnDef"/>
</para>

<para>The term <unDef annex="no" code="None"/> is used to identify
characteristics that may differ between SQL-implementations, but that are not
necessarily specified for a particular SQL-implementation.
</para>

</bodyMatter>

<unDefSummary/>

</annex>


<comment>DBL:LGW-113/X3H2-97-237R1</comment>
<comment>WG3:DRS-040R3/H2-2002-___</comment>
<comment>FDIS1SP1, 2003</comment>
<annex id="psm_taxonomy" normative="informative">
<comment>WG3:W12-024</comment>
<clauseHeading>SQL optional feature taxonomy</clauseHeading>

<modifiesPart part="02" ref="fnd_taxonomy"/>

<bodyMatter>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<comment>WG3:W12-024</comment>
<para>This Annex describes a taxonomy of the optional features defined in this document.
</para>

<comment>Instructions on FCD from John Spangler</comment>
<comment>Editorially align text with other parts</comment>
<comment>WG3:KMG-061 = DM32.2-2010-___</comment>
<comment>Editorial; 2022-06-09</comment>
<para><specref ref="psm_noncore_taxonomy_table"/>, contains a taxonomy of the features
of the SQL language not in Core SQL that are specified in this document.
<digitalArtifact type="Features"/>
</para>

<comment>Editorially align text with other parts</comment>
<comment>WG3:UTC-013 P04-ISO-013</comment>
<para>In this table, the first column contains a counter that may
be used to quickly locate rows of the table; these values otherwise have
no use and are not stable &mdash; that is, they are subject to change in
future editions of or even Technical Corrigenda to the ISO/IEC 9075 series without
notice.
</para>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<para>The <quote>Feature ID</quote> column of this table specifies the formal
identification of each feature and each subfeature contained in the table.
</para>

<comment>WG3:RTM-031R1/X3H2-99-???</comment>
<comment>WG3:DRS-040R3/H2-2002-___</comment>
<para>The <quote>Feature Name</quote> column of this table contains a brief
description of the feature or subfeature associated with the Feature ID value.
</para>

<comment>WG3:DRS-040R3/H2-2002-___</comment>
<comment>Paragraph moved before table to align with Foundation</comment>
<para><specref ref="psm_noncore_taxonomy_table"/>, does not provide definitions
of the features; the definition of those features is found in the
Conformance Rules that are further summarized in
<specref ref="psm_conform_summary"/>.
</para>

<comment>WG3:W12-024 deleted 1 paragraph</comment>
<comment>WG3:W11-009/P11-NLD-005 caused use of featuresTable markup</comment>
<featuresTable id="psm_noncore_taxonomy_table">
<tableTitle>Feature taxonomy for optional features</tableTitle>
</featuresTable>

</bodyMatter>

</annex>


<comment>WG3:URC-059</comment>
<annex id="psm_deprcat" normative="informative">
<clauseHeading>Deprecated features</clauseHeading>

<modifiesPart part="02" ref="fnd_deprcat"/>

<bodyMatter>

<para>It is intended that the following features will be removed at a later
date from a revised version of this document:
</para>

<olist>

<comment>WG3:BWU-026 = H2-2008-___ deleted 1 list item</comment>
<comment>WG3:BER-053R1</comment>
<comment>WG3:DCA-013 deleted one entry</comment>

<None/>

</olist>

</bodyMatter>

</annex>


<comment>FDIS1SP1, 2003 deleted 1 Annex</comment>
<comment>FDIS1SP1, 2003</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<comment>CD2/2006, USA-P04-040</comment>
<annex id="psm_incompat" normative="informative">
<clauseHeading>Incompatibilities with ISO/IEC 9075:2016</clauseHeading>

<comment>Editorial response to ITTF request, 2000-10-20</comment>
<modifiesPart part="02" ref="fnd_incompat"/>

<bodyMatter>

<comment>Instructions on FCD from John Spangler</comment>
<comment>Email from Jan-Eike Michels, 2006-02-16</comment>
<comment>WG3:UTC-013 P01-ISO-012</comment>
<comment>WG3:UTC-013 P16-DEU-023</comment>
<para>This document introduces some incompatibilities with the earlier version of 
Database Language SQL as specified in ISO/IEC 9075:2016.
</para>

<comment>WG3:UTC-013 P16-DEU-023</comment>
<para>Except as specified in this Annex, features and capabilities of 
Database Language SQL are compatible with ISO/IEC 9075:2016.
</para>

<olist>

<comment>WG3:USN-024, P04-DEU-030</comment>
<comment>WG3:UTC-013 P04-DEU-003</comment>
<comment>WG3:DCA-013 added one item</comment>
<item>The <quote>Short name views</quote> have been removed as they are no longer necessary
since the minimum identifier length required for conformance to this document
is now long enough to accommodate all identifiers used by the regular information schema views.
</item>

</olist>

</bodyMatter>

</annex>


<comment>Annex G added by action taken at the SAF meeting, 2003-01, provided by Hugh Darwen and 
Jan-Eike Michels
</comment>
<annex normative="informative" id="psm_defects">
<clauseHeading>Defect Reports not addressed in this edition of this document</clauseHeading>

<modifiesPart part="02" ref="fnd_defects"/>

<bodyMatter>

<para>Each entry in this Annex describes a reported defect in the previous edition of this 
document that remains in this edition.
</para>

<olist>

<comment>WG3:W21-056R3 deleted 1 list element</comment>
<comment>WG3:WLG-043R1 item deleted</comment>
<comment>WG3:W21-056R3</comment>
<None/>

</olist>

</bodyMatter>

</annex>


<comment>Email from Jan-Eike Michels, 2007-08-27, deleted the bibliography (9075-11 already in 
Normative References)
</comment>
<comment>Joern Bartels 2023-03-07 email from Jan Michels deleted corrigenda</comment>

</backMatter>

<index/>

<!-- Include the Editor Notes file here -->
&ednotes;

</standard>
